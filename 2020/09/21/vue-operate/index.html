<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> 34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡ Â· æ­¥æ­¥èµ°</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="Vueç»„ä»¶é€šä¿¡ã€æ“ä½œç¬¦ã€é€šç”¨æ€§ã€ä¼˜é›…æ€§ã€$eventã€å¼€å‘æŠ€å·§ã€‚"><meta name="keywords" content="Vueç»„ä»¶é€šä¿¡ã€æ“ä½œç¬¦ã€é€šç”¨æ€§ã€ä¼˜é›…æ€§ã€$eventã€å¼€å‘æŠ€å·§ã€‚"><meta name="author" content="typeR"><link rel="short icon" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/favicon.ico"><link rel="stylesheet" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="https://bubuzou.com/atom.xml" title="æ­¥æ­¥èµ°"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="æ­¥æ­¥èµ°" type="application/atom+xml">
</head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/logo.svg"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="åšæ–‡" class="nav-list-link">åšæ–‡</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="å½’æ¡£" class="nav-list-link">å½’æ¡£</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡</h1><div class="post-info">2020-09-21<p id="busuanzi_container_page_pv" class="visit"><span id="busuanzi_value_page_pv"> </span><span>æ¬¡è®¿é—®</span></p></div><div class="post-content"><p>è¿™æ˜¯æˆ‘å­¦ä¹ æ•´ç†çš„å…³äº <code>Vue.js</code> ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼Œå¦å¤–è¿˜æœ‰ä¸¤ç¯‡åˆ†åˆ«æ˜¯å…³äºä¼˜åŒ–å’ŒåŸç†çš„ã€‚å¸Œæœ›è¯»å®Œè¿™ 3 ç¯‡æ–‡ç« ï¼Œä½ èƒ½å¯¹ <code>Vue</code> æœ‰ä¸ªæ›´æ·±å…¥çš„è®¤è¯†ã€‚</p>
<h2 id="7-ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰"><a href="#7-ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰" class="headerlink" title="7 ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰"></a>7 ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰</h2><p>ç»„ä»¶é€šä¿¡æ˜¯ <code>Vue</code> çš„æ ¸å¿ƒçŸ¥è¯†ï¼ŒæŒæ¡è¿™å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼Œé¢è¯•å¼€å‘ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚</p>
<h3 id="props-on-emit"><a href="#props-on-emit" class="headerlink" title="props/@on+$emit"></a>props/@on+$emit</h3><p>ç”¨äºå®ç°çˆ¶å­ç»„ä»¶é—´é€šä¿¡ã€‚é€šè¿‡ <code>props</code> å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- parent.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<a id="more"></a>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.vue</span></span><br><span class="line">props: &#123;</span><br><span class="line">    title: &#123;</span><br><span class="line">        type: <span class="built_in">String</span>,</span><br><span class="line">        <span class="keyword">default</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¸€æ¥ <code>this.title</code> å°±ç›´æ¥æ‹¿åˆ°ä»çˆ¶ç»„ä»¶ä¸­ä¼ è¿‡æ¥çš„ <code>title</code> çš„å€¼äº†ã€‚æ³¨æ„ï¼Œä½ ä¸åº”è¯¥åœ¨å­ç»„ä»¶å†…éƒ¨ç›´æ¥æ”¹å˜ <code>prop</code>ï¼Œè¿™é‡Œå°±ä¸å¤šèµ˜è¿°ï¼Œ<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-props.html#%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81">å¯ä»¥ç›´æ¥çœ‹å®˜ç½‘ä»‹ç»</a>ã€‚</p>
<p>è€Œé€šè¿‡ <code>@on+$emit</code> ç»„åˆå¯ä»¥å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- parent.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> @<span class="attr">changeTitle</span>=<span class="string">&quot;changeTitle&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.vue</span></span><br><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;changeTitle&#x27;</span>, <span class="string">&#x27;bubuzou.com&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="attrså’Œ-listeners"><a href="#attrså’Œ-listeners" class="headerlink" title="$attrså’Œ$listeners"></a>$attrså’Œ$listeners</h3><p><code>Vue_2.4</code> ä¸­æ–°å¢çš„ <code>$attrs/$listeners</code> å¯ä»¥è¿›è¡Œè·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚<br><code>$attrs</code> åŒ…å«äº†çˆ¶çº§ä½œç”¨åŸŸä¸­ä¸ä½œä¸º <code>prop</code> çš„å±æ€§ç»‘å®šï¼ˆ<code>class</code> å’Œ <code>style</code> é™¤å¤–ï¼‰ï¼Œå¥½åƒå¬èµ·æ¥æœ‰äº›ä¸å¥½ç†è§£ï¼Ÿæ²¡äº‹ï¼Œçœ‹ä¸‹ä»£ç å°±çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ index.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">list</span> <span class="attr">class</span>=<span class="string">&quot;list-box&quot;</span> <span class="attr">title</span>=<span class="string">&quot;æ ‡é¢˜&quot;</span> <span class="attr">desc</span>=<span class="string">&quot;æè¿°&quot;</span> <span class="attr">:list</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç»„ä»¶ list.vue</span></span><br><span class="line">props: &#123;</span><br><span class="line">    list: [],</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$attrs)  <span class="comment">// &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸Šé¢çš„çˆ¶ç»„ä»¶ <code>index.vue</code> ä¸­æˆ‘ä»¬ç»™å­ç»„ä»¶ <code>list.vue</code> ä¼ é€’äº† 4 ä¸ªå‚æ•°ï¼Œä½†æ˜¯åœ¨å­ç»„ä»¶å†…éƒ¨ <code>props</code> é‡Œåªå®šä¹‰äº†ä¸€ä¸ª <code>list</code>ï¼Œé‚£ä¹ˆæ­¤æ—¶ <code>this.$attrs</code> çš„å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆè¦å»é™¤ <code>props</code> ä¸­å·²ç»ç»‘å®šäº†çš„ï¼Œç„¶åå†å»é™¤ <code>class</code> å’Œ <code>style</code>ï¼Œæœ€åå‰©ä¸‹ <code>title</code> å’Œ <code>desc</code> ç»“æœå’Œæ‰“å°çš„æ˜¯ä¸€è‡´çš„ã€‚<br>åŸºäºä¸Šé¢ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨ç»™ <code>list.vue</code> ä¸­åŠ ä¸€ä¸ªå­ç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ list.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">detail</span> <span class="attr">v-bind</span>=<span class="string">&quot;$attrs&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">detial</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­™å­ç»„ä»¶ detail.vue</span></span><br><span class="line"><span class="comment">// ä¸å®šä¹‰propsï¼Œç›´æ¥æ‰“å° $attrs</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.$attrs)  <span class="comment">// &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å­ç»„ä»¶ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª <code>v-bind=&quot;$attrs&quot;</code> å¯ä»¥æŠŠçˆ¶çº§ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå»é™¤ <code>props</code>ã€<code>class</code> å’Œ <code>style</code> ä¹‹åå‰©ä¸‹çš„ç»§ç»­å¾€ä¸‹çº§ä¼ é€’ï¼Œè¿™æ ·å°±å®ç°äº†è·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚</p>
<p><code>$attrs</code> æ˜¯å¯ä»¥è¿›è¡Œè·¨çº§çš„å‚æ•°ä¼ é€’ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼›åŒæ ·çš„ï¼Œé€šè¿‡ <code>$listeners</code> ç”¨ç±»ä¼¼çš„æ“ä½œæ–¹å¼å¯ä»¥è¿›è¡Œè·¨çº§çš„äº‹ä»¶ä¼ é€’ï¼Œå®ç°å­åˆ°çˆ¶çš„é€šä¿¡ã€‚<code>$listeners</code> åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸å« <code>.native</code> ä¿®é¥°çš„ <code>v-on</code> äº‹ä»¶ç›‘å¬å™¨ï¼Œé€šè¿‡ <code>v-on=&quot;$listeners&quot;</code> ä¼ é€’åˆ°å­ç»„ä»¶å†…éƒ¨ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ index.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">list</span> @<span class="attr">change</span>=<span class="string">&quot;change&quot;</span> @<span class="attr">update.native</span>=<span class="string">&quot;update&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ list.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">detail</span> <span class="attr">v-on</span>=<span class="string">&quot;$listeners&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">detail</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­™å­ç»„ä»¶ detail.vue</span></span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">this</span>.$listeners.change()</span><br><span class="line">    <span class="built_in">this</span>.$listeners.update() <span class="comment">// TypeError: this.$listeners.update is not a function</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="provide-inject-ç»„åˆæ‹³"><a href="#provide-inject-ç»„åˆæ‹³" class="headerlink" title="provide/inject ç»„åˆæ‹³"></a>provide/inject ç»„åˆæ‹³</h3><p><code>provide/inject</code> ç»„åˆä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥æ³¨å…¥å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°è·¨çº§çˆ¶å­ç»„ä»¶é€šä¿¡ã€‚åœ¨å¼€å‘é«˜é˜¶ç»„ä»¶å’Œç»„ä»¶åº“çš„æ—¶å€™å°¤å…¶å¥½ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çˆ¶ç»„ä»¶ index.vue</span></span><br><span class="line">data() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        title: <span class="string">&#x27;bubuzou.com&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">provide() &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        detail: &#123;</span><br><span class="line">            title: <span class="built_in">this</span>.title,</span><br><span class="line">            change: <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log( val )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­™å­ç»„ä»¶ detail.vue</span></span><br><span class="line">inject: [<span class="string">&#x27;detail&#x27;</span>],</span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">this</span>.detail.title)  <span class="comment">// bubuzou.com</span></span><br><span class="line">    <span class="built_in">this</span>.detail.title = <span class="string">&#x27;hello world&#x27;</span>  <span class="comment">// è™½ç„¶å€¼è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸­ title å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“</span></span><br><span class="line">    <span class="built_in">this</span>.detail.change(<span class="string">&#x27;æ”¹å˜åçš„å€¼&#x27;</span>)  <span class="comment">// æ‰§è¡Œè¿™å¥åå°†æ‰“å°ï¼šæ”¹å˜åçš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>provide</code> å’Œ <code>inject</code> çš„ç»‘å®šå¯¹äºåŸå§‹ç±»å‹æ¥è¯´å¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”çš„ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å­™å­ç»„ä»¶ä¸­æ”¹å˜äº† <code>title</code>ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“çš„åŸå› ã€‚</p>
</blockquote>
<h3 id="EventBus"><a href="#EventBus" class="headerlink" title="EventBus"></a>EventBus</h3><p>ä»¥ä¸Šä¸‰ç§æ–¹å¼éƒ½æ˜¯åªèƒ½ä»çˆ¶åˆ°å­æ–¹å‘æˆ–è€…å­åˆ°çˆ¶æ–¹å‘è¿›è¡Œç»„ä»¶çš„é€šä¿¡ï¼Œè€Œæˆ‘å°±æ¯”è¾ƒç‰›é€¼äº† ğŸ˜€ï¼Œæˆ‘è¿˜èƒ½è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç”šè‡³ä»»æ„ 2 ä¸ªç»„ä»¶é—´é€šä¿¡ã€‚åˆ©ç”¨ <code>Vue</code> å®ä¾‹å®ç°ä¸€ä¸ª <code>EventBus</code> è¿›è¡Œä¿¡æ¯çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œå¯ä»¥å®ç°åœ¨ä»»æ„ 2 ä¸ªç»„ä»¶ä¹‹é—´é€šä¿¡ã€‚æœ‰ä¸¤ç§å†™æ³•éƒ½å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ª <code>eventBus</code> å¯¹è±¡ï¼š</p>
<ol>
<li><p>é€šè¿‡å¯¼å‡ºä¸€ä¸ª <code>Vue</code> å®ä¾‹ï¼Œç„¶åå†éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eventBus.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> EventBus = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>EventBus</code> è®¢é˜…å’Œå‘å¸ƒæ¶ˆæ¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; EventBus &#125; <span class="keyword">from</span> <span class="string">&#x27;../utils/eventBus.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¢é˜…å¤„</span></span><br><span class="line">EventBus.$on(<span class="string">&#x27;update&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‘å¸ƒå¤„</span></span><br><span class="line">EventBus.$emit(<span class="string">&#x27;update&#x27;</span>, <span class="string">&#x27;æ›´æ–°ä¿¡æ¯&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ <code>main.js</code> ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶æ€»çº¿ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line">Vue.prototype.$eventBus = <span class="keyword">new</span> Vue()</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éœ€è¦è®¢é˜…çš„åœ°æ–¹</span></span><br><span class="line"><span class="built_in">this</span>.$eventBus.$on(<span class="string">&#x27;update&#x27;</span>, <span class="function">(<span class="params">val</span>) =&gt;</span> &#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// éœ€è¦å‘å¸ƒä¿¡æ¯çš„åœ°æ–¹</span></span><br><span class="line"><span class="built_in">this</span>.$eventBus.$emit(<span class="string">&#x27;update&#x27;</span>, <span class="string">&#x27;æ›´æ–°ä¿¡æ¯&#x27;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>å¦‚æœæƒ³è¦ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥è¿™æ ·æ¥ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$eventBus.$off(<span class="string">&#x27;update&#x27;</span>, &#123;&#125;)</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»‹ç»äº†ä¸¤ç§å†™æ³•ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§å…¨å±€å®šä¹‰çš„æ–¹å¼ï¼Œå¯ä»¥é¿å…åœ¨å¤šå¤„å¯¼å…¥ <code>EventBus</code> å¯¹è±¡ã€‚è¿™ç§ç»„ä»¶é€šä¿¡æ–¹å¼åªè¦è®¢é˜…å’Œå‘å¸ƒçš„é¡ºåºå¾—å½“ï¼Œä¸”äº‹ä»¶åç§°ä¿æŒå”¯ä¸€æ€§ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½• 2 ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œç›¸å½“çš„å¼ºå¤§ã€‚ä½†æ˜¯æ–¹æ³•è™½å¥½ï¼Œå¯ä¸è¦æ»¥ç”¨ï¼Œå»ºè®®åªç”¨äºç®€å•ã€å°‘é‡ä¸šåŠ¡çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¤§å‹ç¹æ‚çš„é¡¹ç›®ä¸­æ— ä¼‘æ­¢çš„ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°†ä¼šå¯¼è‡´é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h3 id="Vuex-è¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"><a href="#Vuex-è¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†" class="headerlink" title="Vuex è¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†"></a>Vuex è¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†</h3><p><code>Vuex</code> æ˜¯ä¸€ä¸ªä¸“é—¨æœåŠ¡äº <code>Vue.js</code> åº”ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚é€‚ç”¨äºä¸­å¤§å‹åº”ç”¨ã€‚<code>Vuex</code> ä¸­æœ‰ä¸€äº›ä¸“æœ‰æ¦‚å¿µéœ€è¦å…ˆäº†è§£ä¸‹ï¼š</p>
<ul>
<li><code>State</code>ï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯ <code>store</code> ä¸­çš„å”¯ä¸€æ•°æ®æºï¼›</li>
<li><code>Getter</code>ï¼šç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œå°±æ˜¯å¯¹ <code>State</code> ä¸­çš„æ•°æ®è¿›è¡ŒäºŒæ¬¡çš„å¤„ç†ï¼Œæ¯”å¦‚ç­›é€‰å’Œå¯¹å¤šä¸ªæ•°æ®è¿›è¡Œæ±‚å€¼ç­‰ï¼›</li>
<li><code>Mutation</code>ï¼šç±»ä¼¼äº‹ä»¶ï¼Œæ˜¯æ”¹å˜ <code>Store</code> ä¸­æ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œåªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œï¼›</li>
<li><code>Action</code>ï¼šç±»ä¼¼ <code>Mutation</code>ï¼Œé€šè¿‡æäº¤ <code>Mutation</code> æ¥æ”¹å˜æ•°æ®ï¼Œè€Œä¸ç›´æ¥æ“ä½œ <code>State</code>ï¼Œå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼›</li>
<li><code>Module</code>ï¼šå½“ä¸šåŠ¡å¤æ‚çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ <code>store</code> åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤ï¼›</li>
</ul>
<p>å¯¹äºè¿™å‡ ä¸ªæ¦‚å¿µæœ‰å„ç§å¯¹åº”çš„ <code>map</code> è¾…åŠ©å‡½æ•°ç”¨æ¥ç®€åŒ–æ“ä½œï¼Œæ¯”å¦‚ <code>mapState</code>ï¼Œå¦‚ä¸‹ä¸‰ç§å†™æ³•å…¶å®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œéƒ½æ˜¯ä¸ºäº†ä» <code>state</code> ä¸­è·å–æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡è®¡ç®—å±æ€§è¿”å›ç»™ç»„ä»¶ä½¿ç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">computed: &#123;</span><br><span class="line">    count() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.$store.state.count</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapState(&#123;</span><br><span class="line">        count: <span class="function"><span class="params">state</span> =&gt;</span> state.count</span><br><span class="line">    &#125;),</span><br><span class="line">    ...mapState([<span class="string">&#x27;count&#x27;</span>]),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>åˆæ¯”å¦‚ <code>mapMutations</code>ï¼Œ ä»¥ä¸‹ä¸¤ç§å‡½æ•°çš„å®šä¹‰æ–¹å¼è¦å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¦æäº¤ä¸€ä¸ª <code>mutation</code> å»æ”¹å˜ <code>state</code> ä¸­çš„æ•°æ®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        <span class="built_in">this</span>.$store.commit(<span class="string">&#x27;increment&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    ...mapMutations([<span class="string">&#x27;increment&#x27;</span>]),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥å°±ç”¨ä¸€ä¸ªæç®€çš„ä¾‹å­æ¥å±•ç¤º <code>Vuex</code> ä¸­ä»»æ„ 2 ä¸ªç»„ä»¶é—´çš„çŠ¶æ€ç®¡ç†ã€‚<br>1ã€ æ–°å»º <code>store.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    increment(state) &#123;</span><br><span class="line">      state.count++</span><br><span class="line">    &#125;,</span><br><span class="line">    decrement(state) &#123;</span><br><span class="line">      state.count--</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>2ã€ åˆ›å»ºä¸€ä¸ªå¸¦ <code>store</code> çš„ <code>Vue</code> å®ä¾‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&#x27;./router&#x27;</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&#x27;./utils/store&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  router,</span><br><span class="line">  store,</span><br><span class="line">  render: <span class="function">(<span class="params">h</span>) =&gt;</span> h(App),</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>3ã€ ä»»æ„ç»„ä»¶ <code>A</code> å®ç°ç‚¹å‡»é€’å¢</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;increment&quot;</span>&gt;</span>click to incrementï¼š&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; mapState, mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="javascript">      ...mapState([<span class="string">&#x27;count&#x27;</span>]),</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      ...mapMutations([<span class="string">&#x27;increment&#x27;</span>]),</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4ã€ ä»»æ„ç»„ä»¶ <code>B</code> å®ç°ç‚¹å‡»é€’å‡</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;decrement&quot;</span>&gt;</span>click to decrementï¼š&#123;&#123;count&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; mapState, mapMutations &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    computed: &#123;</span><br><span class="line"><span class="javascript">      ...mapState([<span class="string">&#x27;count&#x27;</span>]),</span></span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line"><span class="javascript">      ...mapMutations([<span class="string">&#x27;decrement&#x27;</span>]),</span></span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šåªæ˜¯ç”¨æœ€ç®€å•çš„ <code>vuex</code> é…ç½®å»å®ç°ç»„ä»¶é€šä¿¡ï¼Œå½“ç„¶çœŸå®é¡¹ç›®ä¸­çš„é…ç½®è‚¯å®šä¼šæ›´å¤æ‚ï¼Œæ¯”å¦‚éœ€è¦å¯¹ <code>State</code> æ•°æ®è¿›è¡ŒäºŒæ¬¡ç­›é€‰ä¼šç”¨åˆ° <code>Getter</code>ï¼Œç„¶åå¦‚æœéœ€è¦å¼‚æ­¥çš„æäº¤é‚£ä¹ˆéœ€è¦ä½¿ç”¨ <code>Action</code>ï¼Œå†æ¯”å¦‚å¦‚æœæ¨¡å—å¾ˆå¤šï¼Œå¯ä»¥å°† <code>store</code> åˆ†æ¨¡å—è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚å¯¹äº <code>Vuex</code> æ›´å¤šå¤æ‚çš„æ“ä½œè¿˜æ˜¯å»ºè®®å»çœ‹<a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh/">Vuex å®˜æ–¹æ–‡æ¡£</a>ï¼Œç„¶åå¤šå†™ä¾‹å­ã€‚</p>
<h3 id="Vue-observable-å®ç°-mini-vuex"><a href="#Vue-observable-å®ç°-mini-vuex" class="headerlink" title="Vue.observable å®ç° mini vuex"></a>Vue.observable å®ç° mini vuex</h3><p>è¿™æ˜¯ä¸€ä¸ª <code>Vue2.6</code> ä¸­æ–°å¢çš„ <code>API</code>ï¼Œç”¨æ¥è®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥å“åº”ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹æ¥å®ç°ä¸€ä¸ªå°å‹çš„çŠ¶æ€ç®¡ç†å™¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// store.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = Vue.observable(&#123;</span><br><span class="line">    count: <span class="number">0</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;</span><br><span class="line">    increment() &#123;</span><br><span class="line">        state.count++</span><br><span class="line">    &#125;</span><br><span class="line">    decrement() &#123;</span><br><span class="line">        state.count--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- parent.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; count &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> &#123; state &#125; <span class="keyword">from</span> <span class="string">&#x27;../store&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">    computed: &#123;</span><br><span class="line">      count() &#123;</span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> state.count</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.vue</span></span><br><span class="line"><span class="keyword">import</span> &#123; mutations &#125; <span class="keyword">from</span> <span class="string">&#x27;../store&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick() &#123;</span><br><span class="line">      mutations.increment()</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="refs-children-parent-root"><a href="#refs-children-parent-root" class="headerlink" title="$refs/$children/$parent/$root"></a>$refs/$children/$parent/$root</h3><p>é€šè¿‡ç»™å­ç»„ä»¶å®šä¹‰ <code>ref</code> å±æ€§å¯ä»¥ä½¿ç”¨ <code>$refs</code> æ¥ç›´æ¥æ“ä½œå­ç»„ä»¶çš„æ–¹æ³•å’Œå±æ€§ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">ref</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ¯”å¦‚å­ç»„ä»¶æœ‰ä¸€ä¸ª <code>getList</code> æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$refs.list.getList()</span><br></pre></td></tr></table></figure>

<p>é™¤äº† <code>$refs</code> å¤–ï¼Œå…¶ä»– 3 ä¸ªéƒ½æ˜¯è‡ª <code>Vue</code> å®ä¾‹åˆ›å»ºåå°±ä¼šè‡ªåŠ¨åŒ…å«çš„å±æ€§ï¼Œä½¿ç”¨å’Œä¸Šé¢çš„ç±»ä¼¼ã€‚</p>
<h2 id="6-ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"><a href="#6-ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦" class="headerlink" title="6 ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦"></a>6 ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦</h2><h3 id="è¡¨å•ä¿®é¥°ç¬¦"><a href="#è¡¨å•ä¿®é¥°ç¬¦" class="headerlink" title="è¡¨å•ä¿®é¥°ç¬¦"></a>è¡¨å•ä¿®é¥°ç¬¦</h3><p>è¡¨å•ç±»çš„ä¿®é¥°ç¬¦éƒ½æ˜¯å’Œ <code>v-model</code> æ­é…ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ï¼š<code>v-model.lazy</code>ã€<code>v-model.trim</code> ä»¥åŠ <code>v-model.number</code> ç­‰ã€‚</p>
<ul>
<li><p><code>.lazy</code>ï¼šå¯¹è¡¨å•è¾“å…¥çš„ç»“æœè¿›è¡Œå»¶è¿Ÿå“åº”ï¼Œé€šå¸¸å’Œ <code>v-model</code> æ­é…ä½¿ç”¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åœ¨ <code>input</code> é‡Œè¾“å…¥å†…å®¹ä¼šåœ¨ <code>p</code> æ ‡ç­¾é‡Œå®æ—¶çš„å±•ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯åŠ ä¸Š <code>.lazy</code> ååˆ™éœ€è¦åœ¨è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„æ—¶å€™æ‰è§¦å‘å“åº”ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model.lazy</span>=<span class="string">&quot;name&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; name &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>.trim</code>ï¼šè¿‡æ»¤è¾“å…¥å†…å®¹çš„é¦–å°¾ç©ºæ ¼ï¼Œè¿™ä¸ªå’Œç›´æ¥æ‹¿åˆ°å­—ç¬¦ä¸²ç„¶åé€šè¿‡ <code>str.trim()</code> å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼æ˜¯ä¸€ä¸ªæ„æ€ã€‚</p>
</li>
<li><p><code>.number</code>ï¼šå¦‚æœè¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œé‚£å°±åªèƒ½è¾“å…¥æ•°å­—ï¼Œå¦åˆ™ä»–è¾“å…¥çš„å°±æ˜¯æ™®é€šå­—ç¬¦ä¸²ã€‚</p>
</li>
</ul>
<h3 id="äº‹ä»¶ä¿®é¥°ç¬¦"><a href="#äº‹ä»¶ä¿®é¥°ç¬¦" class="headerlink" title="äº‹ä»¶ä¿®é¥°ç¬¦"></a>äº‹ä»¶ä¿®é¥°ç¬¦</h3><p><code>Vue</code> çš„äº‹ä»¶ä¿®é¥°ç¬¦æ˜¯ä¸“é—¨ä¸º <code>v-on</code> è®¾è®¡çš„ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š <code>@click.stop=&quot;handleClick&quot;</code>ï¼Œè¿˜èƒ½ä¸²è”ä½¿ç”¨ï¼š<code>@click.stop.prevent=&quot;handleClick&quot;</code>ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> @<span class="attr">click</span>=<span class="string">&quot;doDiv&quot;</span>&gt;</span></span><br><span class="line">  click div</span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> @<span class="attr">click</span>=<span class="string">&quot;doP&quot;</span>&gt;</span>click p<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>.stop</code>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œå’ŒåŸç”Ÿ <code>event.stopPropagation()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚å¦‚ä¸Šä»£ç ï¼Œå½“ç‚¹å‡» <code>p</code> æ ‡ç­¾çš„æ—¶å€™ï¼Œ<code>div</code> ä¸Šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šè§¦å‘ï¼ŒåŠ ä¸Š <code>.stop</code> åäº‹ä»¶å°±ä¸ä¼šå¾€çˆ¶çº§ä¼ é€’ï¼Œé‚£çˆ¶çº§çš„äº‹ä»¶å°±ä¸ä¼šè§¦å‘äº†ã€‚</p>
</li>
<li><p><code>.prevent</code>ï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œå’ŒåŸç”Ÿçš„ <code>event.preventDefault()</code> æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚æ¯”å¦‚ä¸€ä¸ªå¸¦æœ‰ <code>href</code> çš„é“¾æ¥ä¸Šæ·»åŠ äº†ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶è§¦å‘çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘é“¾æ¥çš„è·³è½¬ï¼Œä½†æ˜¯åŠ ä¸Š <code>.prevent</code> åå°±ä¸ä¼šè§¦å‘é“¾æ¥è·³è½¬äº†ã€‚</p>
</li>
<li><p><code>.capture</code>ï¼šé»˜è®¤çš„äº‹ä»¶æµæ˜¯ï¼šæ•è·é˜¶æ®µ-ç›®æ ‡é˜¶æ®µ-å†’æ³¡é˜¶æ®µï¼Œå³äº‹ä»¶ä»æœ€å…·ä½“ç›®æ ‡å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åå¾€ä¸Šå†’æ³¡ã€‚è€ŒåŠ ä¸Š <code>.capture</code> ååˆ™æ˜¯åè¿‡æ¥ï¼Œå¤–å±‚å…ƒç´ å…ˆè§¦å‘äº‹ä»¶ï¼Œç„¶åå¾€æ·±å±‚ä¼ é€’ã€‚</p>
</li>
<li><p><code>.self</code>ï¼šåªè§¦å‘è‡ªèº«çš„äº‹ä»¶ï¼Œä¸ä¼šä¼ é€’åˆ°çˆ¶çº§ï¼Œå’Œ <code>.stop</code> çš„ä½œç”¨æœ‰ç‚¹ç±»ä¼¼ã€‚</p>
</li>
<li><p><code>.once</code>ï¼šåªä¼šè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶ã€‚</p>
</li>
<li><p><code>.passive</code>ï¼šå½“é¡µé¢æ»šåŠ¨çš„æ—¶å€™å°±ä¼šä¸€ç›´è§¦å‘ <code>onScroll</code> äº‹ä»¶ï¼Œè¿™ä¸ªå…¶å®æ˜¯å­˜åœ¨æ€§èƒ½é—®é¢˜çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œå½“ç»™ä»–åŠ ä¸Š <code>.passive</code> åè§¦å‘çš„å°±ä¸ä¼šé‚£ä¹ˆé¢‘ç¹äº†ã€‚</p>
</li>
<li><p><code>.native</code>ï¼šç°åœ¨åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ <code>v-on</code> åªä¼šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ (ç»„ä»¶ç”¨ <code>$emit</code> è§¦å‘çš„äº‹ä»¶)ã€‚å¦‚æœè¦ç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>.native</code> ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ <code>el-input</code>ï¼Œå¦‚æœä¸åŠ  <code>.native</code> å½“å›è½¦çš„æ—¶å€™å°±ä¸ä¼šè§¦å‘ <code>search</code> å‡½æ•°ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span> @<span class="attr">keyup.enter.native</span>=<span class="string">&quot;search&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">el-input</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<blockquote>
<p>ä¸²è”ä½¿ç”¨äº‹ä»¶ä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„å…¶é¡ºåºï¼ŒåŒæ · 2 ä¸ªä¿®é¥°ç¬¦è¿›è¡Œä¸²è”ä½¿ç”¨ï¼Œé¡ºåºä¸åŒï¼Œç»“æœå¤§ä¸ä¸€æ ·ã€‚<code>@click.prevent.self</code> ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶ï¼Œè€Œ <code>@click.self.prevent</code> åªä¼šé˜»æ­¢å¯¹è‡ªèº«å…ƒç´ çš„ç‚¹å‡»ã€‚</p>
</blockquote>
<h3 id="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"><a href="#é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦" class="headerlink" title="é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦"></a>é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦</h3><ul>
<li><code>.left</code>ï¼šé¼ æ ‡å·¦é”®ç‚¹å‡»ï¼›</li>
<li><code>.right</code>ï¼šé¼ æ ‡å³é”®ç‚¹å‡»ï¼›</li>
<li><code>.middle</code>ï¼šé¼ æ ‡ä¸­é”®ç‚¹å‡»ï¼›</li>
</ul>
<h3 id="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"><a href="#é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦" class="headerlink" title="é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦"></a>é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦</h3><p><code>Vue</code> æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æŒ‰é”®ç ï¼š</p>
<ul>
<li><code>.enter</code></li>
<li><code>.tab</code></li>
<li><code>.delete</code> (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®)</li>
<li><code>.esc</code></li>
<li><code>.space</code></li>
<li><code>.up</code></li>
<li><code>.down</code></li>
<li><code>.left</code></li>
<li><code>.right</code></li>
</ul>
<p>å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å°† <code>KeyboardEvent.key</code> æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º <code>kebab-case</code> æ¥ä½œä¸ºä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç æ¥æŸ¥çœ‹å…·ä½“æŒ‰é”®çš„é”®åæ˜¯ä»€ä¹ˆï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> @<span class="attr">keyup</span>=<span class="string">&quot;onKeyUp&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">onKeyUp(event) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(event.key)  <span class="comment">// æ¯”å¦‚é”®ç›˜çš„æ–¹å‘é”®å‘ä¸‹å°±æ˜¯ ArrowDown</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="exact-ä¿®é¥°ç¬¦"><a href="#exact-ä¿®é¥°ç¬¦" class="headerlink" title=".exact ä¿®é¥°ç¬¦"></a>.exact ä¿®é¥°ç¬¦</h3><p><code>.exact</code> ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.ctrl</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.ctrl.exact</span>=<span class="string">&quot;onCtrlClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click.exact</span>=<span class="string">&quot;onClick&quot;</span>&gt;</span>A<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="sync-ä¿®é¥°ç¬¦"><a href="#sync-ä¿®é¥°ç¬¦" class="headerlink" title=".sync ä¿®é¥°ç¬¦"></a>.sync ä¿®é¥°ç¬¦</h3><p><code>.sync</code> ä¿®é¥°ç¬¦å¸¸è¢«ç”¨äºå­ç»„ä»¶æ›´æ–°çˆ¶ç»„ä»¶æ•°æ®ã€‚ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- parent.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:title.sync</span>=<span class="string">&quot;title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.vue</span></span><br><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;update:title&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å­ç»„ä»¶å¯ä»¥ç›´æ¥é€šè¿‡ <code>update:title</code> çš„å½¢å¼è¿›è¡Œæ›´æ–°çˆ¶ç»„ä»¶ä¸­å£°æ˜äº† <code>.sync</code> çš„ <code>prop</code>ã€‚<br>ä¸Šé¢çˆ¶ç»„ä»¶ä¸­çš„å†™æ³•å…¶å®æ˜¯ä¸‹é¢è¿™ç§å†™æ³•çš„ç®€å†™ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:title</span>=<span class="string">&quot;title&quot;</span> @<span class="attr">update:title</span>=<span class="string">&quot;title = $event&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨</p>
</blockquote>
<p>å¦‚æœéœ€è¦è®¾ç½®å¤šä¸ª <code>prop</code>ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">:name.sync</span>=<span class="string">&quot;name&quot;</span> <span class="attr">:age.sync</span>=<span class="string">&quot;age&quot;</span> <span class="attr">:sex.sync</span>=<span class="string">&quot;sex&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é€šè¿‡ <code>v-bind.sync</code> ç®€å†™æˆè¿™æ ·ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span> <span class="attr">v-bind.sync</span>=<span class="string">&quot;person&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">person: &#123;</span><br><span class="line">    name: <span class="string">&#x27;bubuzou&#x27;</span>,</span><br><span class="line">    age: <span class="number">21</span>,</span><br><span class="line">    sex: <span class="string">&#x27;male&#x27;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Vue</code> å†…éƒ¨ä¼šè‡ªè¡Œè¿›è¡Œè§£ææŠŠ <code>person</code> å¯¹è±¡é‡Œçš„æ¯ä¸ªå±æ€§éƒ½ä½œä¸ºç‹¬ç«‹çš„ <code>prop</code> ä¼ é€’è¿›å»ï¼Œå„è‡ªæ·»åŠ ç”¨äºæ›´æ–°çš„ <code>v-on</code> ç›‘å¬å™¨ã€‚è€Œä»å­ç»„ä»¶è¿›è¡Œæ›´æ–°çš„æ—¶å€™è¿˜æ˜¯ä¿æŒä¸å˜ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;update:name&#x27;</span>, <span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="6-ç§æ–¹å¼ç¼–å†™å¯å¤ç”¨æ¨¡å—"><a href="#6-ç§æ–¹å¼ç¼–å†™å¯å¤ç”¨æ¨¡å—" class="headerlink" title="6 ç§æ–¹å¼ç¼–å†™å¯å¤ç”¨æ¨¡å—"></a>6 ç§æ–¹å¼ç¼–å†™å¯å¤ç”¨æ¨¡å—</h2><p>ä»Šå¤©éœ€æ±‚è¯„å®¡äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å®ç°ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œè¿™ä¸ªè¯¦æƒ…é¡µæ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜éƒ½èƒ½è¿›å»ï¼Œä½†æ˜¯å±•ç¤ºçš„æ•°æ®æœ‰ç¨æœ‰ä¸åŒï¼Œä½†ç»å¤§éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ï¼›æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯è¯¦æƒ…å¯¹äºæ™®é€šç”¨æˆ·æ˜¯çº¯å±•ç¤ºï¼Œè€Œå¯¹äºç®¡ç†å‘˜è¦æ±‚èƒ½å¤Ÿç¼–è¾‘ï¼Œç„¶åç®¡ç†å‘˜è¿˜æœ‰ä¸€äº›åˆ«çš„æŒ‰é’®æƒé™ç­‰ã€‚éœ€æ±‚çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœåœ¨æ’æœŸçš„æ—¶å€™æŠŠç”¨æˆ·çš„è¯¦æƒ…åˆ†ç»™å¼€å‘ A åšï¼Œè€ŒæŠŠç®¡ç†å‘˜çš„è¯¦æƒ…åˆ†ç»™ B å»åšï¼Œé‚£è¿™æ ·åšçš„ç»“æœå°±æ˜¯å¼€å‘ A å†™äº†ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œå¼€å‘ B å†™äº†ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œè¿™åœ¨å¼€å‘é˜¶æ®µã€ææµ‹åçš„ä¿®æ”¹ <code>bug</code> é˜¶æ®µä»¥åŠåæœŸè¿­ä»£é˜¶æ®µï¼Œéƒ½éœ€è¦åŒæ—¶ç»´æŠ¤è¿™ 2 ä¸ªæ–‡ä»¶ï¼Œæµªè´¹äº†æ—¶é—´æµªè´¹äº†äººåŠ›ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä»ä¸­æ„è¯†åˆ°ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„é‡è¦æ€§ã€‚</p>
<p>è€Œ <code>Vue</code> ä½œè€…å°¤å¤§ä¸ºäº†è®©å¼€å‘è€…æ›´å¥½çš„ç¼–å†™å¯å¤ç”¨æ¨¡å—ï¼Œæä¾›äº†å¾ˆå¤šçš„æ‰‹æ®µï¼Œæ¯”å¦‚ï¼šç»„ä»¶ã€è‡ªå®šä¹‰æŒ‡ä»¤ã€æ¸²æŸ“å‡½æ•°ã€æ’ä»¶ä»¥åŠè¿‡æ»¤å™¨ç­‰ã€‚</p>
<h3 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h3><p>ç»„ä»¶æ˜¯ <code>Vue</code> ä¸­æœ€ç²¾é«“çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¹³æ—¶ç¼–å†™å¯å¤ç”¨æ¨¡å—æœ€å¸¸ç”¨çš„æ‰‹æ®µï¼Œä½†æ˜¯ç”±äºè¿™å—å†…å®¹ç¯‡å¹…å¾ˆå¤šï¼Œæ‰€ä»¥ä¸åœ¨è¿™é‡Œå±•å¼€ï¼Œåç»­ä¼šå†™ç›¸å…³çš„å†…å®¹è¿›è¡Œè¯¦è¿°ã€‚</p>
<h3 id="ä½¿ç”¨æ··å…¥-mixins"><a href="#ä½¿ç”¨æ··å…¥-mixins" class="headerlink" title="ä½¿ç”¨æ··å…¥ mixins"></a>ä½¿ç”¨æ··å…¥ mixins</h3><p>ä»€ä¹ˆæ˜¯æ··å…¥å‘¢ï¼Ÿ ä»ä»£ç ç»“æ„ä¸Šæ¥çœ‹ï¼Œæ··å…¥å…¶å®å°±æ˜¯åŠä¸ªç»„ä»¶ï¼Œä¸€ä¸ª <code>Vue</code> ç»„ä»¶å¯ä»¥åŒ…æ‹¬ <code>template</code>ã€<code>script</code> å’Œ <code>style</code> ä¸‰éƒ¨åˆ†ï¼Œè€Œæ··å…¥å…¶å®å°±æ˜¯ <code>script</code> é‡Œé¢çš„å†…å®¹ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ï¼Œæ¯”å¦‚ <code>data</code>ã€<code>methods</code>ã€<code>computed</code>ã€<code>watch</code> ã€ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€ç”šè‡³æ˜¯ <code>mixins</code> è‡ªå·±ç­‰ï¼Œæ··å…¥è¢«è®¾è®¡å‡ºæ¥å°±æ˜¯æ—¨åœ¨æé«˜ä»£ç çš„çµæ´»æ€§ã€å¯å¤ç”¨æ€§ã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æ··å…¥å‘¢ï¼Ÿå½“å¯å¤ç”¨é€»è¾‘åªæ˜¯ <code>JS</code> ä»£ç å±‚é¢çš„ï¼Œè€Œæ—  <code>template</code> çš„æ—¶å€™å°±å¯ä»¥è€ƒè™‘ç”¨æ··å…¥äº†ã€‚æ¯”å¦‚éœ€è¦è®°å½•ç”¨æˆ·åœ¨é¡µé¢çš„åœç•™çš„æ—¶é—´ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™æ®µé€»è¾‘æŠ½å‡ºæ¥æ”¾åœ¨ <code>mixins</code> é‡Œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mixins.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> statMixin = &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    enterPage() &#123;&#125;,</span><br><span class="line">    leavePage() &#123;&#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="built_in">this</span>.enterPage()</span><br><span class="line">  &#125;,</span><br><span class="line">  beforeDestroyed() &#123;</span><br><span class="line">    <span class="built_in">this</span>.leavePage()</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨éœ€è¦ç»Ÿè®¡é¡µé¢åœç•™æ—¶é—´çš„åœ°æ–¹åŠ ä¸Šï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; statMixin &#125; <span class="keyword">from</span> <span class="string">&#x27;../common/mixins&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  mixins: [statMixin],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ··å…¥çš„æ—¶å€™è¦æ³¨æ„å’Œç»„ä»¶é€‰é¡¹çš„åˆå¹¶è§„åˆ™ï¼Œå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ä¸‰ç±»ï¼š</p>
<ul>
<li><p><code>data</code> å°†è¿›è¡Œé€’å½’åˆå¹¶ï¼Œå¯¹äºé”®åå†²çªçš„ä»¥ç»„ä»¶æ•°æ®ä¸ºå‡†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mixinA çš„ data</span></span><br><span class="line">data() &#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">        name: <span class="string">&#x27;hello&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// component A</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mixins: [mixinA],</span><br><span class="line">    data()&#123;</span><br><span class="line">        obj: &#123;</span><br><span class="line">            name: <span class="string">&#x27;bubuzou&#x27;</span>,</span><br><span class="line">            age: <span class="number">21</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="built_in">this</span>.obj )  <span class="comment">// &#123; name: &#x27;bubuzou&#x27;, &#x27;age&#x27;: 21 &#125;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å°†ä¼šåˆå¹¶æˆä¸€ä¸ªæ•°ç»„ï¼Œæ··å…¥å¯¹è±¡çš„é’©å­å°†å…ˆè¢«æ‰§è¡Œï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mixin A</span></span><br><span class="line"><span class="keyword">const</span> mixinA = &#123;</span><br><span class="line">    created() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">&#x27;ç¬¬ä¸€ä¸ªæ‰§è¡Œ&#x27;</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// mixin B</span></span><br><span class="line"><span class="keyword">const</span> mixinB = &#123;</span><br><span class="line">    mixins: [mixinA]</span><br><span class="line">    created() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">&#x27;ç¬¬äºŒä¸ªæ‰§è¡Œ&#x27;</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// component A</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mixins: [mixinB]</span><br><span class="line">    created() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">&#x27;æœ€åä¸€ä¸ªæ‰§è¡Œ&#x27;</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ <code>methods</code>ã€<code>components</code> å’Œ <code>directives</code>ï¼Œå°†è¢«åˆå¹¶ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚</p>
</li>
</ul>
<h3 id="è‡ªå®šä¹‰æŒ‡ä»¤"><a href="#è‡ªå®šä¹‰æŒ‡ä»¤" class="headerlink" title="è‡ªå®šä¹‰æŒ‡ä»¤"></a>è‡ªå®šä¹‰æŒ‡ä»¤</h3><p>é™¤äº† <code>Vue</code> å†…ç½®çš„ä¸€äº›æŒ‡ä»¤æ¯”å¦‚ <code>v-model</code>ã€<code>v-if</code> ç­‰ï¼Œ<code>Vue</code> è¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰æŒ‡ä»¤ã€‚åœ¨ <code>Vue2.0</code> ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š <code>DOM</code> å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®çš„æƒé™ã€‚æˆ‘ä»¬æœŸæœ›è®¾è®¡ä¸€ä¸ªå¦‚ä¸‹å½¢å¼çš„æŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®æƒé™ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">v-auth</span>=<span class="string">&quot;[&#x27;user&#x27;]&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åœ¨æŒ‰é’®çš„æŒ‡ä»¤é‡Œä¼ å…¥ä¸€ç»„æƒé™ï¼Œå¦‚æœè¯¥æŒ‰é’®åªæœ‰ <code>admin</code> æƒé™æ‰å¯ä»¥æäº¤ï¼Œè€Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªåˆ«çš„æƒé™ï¼Œæ¯”å¦‚ <code>user</code>ï¼Œé‚£è¿™ä¸ªæŒ‰é’®å°±ä¸åº”è¯¥æ˜¾ç¤ºäº†ã€‚<br>æ¥ä¸‹æ¥æˆ‘ä»¬å»æ³¨å†Œä¸€ä¸ªå…¨å±€çš„æŒ‡ä»¤ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// auth.js</span></span><br><span class="line"><span class="keyword">const</span> AUTH_LIST = [<span class="string">&#x27;admin&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAuth</span>(<span class="params">auths</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> AUTH_LIST.some(<span class="function">(<span class="params">item</span>) =&gt;</span> auths.includes(item))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">Vue, options = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">  Vue.directive(<span class="string">&#x27;auth&#x27;</span>, &#123;</span><br><span class="line">    inserted(el, binding) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!checkAuth(binding.value)) &#123;</span><br><span class="line">        el.parentNode &amp;&amp; el.parentNode.removeChild(el)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ <code>main.js</code> é‡Œé€šè¿‡å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥å¯ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Auth <span class="keyword">from</span> <span class="string">&#x27;./utils/auth&#x27;</span></span><br><span class="line">Vue.use(Auth)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ¸²æŸ“å‡½æ•°"><a href="#ä½¿ç”¨æ¸²æŸ“å‡½æ•°" class="headerlink" title="ä½¿ç”¨æ¸²æŸ“å‡½æ•°"></a>ä½¿ç”¨æ¸²æŸ“å‡½æ•°</h3><p>è¿™é‡Œå°†ä½¿ç”¨æ¸²æŸ“å‡½æ•°å®ç°ä¸Šé¢ä»‹ç»è¿‡çš„çš„æƒé™æŒ‰é’®ã€‚<br>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼ŒæŠŠéœ€è¦æ§åˆ¶æƒé™çš„æŒ‰é’®åŒ…åœ¨æƒé™ç»„ä»¶ <code>authority</code> é‡Œé¢ï¼Œå¦‚æœæœ‰è¯¥æƒé™å°±æ˜¾ç¤ºï¼Œæ²¡æœ‰å°±ä¸æ˜¾ç¤ºã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">authority</span> <span class="attr">:auth</span>=<span class="string">&quot;[&#x27;admin&#x27;]&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">authority</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬ç”¨æ¸²æŸ“å‡½æ•°å»å®ç°ä¸€ä¸ª <code>authority</code> ç»„ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">const</span> AUTH_LIST = [<span class="string">&#x27;admin&#x27;</span>, <span class="string">&#x27;user&#x27;</span>, <span class="string">&#x27;org&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">checkAuth</span>(<span class="params">auths</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> AUTH_LIST.some(<span class="function"><span class="params">item</span> =&gt;</span> auths.includes(item))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    functional: <span class="literal">true</span>,</span><br><span class="line">    props: &#123;</span><br><span class="line">        auth: &#123;</span><br><span class="line">            type: <span class="built_in">Array</span>,</span><br><span class="line">            required: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    render(h, context) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; props,  scopedSlots&#125; = context</span><br><span class="line">        <span class="keyword">return</span> checkAuth(props.auth) ? scopedSlots.default() : <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å…¨å±€æ³¨å†Œè¿™ä¸ªç»„ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Authority <span class="keyword">from</span> <span class="string">&#x27;./components/authority&#x27;</span></span><br><span class="line">Vue.component(<span class="string">&#x27;authority&#x27;</span>, Authority)</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨è¿‡æ»¤å™¨"><a href="#ä½¿ç”¨è¿‡æ»¤å™¨" class="headerlink" title="ä½¿ç”¨è¿‡æ»¤å™¨"></a>ä½¿ç”¨è¿‡æ»¤å™¨</h3><p><code>Vue</code> æä¾›äº†è‡ªå®šä¹‰è¿‡æ»¤å™¨çš„åŠŸèƒ½ï¼Œä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æƒ³è¦å°†æ•°æ®ä»¥æŸç§æ ¼å¼å±•ç¤ºå‡ºæ¥ï¼Œè€ŒåŸå§‹æ•°æ®åˆä¸ç¬¦åˆè¿™ç§æ ¼å¼çš„æ—¶å€™ã€‚æ¯”å¦‚æœ‰ä¸€ç»„å…³äºäººçš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;å¼ èŒ‚&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;population&quot;</span>: <span class="string">&quot;young&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;ç‹ä¸½&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;population&quot;</span>: <span class="string">&quot;middle&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;éƒé¹ç¨‹&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;population&quot;</span>: <span class="string">&quot;child&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­æœ‰ä¸€é¡¹æ˜¯å…³äºæŒ‰ç…§å¹´é¾„åˆ’åˆ†çš„ç¾¤ä½“ç±»å‹ <code>population</code>ï¼Œè€Œå®ƒæ˜¯ç”¨ <code>code</code> è¿›è¡Œæ ‡è¯†çš„ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å±•ç¤ºçš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºæˆå¯¹åº”çš„ä¸­æ–‡æ„æ€ï¼Œæ¯”å¦‚ <code>young</code> æ˜¾ç¤ºæˆé’å¹´ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå¦‚ä¸‹çš„å±€éƒ¨è¿‡æ»¤å™¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  filters: &#123;</span><br><span class="line">    popuFilters(value) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!value) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;æœªçŸ¥&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> index = [<span class="string">&#x27;child&#x27;</span>, <span class="string">&#x27;lad&#x27;</span>, <span class="string">&#x27;young&#x27;</span>, <span class="string">&#x27;middle&#x27;</span>, <span class="string">&#x27;wrinkly&#x27;</span>].indexOf(value)</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">        (index &gt; <span class="number">0</span> &amp;&amp; [<span class="string">&#x27;å„¿ç«¥&#x27;</span>, <span class="string">&#x27;å°‘å¹´&#x27;</span>, <span class="string">&#x27;é’å¹´&#x27;</span>, <span class="string">&#x27;ä¸­å¹´&#x27;</span>, <span class="string">&#x27;è€å¹´&#x27;</span>][index]) || <span class="string">&#x27;æœªçŸ¥&#x27;</span></span><br><span class="line">      )</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è¿‡æ»¤å™¨çš„æ—¶å€™åªè¦åœ¨ <code>template</code> ä¸­è¿™æ ·ä½¿ç”¨å³å¯ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; item.population | popuFilters &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰æ’ä»¶"><a href="#è‡ªå®šä¹‰æ’ä»¶" class="headerlink" title="è‡ªå®šä¹‰æ’ä»¶"></a>è‡ªå®šä¹‰æ’ä»¶</h3><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°è£…çš„å†…å®¹å¯èƒ½ä¸éœ€è¦ä½¿ç”¨è€…å¯¹å…¶å†…éƒ¨ä»£ç ç»“æ„è¿›è¡Œäº†è§£ï¼Œå…¶åªéœ€è¦ç†Ÿæ‚‰æˆ‘ä»¬æä¾›å‡ºæ¥çš„ç›¸åº”æ–¹æ³•å’Œ <code>api</code> å³å¯ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ›´ç³»ç»Ÿæ€§çš„å°†å…¬ç”¨éƒ¨åˆ†é€»è¾‘å°è£…æˆæ’ä»¶ï¼Œæ¥ä¸ºé¡¹ç›®æ·»åŠ å…¨å±€åŠŸèƒ½ï¼Œæ¯”å¦‚å¸¸è§çš„ <code>loading</code> åŠŸèƒ½ã€å¼¹æ¡†åŠŸèƒ½ç­‰ã€‚</p>
<p>å¼€å‘ <code>Vue</code> çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª <code>install</code> æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ <code>Vue</code> æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹ 4 ç§æ–¹å¼æ¥è‡ªå®šä¹‰æ’ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">MyPlugin.install = <span class="function"><span class="keyword">function</span> (<span class="params">Vue, options</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property</span></span><br><span class="line">  Vue.myGlobalMethod = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é€»è¾‘...</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 2. æ·»åŠ å…¨å±€èµ„æº</span></span><br><span class="line">  Vue.directive(<span class="string">&#x27;my-directive&#x27;</span>, &#123;</span><br><span class="line">    bind (el, binding, vnode, oldVnode) &#123;</span><br><span class="line">      <span class="comment">// é€»è¾‘...</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹</span></span><br><span class="line">  Vue.mixin(&#123;</span><br><span class="line">    created: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// é€»è¾‘...</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 4. æ·»åŠ å®ä¾‹æ–¹æ³•</span></span><br><span class="line">  Vue.prototype.$myMethod = <span class="function"><span class="keyword">function</span> (<span class="params">methodOptions</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// é€»è¾‘...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åéœ€è¦åœ¨å…¥å£æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>main.js</code> ä¸­æ³¨å†Œæ’ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MyPlugin <span class="keyword">from</span> <span class="string">&#x27;./plugins/plugins.js&#x27;</span></span><br><span class="line">Vue.use(MyPlugin)</span><br></pre></td></tr></table></figure>

<h2 id="3-ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "><a href="#3-ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç " class="headerlink" title="3 ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç "></a>3 ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç </h2><p>å¹³æ—¶å†™é¡¹ç›®çš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åœ¨ç¬¬ä¸€æ—¶é—´å®Œæˆéœ€æ±‚åŠŸèƒ½çš„å¼€å‘ã€ææµ‹ä¿®æ”¹ <code>bug</code> ç­‰ï¼Œç„¶åå¼€å¼€å¿ƒå¿ƒçš„ç­‰å¾…ç€å‘å¸ƒç”Ÿäº§ä»¥ä¸ºæ²¡å•¥äº‹æƒ…äº†ã€‚å…¶å®å›è¿‡å¤´æ¥ç»†ç»†çš„çœ‹æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç ï¼Œå¯èƒ½ä¼šå‘ç°å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å€¼å¾—ä¼˜åŒ–çš„ï¼Œæ¯”å¦‚å¯¹äºå¾ˆå¤šé‡å¤æ€§å¾ˆå¼ºçš„ä»£ç ï¼Œæ¯”å¦‚å¯¹äºæŸäº›å†™å¾—å¾ˆç¹æ‚çš„åœ°æ–¹ã€‚ä¼˜é›…çš„ä»£ç å¯ä»¥åŒ–æœºæ¢°ä¸ºè‡ªåŠ¨ã€åŒ–ç¹ä¸ºç®€ï¼Œçœ‹äººå¼€äº†å¦‚æ²æ˜¥é£ï¼Œå¿ƒæƒ…å¤§å¥½ã€‚è¿™é‡Œåˆ—äº†å‡ ä¸ªåœ¨ <code>Vue</code> ä¸­ä¸€å®šä¼šé‡åˆ°çš„é—®é¢˜ï¼Œç„¶åé€šè¿‡ä¼˜é›…çš„æ–¹å¼è¿›è¡Œè§£å†³ã€‚</p>
<h3 id="è‡ªåŠ¨åŒ–å¯¼å…¥æ¨¡å—"><a href="#è‡ªåŠ¨åŒ–å¯¼å…¥æ¨¡å—" class="headerlink" title="è‡ªåŠ¨åŒ–å¯¼å…¥æ¨¡å—"></a>è‡ªåŠ¨åŒ–å¯¼å…¥æ¨¡å—</h3><p>åœ¨å¼€å‘ä¸€ä¸ªç¨å¾®å¤§ç‚¹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œä¼šä¹ æƒ¯å°†è·¯ç”±æŒ‰ç…§æ¨¡å—æ¥åˆ’åˆ†ï¼Œç„¶åå°±å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è¿™ç§ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// router.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"><span class="comment">// å¯¼å…¥äº†ä¸€å¤§å †è·¯ç”±æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> mediator <span class="keyword">from</span> <span class="string">&#x27;./mediator&#x27;</span></span><br><span class="line"><span class="keyword">import</span> judges <span class="keyword">from</span> <span class="string">&#x27;./judges&#x27;</span></span><br><span class="line"><span class="keyword">import</span> disputeMediation <span class="keyword">from</span> <span class="string">&#x27;./disputeMediation&#x27;</span></span><br><span class="line"><span class="keyword">import</span> onlineMediation <span class="keyword">from</span> <span class="string">&#x27;./onlineMediation&#x27;</span></span><br><span class="line"><span class="keyword">import</span> useraction <span class="keyword">from</span> <span class="string">&#x27;./useraction&#x27;</span></span><br><span class="line"><span class="keyword">import</span> organcenter <span class="keyword">from</span> <span class="string">&#x27;./organcenter&#x27;</span></span><br><span class="line"><span class="keyword">import</span> admin <span class="keyword">from</span> <span class="string">&#x27;./admin&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> routeList = []</span><br><span class="line">routeList.push(</span><br><span class="line">  mediator,</span><br><span class="line">  judges,</span><br><span class="line">  disputeMediation,</span><br><span class="line">  onlineMediation,</span><br><span class="line">  useraction,</span><br><span class="line">  organcenter,</span><br><span class="line">  admin</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®çœŸå®çš„è¿œè¿œä¸æ­¢è¿™ä¹ˆç‚¹ï¼Œå°±æˆ‘æœ¬åœ°é¡¹ç›®è€Œè¨€å°±æœ‰ 20 å‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œå†™äº†ä¸€å¤§å †çš„å¯¼å…¥ä»£ç ï¼Œæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œæ›´æ— å¥ˆçš„æ˜¯æ¯å½“éœ€è¦æ–°å¢ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œè¿˜å¾—å†æ¬¡ <code>import</code> å†æ¬¡ <code>push</code>ï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯æœ‰çš„ã€‚</p>
<p>åˆ©ç”¨ <code>webpack</code> çš„ <a target="_blank" rel="noopener" href="https://webpack.js.org/guides/dependency-management/#requirecontext"><code>require.context</code></a> å°±å¯ä»¥å¾ˆä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span>.context(</span><br><span class="line">  directory, <span class="comment">// æœç´¢çš„ç›®å½•</span></span><br><span class="line">  (useSubdirectories = <span class="literal">true</span>), <span class="comment">// æ˜¯å¦æœç´¢å­ç›®å½•</span></span><br><span class="line">  (regExp = <span class="regexp">/^\.\/.*$/</span>), <span class="comment">// åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶æ ¼å¼</span></span><br><span class="line">  (mode = <span class="string">&#x27;sync&#x27;</span>) <span class="comment">// åŒæ­¥è¿˜æ˜¯å¼‚æ­¥</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>æœ‰äº†è¿™ä¸ªè¯­æ³•ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> Router <span class="keyword">from</span> <span class="string">&#x27;vue-router&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> routeList = []</span><br><span class="line"><span class="keyword">let</span> importAll = <span class="built_in">require</span>.context(<span class="string">&#x27;@/publicResource/router&#x27;</span>, <span class="literal">false</span>, <span class="regexp">/\.js$/</span>)</span><br><span class="line">importAll.keys().map(<span class="function">(<span class="params">path</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// å› ä¸º index.js ä¹Ÿåœ¨ @/publicResource/router ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦æ’é™¤</span></span><br><span class="line">  <span class="keyword">if</span> (!path.includes(<span class="string">&#x27;index.js&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">//å…¼å®¹å¤„ç†ï¼š.default è·å– ES6 è§„èŒƒæš´éœ²çš„å†…å®¹; åè€…è·å– commonJS è§„èŒƒæš´éœ²çš„å†…å®¹</span></span><br><span class="line">    <span class="keyword">let</span> router = importAll(path).default || importAll(path)</span><br><span class="line">    routeList(router)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  mode: <span class="string">&#x27;history&#x27;</span>,</span><br><span class="line">  routes: routeList,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å…¶å®ä¸ä»…ä»…åªæ˜¯ç”¨åœ¨å¯¼å…¥è·¯ç”±æ¨¡å—è¿™é‡Œï¼Œå¯¹äºé¡¹ç›®é‡Œä»»ä½•éœ€è¦å¯¼å…¥å¤§é‡æœ¬åœ°æ¨¡å—çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ã€‚</p>
<h3 id="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶"><a href="#æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶" class="headerlink" title="æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶"></a>æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶</h3><p>ç›¸ä¿¡å†™ <code>Vue</code> çš„åŒå­¦ä»¬éƒ½çŸ¥é“ <code>element-ui</code> è¿™ä¸ªç»„ä»¶åº“ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶åº“çš„æ—¶å€™å¤§éƒ¨åˆ†éƒ½æ˜¯åªä½¿ç”¨æŸäº›ä¸ªåˆ«çš„ç»„ä»¶ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰éœ€å¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œç„¶åå°±æœ‰å¦‚ä¸‹ä¸€å † <code>Vue.use()</code> çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  Input,</span><br><span class="line">  Radio,</span><br><span class="line">  RadioGroup,</span><br><span class="line">  Checkbox,</span><br><span class="line">  CheckboxGroup,</span><br><span class="line">  Select,</span><br><span class="line">  <span class="comment">// è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"></span><br><span class="line">Vue.use(Input)</span><br><span class="line">Vue.use(Radio)</span><br><span class="line">Vue.use(RadioGroup)</span><br><span class="line">Vue.use(Checkbox)</span><br><span class="line">Vue.use(CheckboxGroup)</span><br><span class="line">Vue.use(Select)</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å†™æ˜¯æ²¡ä»»ä½•é—®é¢˜çš„ï¼Œå°±æ˜¯çœ‹ç€ä¸å¤Ÿç®€æ´èˆ’æœï¼Œé‚£æ›´ä¼˜é›…çš„åšæ³•æ˜¯æŠŠè¿™å—é€»è¾‘æŠ½åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡æ³¨å†Œæ’ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ä»–ä»¬ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// elementComponent.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  Input,</span><br><span class="line">  Radio,</span><br><span class="line">  RadioGroup,</span><br><span class="line">  Checkbox,</span><br><span class="line">  CheckboxGroup,</span><br><span class="line">  Select,</span><br><span class="line">  <span class="comment">// è¿˜æœ‰å¾ˆå¤šç»„ä»¶</span></span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;element-ui&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> components = &#123;</span><br><span class="line">  Input,</span><br><span class="line">  Radio,</span><br><span class="line">  RadioGroup,</span><br><span class="line">  Checkbox,</span><br><span class="line">  CheckboxGroup,</span><br><span class="line">  Select,</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">install</span>(<span class="params">Vue</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">Object</span>.keys(components).forEach(<span class="function">(<span class="params">key</span>) =&gt;</span> Vue.use(components[key]))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; install &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ <code>main.js</code> é‡Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> elementComponent <span class="keyword">from</span> <span class="string">&#x27;./config/elementComponent&#x27;</span></span><br><span class="line">Vue.use(elementComponent)</span><br></pre></td></tr></table></figure>

<h3 id="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"><a href="#ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£" class="headerlink" title="ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£"></a>ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£</h3><p>ä¸çŸ¥é“å¤§ä¼™æ˜¯å¦‚ä½•å®šä¹‰è¯·æ±‚æ¥å£çš„ï¼Œå°±æˆ‘ç›®å‰è¿™ä¸ªé¡¹ç›®è€Œè¨€ï¼Œæ˜¯è¿™ä¹ˆåšçš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api.js</span></span><br><span class="line"><span class="keyword">import</span> http <span class="keyword">from</span> <span class="string">&#x27;./config/httpServer.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ç™»å…¥é¡µé¢è·å–å…¬é’¥ */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getPublicKey = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> http(&#123; <span class="attr">url</span>: <span class="string">&#x27;/userGateway/user/getPublicKey&#x27;</span> &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨æˆ·ç™»å½•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> http(&#123; <span class="attr">url</span>: <span class="string">&#x27;/userGateway/userSentry/login&#x27;</span> &#125;, data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ç ç™»å½•</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> loginByCode = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> http(&#123; <span class="attr">url</span>: <span class="string">&#x27;/userGateway/userSentry/loginByCode&#x27;</span> &#125;, data)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ¥å£ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; getPublicKey &#125; <span class="keyword">from</span> <span class="string">&#x27;./config/api.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        getPublicKey().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// xxx</span></span><br><span class="line">        &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// xxx</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œä½†ï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ€»å…±æœ‰ 200 å¤šä¸ªæ¥å£ï¼ŒæŒ‰ç…§ä¸Šé¢è¿™ç§å®šä¹‰æ–¹å¼çš„è¯ï¼Œä¸€ä¸ªæ¥å£å®šä¹‰åŠ ä¸Šç©ºè¡Œéœ€è¦å ç”¨ 5 è¡Œï¼Œæ‰€ä»¥å¦‚æœæŠŠå…¨éƒ¨æ¥å£éƒ½å®šä¹‰åˆ°è¿™ä¸ª <code>api.js</code> é‡Œéœ€è¦å ç”¨ 1000 è¡Œå·¦å³ï¼Œçœ‹äº†å®åœ¨è®©äººå¿ƒå¾ˆæ…Œå‘€ã€‚æ‰€ä»¥è§‰å¾—åº”è¯¥è¿™ä¸ªåœ°æ–¹åº”è¯¥å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/userGateway/user/getPublicKey</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™æ˜¯ä¸€ä¸ªåç«¯ç»™æ¥å£è·¯å¾„ï¼Œæ–œæ†æŠŠè¿™ä¸ªè·¯å¾„åˆ’åˆ†æˆ 3 ä¸ªå­ä¸²ï¼Œè€Œæœ€åä¸€ä¸ªå­ä¸²å¿…å®šæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸­åšæ–‡ç« ã€‚äºæ˜¯ä¹å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// api.js</span></span><br><span class="line"><span class="keyword">const</span> apiList = [</span><br><span class="line">  <span class="string">&#x27;/userGateway/user/getPublicKey&#x27;</span>, <span class="comment">// ç™»å…¥é¡µé¢è·å–å…¬é’¥</span></span><br><span class="line">  <span class="string">&#x27;/userGateway/userSentry/login&#x27;</span>, <span class="comment">// ç”¨æˆ·ç™»å½•</span></span><br><span class="line">  <span class="string">&#x27;/userGateway/userSentry/loginByCode&#x27;</span>, <span class="comment">// éªŒè¯ç ç™»å½•</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> apiName,</span><br><span class="line">  API = &#123;&#125;</span><br><span class="line">apiList.forEach(<span class="function">(<span class="params">path</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨æ­£åˆ™å–åˆ°æ¥å£è·¯å¾„çš„æœ€åä¸€ä¸ªå­ä¸²ï¼Œæ¯”å¦‚: getPublicKey</span></span><br><span class="line">  apiName = <span class="regexp">/(?&lt;=\/)[^/]+$/</span>.exec(path)[<span class="number">0</span>]</span><br><span class="line">  API[apiName] = <span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> http(&#123; <span class="attr">url</span>: path &#125;, data)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> &#123; API &#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¤§æ¦‚å°±æŠŠå®šä¹‰ä¸€ä¸ªæ¥å£éœ€è¦å ç”¨ 5 è¡Œç¼©å°åˆ°åªéœ€è¦ 1 è¡Œäº†ï¼Œå¤§å¤§å‡å°äº†æ–‡ä»¶å†…å®¹ã€‚åœ¨æµè§ˆè¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘çš„é¼ æ ‡æ»šè½®ä¹Ÿä¸ä¼šä¸€ç›´åœ¨æ»šæ»šæ»šäº†ã€‚</p>
<p>å¦‚æœæ˜¯è¿™æ ·å®šä¹‰æ¥å£çš„è¯ï¼Œé‚£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜éœ€è¦åšç‚¹å˜åŒ–çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; API &#125; <span class="keyword">from</span> <span class="string">&#x27;./config/api.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        API.getPublicKey().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// xxx</span></span><br><span class="line">        &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// xxx</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h2 id="4-ç§-event-ä¼ å‚æ–¹å¼"><a href="#4-ç§-event-ä¼ å‚æ–¹å¼" class="headerlink" title="4 ç§$event ä¼ å‚æ–¹å¼"></a>4 ç§$event ä¼ å‚æ–¹å¼</h2><p>åœ¨è¿›è¡Œå®é™…é¡¹ç›®å¼€å‘çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡äº‹ä»¶ä¼ é€’å‚æ•°ï¼Œè¿™é‡Œæ€»ç»“äº† 4 ç§åº”ç”¨åœºæ™¯ã€‚</p>
<h3 id="ç”¨äºç»„ä»¶é€šä¿¡"><a href="#ç”¨äºç»„ä»¶é€šä¿¡" class="headerlink" title="ç”¨äºç»„ä»¶é€šä¿¡"></a>ç”¨äºç»„ä»¶é€šä¿¡</h3><p>æ¯”å¦‚å­ç»„ä»¶é€šè¿‡ <code>$emit</code> æ¥è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­ç”¨ <code>$event</code> æ¥æ”¶åˆ°ä»å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;changeText&#x27;, &#x27;18px&#x27;)&quot;</span>&gt;</span>ç‚¹å‡»åŠ å¤§å­—å·<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blog-post</span> @<span class="attr">changeText</span>=<span class="string">&quot;changeText(&#x27;article&#x27;, $event)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">changeText(type, value) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(type, value)  <span class="comment">// &#x27;article&#x27; &#x27;18px&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°æœ‰å¤šä¸ªï¼Œè¿™ä¸ªæ—¶å€™ç”¨ <code>$event</code> å°±ä¸å¤ªè¡Œäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ <code>arguments</code> ä»£æ›¿ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$emit(&#x27;changeText&#x27;, &#x27;red&#x27;, &#x27;18px&#x27;)&quot;</span>&gt;</span>ç‚¹å‡»æ”¹å˜æ ·å¼<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">blog-post</span> @<span class="attr">changeText</span>=<span class="string">&quot;changeText(...arguments, &#x27;article&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">changeText(...value) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log( value )  <span class="comment">// [&#x27;red&#x27;, &#x27;18px&#x27;, &#x27;article&#x27;]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä¼ é€’åŸç”Ÿ-DOM-äº‹ä»¶å¯¹è±¡"><a href="#ä¼ é€’åŸç”Ÿ-DOM-äº‹ä»¶å¯¹è±¡" class="headerlink" title="ä¼ é€’åŸç”Ÿ DOM äº‹ä»¶å¯¹è±¡"></a>ä¼ é€’åŸç”Ÿ DOM äº‹ä»¶å¯¹è±¡</h3><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦è·å–åˆ°å½“å‰çš„ç‚¹å‡»å…ƒç´ ï¼Œå°±å¯ä»¥é€šè¿‡ç»™ç‚¹å‡»äº‹ä»¶ä¼ é€’ <code>$event</code> å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;submit(&#x27;first&#x27;, $event)&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">submit(type, event) &#123;</span><br><span class="line">    <span class="keyword">const</span> target = event.target.tagName</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"><a href="#ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ" class="headerlink" title="ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ"></a>ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒ</h3><p>æ¯”å¦‚æœ‰ä¸€ä¸ªç»„ä»¶é‡Œä½¿ç”¨äº†å¥½å‡ ä¸ª <code>element-ui</code> çš„åˆ†é¡µç»„ä»¶ï¼Œæ¯ä¸ªåˆ†é¡µéƒ½æœ‰ä¸€ä¸ª <code>current-change</code> äº‹ä»¶ï¼Œç”¨æ¥å¤„ç†å½“åˆ†é¡µæ”¹å˜ä¹‹åçš„äº‹æƒ…ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±éœ€è¦å†™å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ˜¯å¦‚æœç”¨ä»¥ä¸‹æ–¹å¼ï¼Œæˆ‘ä»¬å°±ä¹Ÿå¯ä»¥åªå†™ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡ <code>type</code> æ¥åˆ¤æ–­æ˜¯å“ªä¸ªåˆ†é¡µçš„å›è°ƒï¼Œè€Œ <code>$event</code> åˆ™ç”¨æ¥ä¼ é€’ <code>current-change</code> å›è°ƒé»˜è®¤çš„å‚æ•°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é¡µé¢åˆ—è¡¨çš„åˆ†é¡µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span> @<span class="attr">current-change</span>=<span class="string">&quot;changePage(&#x27;main&#x27;, $event)&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼¹çª—Aåˆ—è¡¨çš„åˆ†é¡µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span> @<span class="attr">current-change</span>=<span class="string">&quot;changePage(&#x27;modalA&#x27;, $event)&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- å¼¹çª—Båˆ—è¡¨çš„åˆ†é¡µ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">el-pagination</span> @<span class="attr">current-change</span>=<span class="string">&quot;changePage(&#x27;modalB&#x27;, $event)&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">el-pagination</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">changePage(type, page) &#123;</span><br><span class="line">    <span class="keyword">const</span> types = [<span class="string">&#x27;main&#x27;</span>, <span class="string">&#x27;modalA&#x27;</span>, <span class="string">&#x27;modalB&#x27;</span>]</span><br><span class="line">    types[type] &amp;&amp; (<span class="built_in">this</span>[types[type]].pageIndex = page) &amp;&amp; <span class="built_in">this</span>.getList(type)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"><a href="#ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†" class="headerlink" title="ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†"></a>ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†</h3><p>å¯¹äºç¬¬ä¸‰ç§åœºæ™¯ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ç»„ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ç»™äº‹ä»¶å›è°ƒå¢åŠ é¢å¤–çš„å‚æ•°ï¼Œå¦‚æœé»˜è®¤çš„å›è°ƒå‚æ•°åªæœ‰ 1 ä¸ªé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„é‚£ç§æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœå›è°ƒå‚æ•°æœ‰å¤šä¸ªçš„è¯ï¼Œç”¨ <code>$event</code> å°±ä¸å¥½å¤„ç†äº†ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚æ¯”å¦‚æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼Œæœ‰ä¸ª <code>on-change</code> å±æ€§ï¼Œå½“æ–‡ä»¶å˜åŒ–çš„æ—¶å€™å°±ä¼šè§¦å‘å›è°ƒï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™æ ·å†™æ˜¯æ²¡é—®é¢˜çš„ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">:on-change</span>=<span class="string">&quot;changeFile&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">changeFile(file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¦‚æœä¸€ä¸ªç»„ä»¶é‡Œæœ‰å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œè€Œæˆ‘ä»¬åˆä¸æƒ³å†™å¤šä¸ª <code>changeFile</code>ï¼Œé‚£å°±éœ€è¦ä¼ é€’é¢å¤–çš„å‚æ•° <code>type</code> äº† ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">el-upload</span> <span class="attr">:on-change</span>=<span class="string">&quot;(file, fileList) =&gt; changeFile(&#x27;org&#x27;, file, fileList)&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">el-button</span>&gt;</span>ä¸Šä¼ <span class="tag">&lt;/<span class="name">el-button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">el-upload</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">changeFile(type, file, fileList) &#123;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-ç§æ·±å…¥-watch-çš„ç”¨æ³•"><a href="#3-ç§æ·±å…¥-watch-çš„ç”¨æ³•" class="headerlink" title="3 ç§æ·±å…¥ watch çš„ç”¨æ³•"></a>3 ç§æ·±å…¥ watch çš„ç”¨æ³•</h2><h3 id="ç«‹å³æ‰§è¡Œ"><a href="#ç«‹å³æ‰§è¡Œ" class="headerlink" title="ç«‹å³æ‰§è¡Œ"></a>ç«‹å³æ‰§è¡Œ</h3><p><code>watch</code> æ˜¯ <code>Vue</code> ä¸­çš„ä¾¦å¬å™¨ï¼Œå¯ä»¥ä¾¦å¬ä¸€ä¸ª <code>Vue</code> å®ä¾‹ä¸Šçš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘è¯¥ä¾¦å¬å™¨ã€‚æ‰€ä»¥ä»–çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šå½“æŸä¸ªæ•°æ®å˜åŠ¨åéœ€è¦åšä»€ä¹ˆçš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ <code>watch</code> å•¦ã€‚<br>å¯¹äº <code>watch</code>ï¼Œå¹³å¸¸æˆ‘ä»¬å†™å¾—æœ€å¤šçš„ä¼°è®¡æ˜¯å¦‚ä¸‹è¿™ç§å†™æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.getMsg()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œä¸€æ¬¡ <code>getMsg</code> æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥åœ¨ <code>mounted</code> é‡Œè°ƒç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">this</span>.getMsg()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´åŠ ç®€ä¾¿çš„å†™æ³•ï¼Œé€šè¿‡ç»™ <code>watch</code> è®¾ç½® <code>immediate: true</code> ï¼Œå³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    list: &#123;</span><br><span class="line">        handler(val) &#123;  <span class="comment">// æ³¨æ„åˆ«å†™é”™æˆ handle</span></span><br><span class="line">            <span class="built_in">this</span>.getMsg()</span><br><span class="line">        &#125;,</span><br><span class="line">        immediate: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ·±åº¦ç›‘å¬"><a href="#æ·±åº¦ç›‘å¬" class="headerlink" title="æ·±åº¦ç›‘å¬"></a>æ·±åº¦ç›‘å¬</h3><p>ä¾¦å¬å™¨å¯¹äºå±æ€§å˜æ›´åä¼šè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œä½†æ˜¯ä»…é™äºè¯¥å±æ€§æœ¬èº«ï¼Œå¦‚æœå˜æ›´çš„æ˜¯å±æ€§çš„å±æ€§ï¼Œåˆ™ä¸ä¼šè§¦å‘ä¾¦å¬å›è°ƒï¼Œå¦‚æœæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç»™ <code>watch</code> åŠ ä¸Š â€˜deep: trueâ€™ å³å¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: &#123;</span><br><span class="line">        handler(val) &#123; <span class="comment">// do something &#125;,</span></span><br><span class="line">        deep: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">mounted() &#123;</span><br><span class="line">    <span class="built_in">this</span>.obj.name = <span class="string">&#x27;bubuzou&#x27;</span>  <span class="comment">// å°†è§¦å‘ handler</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¤šä¸ª-handlers"><a href="#å¤šä¸ª-handlers" class="headerlink" title="å¤šä¸ª handlers"></a>å¤šä¸ª handlers</h3><p>å®é™…ä¸Šï¼Œ<code>watch</code> å¯ä»¥è®¾ç½®ä¸ºæ•°ç»„ï¼Œæ”¯æŒç±»å‹ä¸º <code>String</code>ã€<code>Object</code> å’Œ <code>Function</code>ã€‚è§¦å‘åï¼Œå¤šä¸ªå¤„ç†å‡½æ•°éƒ½å°†è¢«è°ƒç”¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">watch: &#123;</span><br><span class="line">    obj: [</span><br><span class="line">        <span class="string">&#x27;print&#x27;</span>,</span><br><span class="line">        &#123;</span><br><span class="line">            handler: <span class="string">&#x27;print&#x27;</span>,</span><br><span class="line">            deep: <span class="literal">true</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="function"><span class="keyword">function</span>(<span class="params">val, oldValue</span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(val)</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">    print() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.obj)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"><a href="#5-ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§" class="headerlink" title="5 ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§"></a>5 ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§</h2><p>æŒæ¡ <code>Vue</code> çš„å¼€å‘å°æŠ€å·§ï¼Œåœ¨ä¸€äº›ç‰¹å®šçš„åœºæ™¯ä¸‹çœŸçš„å¾ˆç®¡ç”¨ï¼Œè¿™é‡Œåˆ—äº†ä¸€äº›å¸¸ç”¨çš„å°æŠ€å·§ã€‚</p>
<h3 id="å‡½æ•°å¼ç»„ä»¶å®ç°é›¶æ—¶å˜é‡"><a href="#å‡½æ•°å¼ç»„ä»¶å®ç°é›¶æ—¶å˜é‡" class="headerlink" title="å‡½æ•°å¼ç»„ä»¶å®ç°é›¶æ—¶å˜é‡"></a>å‡½æ•°å¼ç»„ä»¶å®ç°é›¶æ—¶å˜é‡</h3><p>æˆ‘ä»¬åœ¨ä½¿ç”¨æ’æ§½çš„æ—¶å€™ï¼ŒçŸ¥é“æœ‰ä¸€ä¸ªå«åšæ’æ§½ <code>prop</code> çš„çŸ¥è¯†ï¼Œä»Šå¤©æˆ‘ä»¬ç”¨ä»–å’Œå‡½æ•°å¼ç»„ä»¶ç»“åˆåœ¨ä¸€å—ï¼Œå®ç°ä¸€ä¸ªé›¶æ—¶å˜é‡çš„ç»„ä»¶ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tempvar.vue</span></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    functional: <span class="literal">true</span>,</span><br><span class="line">    render(h, context) &#123;</span><br><span class="line">        <span class="keyword">const</span> &#123; props,  scopedSlots&#125; = context</span><br><span class="line">        <span class="keyword">return</span> scopedSlots.default &amp;&amp; scopedSlots.default(props || &#123;&#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å¥½äº†å‡½æ•°å¼ç»„ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥ä¸”ä½¿ç”¨ä»–ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tempvar</span> <span class="attr">:var1</span>=<span class="string">&quot;`hello $&#123;user.name&#125;`&quot;</span> <span class="attr">:var2</span>=<span class="string">&quot;user.age ? user.age : &#x27;18&#x27;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123;var1, var2&#125;&quot;</span>&gt;</span></span><br><span class="line">      å§“åï¼š &#123;&#123; var1 &#125;&#125; å¹´é¾„ï¼š&#123;&#123; var2 &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tempvar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="keyword">import</span> tempvar <span class="keyword">from</span> <span class="string">&#x27;@/components/tempvar.vue&#x27;</span></span></span><br><span class="line"><span class="javascript">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span><br><span class="line">      data() &#123;</span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> &#123;</span></span><br><span class="line">              user: &#123;</span><br><span class="line"><span class="javascript">                  name: <span class="string">&#x27;bubuzou&#x27;</span>,</span></span><br><span class="line">                  age: 12,</span><br><span class="line">              &#125;,</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      components: &#123;</span><br><span class="line">          tempvar</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯èƒ½ç»†å¿ƒçš„å°ä¼™ä¼´å‘ç°äº†ï¼Œè¦æŠŠåå­—å‰åŠ ä¸ª <code>hello</code>ã€é»˜è®¤å¹´é¾„è®¾ç½®ä¸º <code>18</code> ç”¨è®¡ç®—å±æ€§å°±å¯ä»¥äº†å‘€ï¼Ÿä¸ºå•¥è¿˜è¦æé‚£ä¹ˆå¤æ‚ï¼Œä¸“é—¨ç”¨ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶å»å®ç°å‘¢ï¼Ÿå…¶å®è¿™ä¸ªå°æŠ€å·§è¿˜æ˜¯å¾ˆæœ‰å¿…è¦å­˜åœ¨çš„ï¼Œå½“è®¸å¤šç»„ä»¶éƒ½æœ‰è¿™ç§æ•°æ®çš„é‡æ–°è®¡ç®—çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæŠ€å·§ï¼Œé‚£ä¹ˆå°±éœ€è¦å†™å¾ˆå¤šå¾ˆå¤šçš„è®¡ç®—å±æ€§ï¼Œè€Œæœ‰äº†å‡½æ•°å¼ç»„ä»¶ <code>tempvar</code> åï¼Œåªéœ€è¦åœ¨ç»„ä»¶é‡Œå¼•å…¥ä»–ï¼Œç„¶åå†™æ’æ§½å°±å¥½äº†ã€‚å°±ç›¸å½“äºæŠŠå†™è®¡ç®—å±æ€§çš„åŠŸå¤«èŠ±åœ¨äº†å†™æ’æ§½ä¸Šäº†ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ç±»ä¼¼çš„å±æ€§è®¡ç®—åŠŸèƒ½ï¼Œè¯¥æ€ä¹ˆé€‰ï¼Œéšä½ å–œæ¬¢å•¦ã€‚</p>
<h3 id="è°ƒè¯•-templateï¼ˆä¸æ¨èï¼‰"><a href="#è°ƒè¯•-templateï¼ˆä¸æ¨èï¼‰" class="headerlink" title="è°ƒè¯• templateï¼ˆä¸æ¨èï¼‰"></a>è°ƒè¯• templateï¼ˆä¸æ¨èï¼‰</h3><p>åœ¨å¼€å‘è°ƒè¯•çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡ <code>console.log</code> æ¥æ‰“å°å‡ºæŸä¸ªæ•°æ®å¯¹è±¡æ¥æŸ¥çœ‹å…¶å†…éƒ¨çš„ç»“æ„æˆ–è€…å­—æ®µå€¼ï¼Œä½†æ˜¯è¿™æ ·åšè‚¯å®šä¸å¿…åœ¨ <code>template</code> é‡Œå°†å…¶è¾“å‡ºæ›´ç›´æ¥ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">obj: &#123;</span><br><span class="line">    name: <span class="string">&#x27;bubuzou&#x27;</span>,</span><br><span class="line">    age: <span class="number">21</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æ¨¡æ¿ä¸­å±•ç¤ºï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; obj &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é¡µé¢æ¸²æŸ“å®Œæˆåä¼šçœ‹åˆ°ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123; &quot;name&quot;: &quot;bubuzou&quot;, &quot;age&quot;: 21 &#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºè¿™æ ·çš„æ¸²æŸ“ç»“æœè™½ç„¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ª <code>obj</code> æ˜¯å±‚çº§å¾ˆæ·±ä¸”å­—æ®µå¾ˆå¤šçš„æ•°æ®ï¼Œæ˜¾ç¤ºå‡ºæ¥å°±ä¼šä¸€å †æ•°æ®ç ¸åœ¨ä¸€å—ï¼Œä¸æ¯«æ²¡æœ‰é˜…è¯»ä½“éªŒã€‚</p>
<p>å› æ­¤åŸºäºè¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>console.log</code> æŒ‚è½½åœ¨ <code>Vue</code> çš„å®ä¾‹åŸå‹ä¸Šï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// main.js</span></span><br><span class="line">Vue.prototype.$log = <span class="built_in">window</span>.console.log</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ä»–äº†ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; $log( obj ) &#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºå½“å‰çš„æ•°æ®å¯¹è±¡ï¼Œåœ¨æ˜¾ç¤ºæ•ˆæœä¸Šå’Œ <code>console.log</code> ç›´æ¥æ‰“å°åˆ«æ— äºŒè‡´ã€‚</p>
<p>ä½†è¯´äº†è¿™ä¹ˆå¤šï¼Œä½¿ç”¨ <code>Vue</code> è¿›è¡Œå¼€å‘è°ƒè¯•è¿˜æ˜¯å¼ºçƒˆæ¨èå®˜æ–¹çš„<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-devtools">vue-devtools</a> å·¥å…·ï¼Œè°ç”¨è°çŸ¥é“ã€‚</p>
<h3 id="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"><a href="#ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°" class="headerlink" title="ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°"></a>ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°</h3><p>é€šå¸¸å¦‚æœæˆ‘ä»¬æƒ³åœ¨å­ç»„ä»¶é’©å­å‡½æ•°è§¦å‘çš„æ—¶å€™é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- parent.vue --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">child</span> @<span class="attr">mounted</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// child.vue</span></span><br><span class="line"><span class="built_in">this</span>.$emit(<span class="string">&#x27;mounted&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„å†™æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ <code>hookEvent</code>ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">child</span> @<span class="attr">hook:mounted</span>=<span class="string">&quot;doSomething&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é’©å­å‡½æ•°é™¤äº†ä»¥ä¸Šç”¨æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡åŠ¨æ€æ³¨å†Œåšä¸€äº›åˆ«çš„äº‹æƒ…ï¼Œæ¯”å¦‚ç»„ä»¶é”€æ¯å‰è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    <span class="keyword">let</span> setIntervalId = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">888</span>);</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">this</span>.$once(<span class="string">&quot;hook:beforeDestroy&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">clearInterval</span>(setIntervalId)</span><br><span class="line">        setIntervalId = <span class="literal">null</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·¯ç”±å‚æ•°è§£è€¦"><a href="#è·¯ç”±å‚æ•°è§£è€¦" class="headerlink" title="è·¯ç”±å‚æ•°è§£è€¦"></a>è·¯ç”±å‚æ•°è§£è€¦</h3><p>å‚æ•°è§£è€¦ï¼Œå•¥æ„æ€å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ¯”å¦‚å¯¹äºè¿™ä¹ˆä¸€ä¸²è·¯ç”±ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/home/:type/:id&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å½“å‰é¡µé¢çš„è·¯å¾„æ˜¯ <code>http://xxx/detail/preview/21?sex=male</code>ï¼Œå¹³æ—¶æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™æˆ–å¤šæˆ–å°‘çš„ä¼šå†™å‡ºè¿™ç§ä»£ç ï¼Œåœ¨ç»„ä»¶é‡Œä½¿ç”¨ <code>$route</code> ç»™ç»„ä»¶ä¼ å‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.$route.params.type === <span class="string">&#x27;preview&#x27;</span>) &#123;</span><br><span class="line">        <span class="built_in">this</span>.isPreview = <span class="literal">true</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.isPreview = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.id = <span class="built_in">this</span>.$route.params.id</span><br><span class="line">    <span class="built_in">this</span>.sex = <span class="built_in">this</span>.$route.query.sex</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å­å†™æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±æ˜¯ä¼šä½¿å¾—ç»„ä»¶å’Œè·¯ç”±é«˜åº¦è€¦åˆï¼Œè®©ç»„ä»¶åªèƒ½åœ¨å«æœ‰ç‰¹å®š <code>URL</code> çš„é¡µé¢ä¸­ä½¿ç”¨ï¼Œé™åˆ¶äº†ç»„ä»¶çš„é€šç”¨æ€§ã€‚å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>props</code> ä¼ å‚ï¼Œæ¥è§£è€¦è·¯ç”±å‚æ•°ï¼Œå°†ä¸Šé¢çš„è·¯ç”±é…ç½®æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">&#x27;/home/:type/:id&#x27;</span>,</span><br><span class="line">    name: <span class="string">&#x27;Home&#x27;</span>,</span><br><span class="line">    component: Home,</span><br><span class="line">    props: <span class="function">(<span class="params">route</span>) =&gt;</span> (&#123;</span><br><span class="line">      type: route.params.type,</span><br><span class="line">      id: route.params.id,</span><br><span class="line">      sex: route.query.sex,</span><br><span class="line">    &#125;),</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ç»„ä»¶ <code>props</code> åŠ ä¸Šå‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">props: [<span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;sex&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>ç»„ä»¶é‡Œä½¿ç”¨å‚æ•°çš„æ—¶å€™å°±ä¸éœ€è¦ç”¨ <code>this.$route</code>ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ <code>this.type</code> å³å¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç»„ä»¶å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨äº†ã€‚</p>
<h3 id="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"><a href="#æ·±åº¦ä½œç”¨é€‰æ‹©å™¨" class="headerlink" title="æ·±åº¦ä½œç”¨é€‰æ‹©å™¨"></a>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨</h3><p>å½“ç»™ <code>style</code> åŠ ä¸Š <code>scoped</code>ï¼Œé¡µé¢æ¸²æŸ“å®Œæˆåä¼šç»™ <code>html</code> å’Œ <code>css</code> é€‰æ‹©å™¨åŠ ä¸Šå“ˆå¸Œå€¼ç”¨äºè¡¨ç¤ºå”¯ä¸€æ€§ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home&quot;</span> <span class="attr">data-v-fae5bece</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-v-fae5bece</span> <span class="attr">class</span>=<span class="string">&quot;el-button el-button-primary&quot;</span>&gt;</span>æäº¤<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.home</span> <span class="selector-class">.el-button</span><span class="selector-attr">[data-v-fae5bece]</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯¹äºåœ¨ <code>style</code> ä¸­è¢«åŠ äº† <code>scoped</code> çš„ç»„ä»¶ï¼Œå…¶æ ·å¼å°†åªèƒ½ä½œç”¨äºç»„ä»¶å†…éƒ¨ï¼Œä¸ä¼šå¯¹å…¶å­ç»„ä»¶é€ æˆå½±å“ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- çˆ¶ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>çˆ¶æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">child</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span> <span class="attr">scoped</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.home</span> <span class="selector-class">.el-button</span> &#123;</span></span><br><span class="line">    font-size: 20px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- å­ç»„ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">el-button</span> <span class="attr">type</span>=<span class="string">&quot;primary&quot;</span>&gt;</span>å­æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å½“é¡µé¢æ¸²æŸ“å‡ºæ¥åï¼Œä¼šæ˜¯å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;home&quot;</span> <span class="attr">data-v-fae5bece</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">data-v-fae5bece</span> <span class="attr">class</span>=<span class="string">&quot;el-button el-button-primary&quot;</span>&gt;</span>çˆ¶æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span> <span class="attr">data-v-fae5bece</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;el-button el-button-primary&quot;</span>&gt;</span>å­æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šé¢çš„ <code>html</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>.home .el-button[data-v-fae5bece]</code> è¿™ä¸ªé€‰æ‹©å™¨ä½œç”¨ä¸åˆ°å­æŒ‰é’®è¿™ä¸ª <code>button</code>ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦è®©çˆ¶ç»„ä»¶çš„æ ·å¼èƒ½ä½œç”¨åˆ°å­ç»„ä»¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶çš„ <code>style</code> ä¸ŠåŠ äº† <code>scoped</code>ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ <code>&gt;&gt;&gt;</code>ï¼Œæ¯”å¦‚åœ¨åˆšåˆšçš„ä¾‹å­ä¸Šå¯ä»¥ç»™çˆ¶ç»„ä»¶æ ·å¼åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚</p>
<blockquote>
<p>æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ä¼šè¢« <code>Vue Loader</code> å¤„ç†ï¼Œä¸”åªèƒ½åœ¨æœ‰é¢„å¤„ç†å™¨çš„åœ°æ–¹ä½¿ç”¨ã€‚ç”±äºæŸäº›é¢„å¤„ç†å™¨æ¯”å¦‚ <code>Sass</code> ä¸èƒ½æ­£ç¡®è§£æ <code>&gt;&gt;&gt;</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒçš„åˆ«åï¼š<code>/deep/</code> æˆ– <code>::v-deep</code> æ¥æ›¿ä»£ã€‚</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line"><span class="selector-class">.home</span> &#123;</span><br><span class="line">    /deep/ .el-button &#123;</span><br><span class="line">        <span class="selector-tag">font-size</span>: 20<span class="selector-tag">px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨åï¼Œé€‰æ‹©å™¨ä¼šç”±åŸæ¥çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.home</span> <span class="selector-class">.el-button</span><span class="selector-attr">[data-v-fae5bece]</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å˜æˆå¦‚ä¸‹çš„ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.home</span><span class="selector-attr">[data-v-fae5bece]</span> <span class="selector-class">.el-button</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903686926254087">vue ç¯‡ä¹‹äº‹ä»¶æ€»çº¿ï¼ˆEventBusï¼‰</a></li>
<li>ã€ŠVue å¼€å‘å®æˆ˜ã€‹</li>
</ul>
<h2 id="æ„Ÿè°¢é˜…è¯»"><a href="#æ„Ÿè°¢é˜…è¯»" class="headerlink" title="æ„Ÿè°¢é˜…è¯»"></a>æ„Ÿè°¢é˜…è¯»</h2><p>å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œç»™æœ¬æ–‡ç‚¹ä¸ªåœ¨çœ‹å§</p>
<p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202009/gzh.png" alt="å¤§æµ·æˆ‘æ¥äº†"></p>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">æœç´¢</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2020/10/14/article-catalog/" title="è¯¦ç»†è®¾è®¡ä¸€ä¸ªæ–‡ç« é¡µç›®å½•æ’ä»¶" class="prev">PREV</a><a href="/2020/08/06/wepy2/" title="å°ç¨‹åºå‡çº§WePY2è¸©å‘è®°" class="next">NEXT</a></div><a href="#comment" class="comment-anchor"></a><div id="vcomments"></div><script>new Valine({
    el: "#vcomments",
    appId: "aD8jJBpu4oew3ovNY73z6Rdq-gzGzoHsz",
    appKey: "FdzS5SOPHdhYQoEUngQ8K2QW",
    notify: false,
    verify: false,
    avatar: "robohash",
    visitor: true,
    placeholder: "éšä¾¿è¯´ç‚¹ä»€ä¹ˆï½.ï½",
});</script><div class="copyright"><p>Â© 2016 - 2024 <a href="https://weibo.com/316000381" target="_blank">typeR</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p><p><span id="busuanzi_container_site_pv">æœ¬ç«™æ€»è®¿é—®æ•°ï¼š<span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv" style="padding-left: 6px;">è®¿å®¢æ•°ï¼š<span id="busuanzi_value_site_uv"></span></span></p><p> <span style="padding-right: 6px;">é—½ICPå¤‡16007301å·-2</span></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/jquery-1.8.2.min.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/articleCatalog.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>