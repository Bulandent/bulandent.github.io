<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> ã€Œå»ºè®®æ”¶è—ã€é€ä½ ä¸€ä»½ç²¾å¿ƒæ€»ç»“çš„3ä¸‡å­—ES6å®ç”¨æŒ‡å—ï¼ˆå…¨ï¼‰ Â· æ­¥æ­¥èµ°</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="ä» ES2015 åˆ° ES2021 å…¨éƒ¨çŸ¥è¯†ç‚¹çš„æ€»ç»“ã€‚"><meta name="keywords" content="Promiseã€Setã€Proxyã€Reflectã€Mapã€Generatorã€Iteratorã€Moduleã€Classç­‰ï¼›"><meta name="author" content="typeR"><link rel="short icon" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/favicon.ico"><link rel="stylesheet" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="https://bubuzou.com/atom.xml" title="æ­¥æ­¥èµ°"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="æ­¥æ­¥èµ°" type="application/atom+xml">
</head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/logo.png"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="åšæ–‡" class="nav-list-link">åšæ–‡</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="å½’æ¡£" class="nav-list-link">å½’æ¡£</a></li><li class="nav-list-item"><a href="/categories/live/" target="_self" data-hover="ç”Ÿæ´»" class="nav-list-link">ç”Ÿæ´»</a></li><li class="nav-list-item"><a href="/categories/read/" target="_self" data-hover="è¯»ä¹¦" class="nav-list-link">è¯»ä¹¦</a></li><li class="nav-list-item"><a href="/about/" target="_self" data-hover="å…³äº" class="nav-list-link">å…³äº</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">ã€Œå»ºè®®æ”¶è—ã€é€ä½ ä¸€ä»½ç²¾å¿ƒæ€»ç»“çš„3ä¸‡å­—ES6å®ç”¨æŒ‡å—ï¼ˆå…¨ï¼‰</h1><div class="post-info">2020-11-17<p class="visit"><i data-identity="2020/11/17/es6/" class="article-timer"></i><span>æ¬¡è®¿é—®</span></p></div><div class="post-content"><p>å†™æœ¬ç¯‡æ–‡ç« ç›®çš„æ˜¯ä¸ºäº†å¤¯å®åŸºç¡€ï¼ŒåŸºäºé˜®ä¸€å³°è€å¸ˆçš„è‘—ä½œ <a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/">ECMAScript 6 å…¥é—¨</a> ä»¥åŠ <a target="_blank" rel="noopener" href="https://github.com/tc39/proposals/blob/master/finished-proposals.md">tc39-finished-proposals</a> è¿™ä¸¤ä¸ªçŸ¥è¯†çº¿è·¯æ€»ç»“æç‚¼å‡ºæ¥çš„é‡ç‚¹å’Œè¦ç‚¹ï¼Œæ¶‰åŠåˆ°ä» <code>ES2015</code> åˆ° <code>ES2021</code> çš„å‡ ä¹æ‰€æœ‰çŸ¥è¯†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰ç…§ä¸€ä¸ªçŸ¥è¯†ç‚¹é…ä¸Šä¸€æ®µä»£ç çš„å½¢å¼æ¥å±•ç¤ºï¼Œæ‰€ä»¥ç¯‡å¹…è¾ƒé•¿ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºç¯‡å¹…è¿‡é•¿ï¼Œæ‰€ä»¥å°±æ²¡æŠŠ <code>Stage 2</code> å’Œ <code>Stage 3</code> é˜¶æ®µçš„ææ¡ˆå†™åˆ°è¿™é‡Œï¼Œåç»­ <code>ES2021</code> æ›´æ–°äº†æˆ‘å†åŒæ­¥æ›´æ–°ã€‚</p>
<blockquote>
<p>æœ‰ 5 ä¸ªææ¡ˆå·²ç»åˆ—å…¥ Expected Publication Year in 2021 æ‰€ä»¥æœ¬ç¯‡ä¸­æš‚ä¸”æŠŠä»–ä»¬å½’ä¸º ES2021ã€‚</p>
</blockquote>
<p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es6.png"></p>
<a id="more"></a>

<h2 id="ES6å‰è¨€"><a href="#ES6å‰è¨€" class="headerlink" title="ES6å‰è¨€"></a>ES6å‰è¨€</h2><h3 id="å‘å±•å²"><a href="#å‘å±•å²" class="headerlink" title="å‘å±•å²"></a>å‘å±•å²</h3><p>èƒ½å†™å¥½ <code>JS</code> å›ºç„¶æ˜¯é‡è¦çš„ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œæˆ‘ä»¬ä¹Ÿè¦äº†è§£è‡ªå·±æ‰€ä½¿ç”¨è¯­è¨€çš„å‘å±•å†ç¨‹ï¼Œè¿™é‡Œå¼ºçƒˆæ¨èçœ‹ <a target="_blank" rel="noopener" href="https://cn.history.js.org/index.html">ã€ŠJavaScript 20å¹´ã€‹</a>ï¼Œæœ¬ä¹¦è¯¦ç»†è®°è½½å’Œè§£è¯»äº†è‡ª 1995 å¹´è¯­è¨€è¯ç”Ÿåˆ° 2015 å¹´ <code>ES6</code> è§„èŒƒåˆ¶å®šä¸ºæ­¢ï¼Œå…±è®¡ 20 å¹´çš„ <code>JavaScript</code> è¯­è¨€æ¼”åŒ–å†ç¨‹ã€‚</p>
<h3 id="ç‰ˆæœ¬è¯´æ˜"><a href="#ç‰ˆæœ¬è¯´æ˜" class="headerlink" title="ç‰ˆæœ¬è¯´æ˜"></a>ç‰ˆæœ¬è¯´æ˜</h3><p>2011 å¹´ï¼Œå‘å¸ƒäº† <code>ECMAScript 5.1</code> ç‰ˆï¼Œè€Œ 2015 å¹´ 6 æœˆå‘å¸ƒäº† <code>ES6</code> çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬åˆå« <code>ES2015</code>ã€‚<code>ES6</code> å…¶å®æ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼ŒæŒ‡ä»£ 5.1 ç‰ˆæœ¬ä»¥åçš„ä¸‹ä¸€ä»£æ ‡å‡†ã€‚<code>TC39</code> è§„å®šå°†äºæ¯å¹´çš„ 6 æœˆå‘å¸ƒä¸€æ¬¡æ­£å¼ç‰ˆæœ¬ï¼Œç‰ˆæœ¬å·ä»¥å½“å¹´çš„å¹´ä»½ä¸ºå‡†ï¼Œæ¯”å¦‚å½“å‰å·²ç»å‘å¸ƒäº† <code>ES2015</code>ã€<code>ES2016</code>ã€<code>ES2017</code>ã€<code>ES2018</code>ã€<code>ES2019</code>ã€<code>ES2020</code> ç­‰ç‰ˆæœ¬ã€‚</p>
<h3 id="ææ¡ˆå‘å¸ƒæµç¨‹"><a href="#ææ¡ˆå‘å¸ƒæµç¨‹" class="headerlink" title="ææ¡ˆå‘å¸ƒæµç¨‹"></a>ææ¡ˆå‘å¸ƒæµç¨‹</h3><p>ä»»ä½•äººéƒ½å¯ä»¥å‘ <code>TC39</code> ææ¡ˆï¼Œè¦æ±‚ä¿®æ”¹è¯­è¨€æ ‡å‡†ã€‚ä¸€ç§æ–°çš„è¯­æ³•ä»ææ¡ˆåˆ°å˜æˆæ­£å¼æ ‡å‡†ï¼Œéœ€è¦ç»å†äº”ä¸ªé˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µçš„å˜åŠ¨éƒ½éœ€è¦ç”± <code>TC39</code> å§”å‘˜ä¼šæ‰¹å‡†ã€‚</p>
<ul>
<li><code>Stage 0</code> - <code>Strawperson</code>ï¼ˆå±•ç¤ºé˜¶æ®µï¼‰</li>
<li><code>Stage 1</code> - <code>Proposal</code>ï¼ˆå¾æ±‚æ„è§é˜¶æ®µï¼‰</li>
<li><code>Stage 2</code> - <code>Draft</code>ï¼ˆè‰æ¡ˆé˜¶æ®µï¼‰</li>
<li><code>Stage 3</code> - <code>Candidate</code>ï¼ˆå€™é€‰äººé˜¶æ®µï¼‰</li>
<li><code>Stage 4</code> - <code>Finished</code>ï¼ˆå®šæ¡ˆé˜¶æ®µï¼‰</li>
</ul>
<p>ä¸€ä¸ªææ¡ˆåªè¦èƒ½è¿›å…¥ <code>Stage 2</code>ï¼Œå°±å·®ä¸å¤šè‚¯å®šä¼šåŒ…æ‹¬åœ¨ä»¥åçš„æ­£å¼æ ‡å‡†é‡Œé¢ã€‚<code>ECMAScript</code> å½“å‰çš„æ‰€æœ‰ææ¡ˆï¼Œå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ <a target="_blank" rel="noopener" href="https://github.com/tc39/ecma262">ecma262</a>ã€‚å…³äºææ¡ˆæµç¨‹å¯ä»¥åœ¨è¿™é‡Œ <a target="_blank" rel="noopener" href="https://tc39.es/process-document/">TC39_Process</a> çœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<h2 id="ES2015"><a href="#ES2015" class="headerlink" title="ES2015"></a>ES2015</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2015.png"></p>
<h3 id="å£°æ˜"><a href="#å£°æ˜" class="headerlink" title="å£°æ˜"></a>å£°æ˜</h3><p><code>const</code>ï¼šå£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œ<code>let</code>ï¼šå£°æ˜ä¸€ä¸ªå˜é‡ï¼›<code>const/let</code> å£°æ˜çš„å¸¸é‡/å˜é‡éƒ½åªèƒ½ä½œç”¨äºä»£ç å—ï¼ˆå—çº§ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸï¼‰é‡Œï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p><code>const/let</code> ä¸å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥åœ¨ä»£ç å—é‡Œå¿…é¡»å…ˆå£°æ˜ç„¶åæ‰å¯ä»¥ä½¿ç”¨ï¼Œè¿™å«æš‚æ—¶æ€§æ­»åŒºï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;bubuzou&#x27;</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line">    <span class="keyword">let</span> name</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(name)</span><br></pre></td></tr></table></figure>

<p><code>const/let</code> ä¸å…è®¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name = <span class="string">&#x27;&#x27;</span>  <span class="comment">// SyntaxError</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>const</code> å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”åæœŸä¸èƒ½è¢«ä¿®æ”¹ï¼Œä½†å¦‚æœåˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¸èƒ½ä¿®æ”¹çš„æ˜¯è¯¥å¯¹è±¡çš„å†…å­˜åœ°å€ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">person.name = <span class="string">&#x27;bubuzou&#x27;</span>  </span><br><span class="line"><span class="built_in">console</span>.log(person.name)  <span class="comment">// &#x27;bubuzou&#x27;</span></span><br><span class="line">person = <span class="string">&#x27;&#x27;</span>  <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure>

<p><code>const/let</code> åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å¸¸é‡/å˜é‡ä¸ä¼šæŒ‚åˆ°é¡¶å±‚å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ window ï¼‰çš„å±æ€§ä¸­ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">12</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.name)  <span class="comment">// &#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.age)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h3><p><strong>è§£æ„ç±»å‹</strong>ï¼š</p>
<ul>
<li><p>å­—ç¬¦ä¸²è§£æ„</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c = <span class="string">&#x27;c&#x27;</span>] = <span class="string">&#x27;12&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(a, b, c)  <span class="comment">// &#x27;1&#x27; &#x27;2&#x27; &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°å€¼è§£æ„</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toFixed</span>: tf&#125; = <span class="number">10</span></span><br><span class="line"><span class="built_in">console</span>.log( tf.call(<span class="built_in">Math</span>.PI, <span class="number">2</span>) )  <span class="comment">// 3.14</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¸ƒå°”å€¼è§£æ„</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">toString</span>: ts&#125; = <span class="literal">true</span></span><br><span class="line"><span class="built_in">console</span>.log( ts.call(<span class="literal">false</span>) )  <span class="comment">// &#x27;false&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„è§£æ„ï¼šç­‰å·å³ä¾§çš„æ•°æ®å…·æœ‰ <code>Iterator</code> æ¥å£å¯ä»¥è¿›è¡Œæ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ï¼›</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ„ä¸æˆåŠŸçš„å˜é‡å€¼ä¸º undefined</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="built_in">console</span>.log(a, b, c)  <span class="comment">// 1, 2, undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯ä»¥è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">let</span> [x, y, z = <span class="number">3</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="literal">null</span>]</span><br><span class="line"><span class="built_in">console</span>.log(x, y, z)  <span class="comment">// 1, 2, null</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä»€ä¹ˆæ ·çš„æ•°æ®å…·æœ‰ <code>Iterator</code> æ¥å£å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªå¯¹è±¡èƒ½å¤Ÿé€šè¿‡ [Symbol.iterator] è®¿é—®ï¼Œä¸”èƒ½å¤Ÿè¿”å›ä¸€ä¸ªç¬¦åˆè¿­ä»£å™¨åè®®çš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±æ˜¯å¯è¿­ä»£çš„ã€‚ç›®å‰å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡æœ‰ï¼šStringã€Arrayã€TypeArrayã€Mapã€Setã€arguments å’Œ NodeList ç­‰ã€‚</p>
</blockquote>
</li>
<li><p>å¯¹è±¡è§£æ„ï¼šä¸æ•°ç»„æŒ‰ç…§ç´¢å¼•ä½ç½®è¿›è¡Œè§£æ„ä¸åŒï¼Œå¯¹è±¡è§£æ„æ˜¯æŒ‰ç…§å±æ€§åè¿›è¡Œè§£æ„èµ‹å€¼ï¼Œå¦‚æœåœ¨å½“å‰å¯¹è±¡å±æ€§åŒ¹é…ä¸æˆåŠŸåˆ™ä¼šå»å¯¹è±¡çš„åŸå‹å±æ€§ä¸ŠæŸ¥æ‰¾ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">name</span>: name, <span class="attr">age</span>: age &#125; = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br></pre></td></tr></table></figure>

  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç®€å†™</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, age &#125; = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br></pre></td></tr></table></figure>

  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹åä¸”è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">name</span>: name1, <span class="attr">age</span>: age1 = <span class="number">12</span> &#125; = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(name1, age1)  <span class="comment">// &#x27;å¸ƒå…°&#x27; 12</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‡½æ•°å‚æ•°è§£æ„ï¼šå…¶å®å°±æ˜¯è¿ç”¨ä¸Šé¢çš„å¯¹è±¡è§£æ„å’Œæ•°ç»„è§£æ„è§„åˆ™ï¼›</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log([x, y])</span><br><span class="line">    <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line">move(&#123;<span class="attr">x</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">8</span>&#125;)  <span class="comment">// [3, 8]</span></span><br><span class="line">move(&#123;<span class="attr">x</span>: <span class="number">3</span>&#125;)        <span class="comment">// [3, 0]</span></span><br><span class="line">move(&#123;&#125;)            <span class="comment">// [0, 0]</span></span><br><span class="line">move()              <span class="comment">// [0, 0]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>è§£æ„è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>åªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼ˆåŒæ˜¯å¯¹è±¡æˆ–åŒæ˜¯æ•°ç»„ï¼‰ï¼Œåˆ™å·¦è¾¹çš„å˜é‡ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ï¼›</li>
<li>è§£æ„ä¸æˆåŠŸçš„å˜é‡å€¼ä¸º <code>undefined</code>ï¼›</li>
<li>é»˜è®¤å€¼ç”Ÿæ•ˆçš„å‰ææ˜¯å½“ç­‰å·å³è¾¹å¯¹åº”çš„å€¼å…¨ç­‰äº undefined çš„æ—¶å€™ï¼›</li>
<li>åªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œåˆ™ä¼šè¿›è¡Œè‡ªåŠ¨è£…ç®±å°†å…¶è½¬æˆå¯¹è±¡ï¼›</li>
<li><code>null</code> å’Œ <code>undefined</code> éƒ½æ— æ³•è½¬æˆå¯¹è±¡ï¼Œæ‰€ä»¥æ— æ³•è§£æ„ã€‚</li>
</ul>
<p><strong>è§£æ„åº”ç”¨</strong>ï¼š</p>
<ul>
<li><p>äº¤æ¢å˜é‡çš„å€¼ï¼›</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">2</span>;</span><br><span class="line">[x, y] = [y, x]</span><br><span class="line"><span class="built_in">console</span>.log(x, y)  <span class="comment">// 2 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡å‡½æ•°è¿”å›å¯¹è±¡å±æ€§</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getParams</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        name: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">        age: <span class="number">12</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;name, age&#125; = getParams()</span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡å®šä¹‰å‡½æ•°å‚æ•°æ¥å£°æ˜å˜é‡</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">    age: <span class="number">12</span></span><br><span class="line">&#125;</span><br><span class="line">init(person)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ™®é€šç”¨æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">person</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> &#123;name, age&#125; = person</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´ç®€æ´ç”¨æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params">&#123;name, age&#125;</span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æŒ‡å®šå‡½æ•°å‚æ•°é»˜è®¤å€¼</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">initPerson</span>(<span class="params">&#123;name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span>&#125; = &#123;&#125;</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name, age)</span><br><span class="line">&#125;</span><br><span class="line">initPerson()  <span class="comment">// &#x27;å¸ƒå…°&#x27; 12</span></span><br><span class="line">initPerson(&#123;<span class="attr">age</span>: <span class="number">20</span>&#125;)  <span class="comment">// &#x27;å¸ƒå…°&#x27; 20</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æå– <code>JSON</code> æ•°æ®</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> responseData = &#123;</span><br><span class="line">    code: <span class="number">1000</span>,</span><br><span class="line">    data: &#123;&#125;,</span><br><span class="line">    message: <span class="string">&#x27;success&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; code, data = &#123;&#125; &#125; = responseData</span><br></pre></td></tr></table></figure>
</li>
<li><p>éå† Map ç»“æ„</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set(<span class="string">&#x27;beijing&#x27;</span>, <span class="string">&#x27;åŒ—äº¬&#x27;</span>)</span><br><span class="line">map.set(<span class="string">&#x27;xiamen&#x27;</span>, <span class="string">&#x27;å¦é—¨&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•å’Œå±æ€§</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; readFile, writeFile &#125; = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="å­—ç¬¦ä¸²æ‰©å±•"><a href="#å­—ç¬¦ä¸²æ‰©å±•" class="headerlink" title="å­—ç¬¦ä¸²æ‰©å±•"></a>å­—ç¬¦ä¸²æ‰©å±•</h3><ul>
<li><p>å¯ä»¥ä½¿ç”¨ <code>Unicode</code> ç¼–ç æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹å†™æ³•éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ z</span></span><br><span class="line"><span class="string">&#x27;\z&#x27;</span>      <span class="comment">// è½¬ä¹‰</span></span><br><span class="line"><span class="string">&#x27;\172&#x27;</span>    <span class="comment">// åè¿›åˆ¶è¡¨ç¤ºæ³•</span></span><br><span class="line"><span class="string">&#x27;\x7A&#x27;</span>    <span class="comment">// åå…­è¿›åˆ¶è¡¨ç¤ºæ³•</span></span><br><span class="line"><span class="string">&#x27;\u007A&#x27;</span>  <span class="comment">// Unicode æ™®é€šè¡¨ç¤ºæ³•</span></span><br><span class="line"><span class="string">&#x27;\u&#123;7A&#125;&#x27;</span>  <span class="comment">// Unicode å¤§æ‹¬å·è¡¨ç¤ºæ³•</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.52unicode.com/">www.52unicode.com</a> è¿™ä¸ªç½‘ç«™å¯ä»¥æŸ¥è¯¢åˆ°å¸¸è§ç¬¦å·çš„ Unicode ç¼–ç ã€‚</p>
</blockquote>
</li>
<li><p>å¯ä»¥ä½¿ç”¨ <code>for...of</code> <strong>æ­£ç¡®éå†</strong>å­—ç¬¦ä¸²ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”&#x27;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> emoji <span class="keyword">of</span> str) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(emoji) <span class="comment">// ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>, l = str.length; i &lt; l; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(str[i])  <span class="comment">// ä¸èƒ½æ­£ç¡®è¾“å‡ºè¡¨æƒ…</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¨¡æ¿å­—ç¬¦ä¸²ä½¿ç”¨ä¸¤ä¸ªåå¼•å·æ ‡è¯†ï¼ˆ``ï¼‰ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä½¿ç”¨å®ƒåœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;hero&#x27;</span></span><br><span class="line"><span class="keyword">let</span> tips = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, </span></span><br><span class="line"><span class="string">    welcome to my world.`</span></span><br><span class="line">alert( tips )</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ ‡ç­¾æ¨¡æ¿ï¼šåœ¨å‡½æ•°ååé¢æ¥ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç›¸å½“äºç»™å‡½æ•°ä¼ å…¥äº†å‚æ•°è¿›è¡Œè°ƒç”¨ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">let</span> tips = parse<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, are you <span class="subst">$&#123;age&#125;</span> years old this year?`</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parse</span>(<span class="params">stringArr, ...variable</span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›¸å½“äºä¼ é€’å¦‚ä¸‹å‚æ•°è¿›è¡Œè°ƒç”¨ parse å‡½æ•°</span></span><br><span class="line">parse([<span class="string">&quot;Hello &quot;</span>, <span class="string">&quot;, are you &quot;</span>, <span class="string">&quot; years old this year?&quot;</span>], name, age)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>String.fromCodePoint()</code> ç”¨äºä» <code>Unicode</code> ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå¯ä»¥æ”¯æŒ <code>0xFFFF</code> çš„ç ç‚¹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.fromCharCode(<span class="number">0x1f600</span>)   <span class="comment">// &quot;ï˜€&quot;</span></span><br><span class="line"><span class="built_in">String</span>.fromCodePoint(<span class="number">0x1f600</span>)  <span class="comment">// &quot;ğŸ˜€&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>String.raw()</code> è¿”å›æŠŠå­—ç¬¦ä¸²æ‰€æœ‰å˜é‡æ›¿æ¢ä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰çš„ç»“æœï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">String</span>.raw<span class="string">`Hi\n<span class="subst">$&#123;<span class="number">2</span>+<span class="number">3</span>&#125;</span>!`</span>  <span class="comment">// &quot;Hi\n5!&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>codePointAt()</code> è¿”å›å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹ï¼Œå¯¹äº <code>Unicode</code> å¤§äº <code>0xFFFF</code> çš„å­—ç¬¦ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯2ä¸ªå­—ç¬¦ï¼Œåè¿›åˆ¶ç ç‚¹è½¬æˆåå…­è¿›åˆ¶å¯ä»¥ä½¿ç”¨ <code>toString(16)</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> emoji = <span class="string">&#x27;ğŸ¤£&#x27;</span></span><br><span class="line">emoji.length  <span class="comment">// 2</span></span><br><span class="line">emoji.charCodeAt(<span class="number">0</span>).toString(<span class="number">16</span>)  <span class="comment">// &#x27;d83d&#x27;</span></span><br><span class="line">emoji.charCodeAt(<span class="number">1</span>).toString(<span class="number">16</span>)  <span class="comment">// &#x27;de00&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">String</span>.fromCodePoint(<span class="number">0xd83d</span>, <span class="number">0xde00</span>) === <span class="string">&#x27;ğŸ¤£&#x27;</span>  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>normalize()</code> æ–¹æ³•ä¼šæŒ‰ç…§æŒ‡å®šçš„ä¸€ç§ <code>Unicode</code> æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚ï¼ˆå¦‚æœè¯¥å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™é¦–å…ˆå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&#x27;\u00F1&#x27;</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">&#x27;\u006E\u0303&#x27;</span></span><br><span class="line"></span><br><span class="line">str1  <span class="comment">//  Ã±</span></span><br><span class="line">str2  <span class="comment">//  Ã±</span></span><br><span class="line">str1 === str2  <span class="comment">// false</span></span><br><span class="line">str1.length === str2.length  <span class="comment">// false</span></span><br><span class="line">str1.normalize() === str2.normalize()  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­ä¸²ï¼š</p>
<ul>
<li><p>includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚</p>
</li>
<li><p>startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚</p>
</li>
<li><p>endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;Hello world!&#x27;</span></span><br><span class="line"></span><br><span class="line">s.includes(<span class="string">&#x27;o&#x27;</span>)        <span class="comment">// true</span></span><br><span class="line">s.startsWith(<span class="string">&#x27;Hello&#x27;</span>)  <span class="comment">// true</span></span><br><span class="line">s.endsWith(<span class="string">&#x27;!&#x27;</span>)        <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;Hello world!&#x27;</span></span><br><span class="line"></span><br><span class="line">s.includes(<span class="string">&#x27;Hello&#x27;</span>, <span class="number">6</span>)   <span class="comment">// false</span></span><br><span class="line">s.startsWith(<span class="string">&#x27;world&#x27;</span>, <span class="number">6</span>) <span class="comment">// true</span></span><br><span class="line">s.endsWith(<span class="string">&#x27;Hello&#x27;</span>, <span class="number">5</span>)   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•° <code>n</code> æ—¶ï¼Œ<code>endsWith</code> çš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰ <code>n</code> ä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬ <code>n</code> ä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚</p>
</li>
</ul>
</li>
<li><p><code>repeat(n)</code> å°†å½“å‰å­—ç¬¦ä¸²é‡å¤ <code>n</code> æ¬¡åï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="number">2</span>)         <span class="comment">// &#x27;xx&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="number">1.9</span>)       <span class="comment">// &#x27;x&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="literal">NaN</span>)       <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="literal">undefined</span>) <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="string">&#x27;2a&#x27;</span>)      <span class="comment">// &#x27;&#x27;</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="number">-0.6</span>)      <span class="comment">// &#x27;&#x27;ï¼Œè§£é‡Šï¼š0 ~ 1 ä¹‹é—´çš„å°æ•°ç›¸å½“äº 0</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="number">-2</span>)        <span class="comment">// RangeError</span></span><br><span class="line"><span class="string">&#x27;x&#x27;</span>.repeat(<span class="literal">Infinity</span>)  <span class="comment">// RangeError</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="æ•°å€¼æ‰©å±•"><a href="#æ•°å€¼æ‰©å±•" class="headerlink" title="æ•°å€¼æ‰©å±•"></a>æ•°å€¼æ‰©å±•</h3><ul>
<li><p>äºŒè¿›åˆ¶ï¼ˆ0bï¼‰å’Œå…«è¿›åˆ¶ï¼ˆ0oï¼‰è¡¨ç¤ºæ³•ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> b = num.toString(<span class="number">2</span>)  <span class="comment">// äºŒè¿›åˆ¶çš„100ï¼š1100100</span></span><br><span class="line"><span class="keyword">let</span> o = num.toString(<span class="number">8</span>)  <span class="comment">// å…«è¿›åˆ¶çš„100ï¼š144</span></span><br><span class="line"><span class="number">0b1100100</span> === <span class="number">100</span>        <span class="comment">// true</span></span><br><span class="line"><span class="number">0o144</span> === <span class="number">100</span>            <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Number.isFinite()</code> åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯æœ‰é™çš„æ•°ï¼Œå…¥å‚å¦‚æœä¸æ˜¯æ•°å€¼ä¸€å¾‹è¿”å› <code>false</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isFinite(<span class="number">-2.9</span>)      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">NaN</span>)       <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">&#x27;&#x27;</span>)        <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">false</span>)     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="literal">Infinity</span>)  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Number.isNaN()</code> åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸º <code>NaN</code>ï¼Œå¦‚æœå…¥å‚ä¸æ˜¯ <code>NaN</code> é‚£ç»“æœéƒ½æ˜¯ <code>false</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isNaN(<span class="literal">NaN</span>)       <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">&#x27;a&#x27;</span>/<span class="number">0</span>)  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isFinite(<span class="string">&#x27;NaN&#x27;</span>)  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°å€¼è½¬åŒ–ï¼š<code>Number.parseInt()</code> å’Œ <code>Number.parseFloat()</code>ï¼Œéä¸¥æ ¼è½¬åŒ–ï¼Œä»å·¦åˆ°å³è§£æå­—ç¬¦ä¸²ï¼Œé‡åˆ°éæ•°å­—å°±åœæ­¢è§£æï¼Œå¹¶ä¸”æŠŠè§£æçš„æ•°å­—è¿”å›ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;12a&#x27;</span>)  <span class="comment">// 12</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;a12&#x27;</span>)  <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;&#x27;</span>)  <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;0xA&#x27;</span>)  <span class="comment">// 10ï¼Œ0xå¼€å¤´çš„å°†ä¼šè¢«å½“æˆåå…­è¿›åˆ¶æ•°</span></span><br></pre></td></tr></table></figure>

<p>  <code>parseInt()</code> é»˜è®¤æ˜¯ç”¨åè¿›åˆ¶å»è§£æå­—ç¬¦ä¸²çš„ï¼Œå…¶å®ä»–æ˜¯æ”¯æŒä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„ï¼Œè¡¨ç¤ºè¦ä»¥å¤šå°‘è¿›åˆ¶çš„ åŸºæ•°å»è§£æç¬¬ä¸€ä¸ªå‚æ•°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;1010&#x27;</span>, <span class="number">2</span>)  <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;ff&#x27;</span>, <span class="number">16</span>)  <span class="comment">// 255</span></span><br></pre></td></tr></table></figure>

<p>  å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/6855129005121765390#heading-13">parseInt</a></p>
</li>
<li><p><code>Number.isInteger()</code> åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ï¼Œå…¥å‚ä¸ºéæ•°å€¼åˆ™ä¸€å®šè¿”å› <code>false</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25</span>)   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">25.0</span>) <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger()     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="string">&#x27;15&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="literal">true</span>) <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isInteger(<span class="number">3.0000000000000002</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>å¦‚æœå¯¹æ•°æ®ç²¾åº¦çš„è¦æ±‚è¾ƒé«˜ï¼Œä¸å»ºè®®ä½¿ç”¨ Number.isInteger() åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚</p>
</blockquote>
</li>
<li><p><code>Number.EPSILON</code> è¡¨ç¤ºä¸€ä¸ªå¯æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ï¼Œé€šå¸¸ç”¨äºæµ®ç‚¹æ•°è¿ç®—ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span>  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Math</span>.abs(<span class="number">0.1</span> + <span class="number">0.2</span> - <span class="number">0.3</span>) &lt; <span class="built_in">Number</span>.EPSILON  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Number.isSafeInteger()</code> ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦åœ¨æœ€å¤§å®‰å…¨æ•´æ•°ï¼ˆ<code>Number.MAX_SAFE_INTEGER</code>ï¼‰å’Œæœ€å°å®‰å…¨æ•´æ•°ï¼ˆ<code>Number.MIN_SAFE_INTEGER</code>ï¼‰ä¹‹é—´ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>.MAX_SAFE_INTEGER === <span class="number">2</span> ** <span class="number">53</span> <span class="number">-1</span>        <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.MAX_SAFE_INTEGER === <span class="number">9007199254740991</span>  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.MIN_SAFE_INTEGER === -<span class="built_in">Number</span>.MAX_SAFE_INTEGER  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="number">2</span>)         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="string">&#x27;2&#x27;</span>)       <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Number</span>.isSafeInteger(<span class="literal">Infinity</span>)  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.trunc()</code>ï¼šè¿”å›æ•°å€¼æ•´æ•°éƒ¨åˆ†</p>
</li>
<li><p><code>Math.sign()</code>ï¼šè¿”å›æ•°å€¼ç±»å‹(æ­£æ•° 1ã€è´Ÿæ•° -1ã€é›¶ 0)</p>
</li>
<li><p><code>Math.cbrt()</code>ï¼šè¿”å›æ•°å€¼ç«‹æ–¹æ ¹</p>
</li>
<li><p><code>Math.clz32()</code>ï¼šè¿”å›æ•°å€¼çš„ 32 ä½æ— ç¬¦å·æ•´æ•°å½¢å¼</p>
</li>
<li><p><code>Math.imul()</code>ï¼šè¿”å›ä¸¤ä¸ªæ•°å€¼ç›¸ä¹˜</p>
</li>
<li><p><code>Math.fround()</code>ï¼šè¿”å›æ•°å€¼çš„ 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼</p>
</li>
<li><p><code>Math.hypot()</code>ï¼šè¿”å›æ‰€æœ‰æ•°å€¼å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹</p>
</li>
<li><p><code>Math.expm1()</code>ï¼šè¿”å› <code>e^n - 1</code></p>
</li>
<li><p><code>Math.log1p()</code>ï¼šè¿”å› 1 + n çš„è‡ªç„¶å¯¹æ•°(<code>Math.log(1 + n)</code>)</p>
</li>
<li><p><code>Math.log10()</code>ï¼šè¿”å›ä»¥ 10 ä¸ºåº•çš„ n çš„å¯¹æ•°</p>
</li>
<li><p><code>Math.log2()</code>ï¼šè¿”å›ä»¥ 2 ä¸ºåº•çš„nçš„å¯¹æ•°</p>
</li>
<li><p><code>Math.sinh()</code>ï¼šè¿”å› n çš„åŒæ›²æ­£å¼¦</p>
</li>
<li><p><code>Math.cosh()</code>ï¼šè¿”å› n çš„åŒæ›²ä½™å¼¦</p>
</li>
<li><p><code>Math.tanh()</code>ï¼šè¿”å› n çš„åŒæ›²æ­£åˆ‡</p>
</li>
<li><p><code>Math.asinh()</code>ï¼šè¿”å› n çš„ååŒæ›²æ­£å¼¦</p>
</li>
<li><p><code>Math.acosh()</code>ï¼šè¿”å› n çš„ååŒæ›²ä½™å¼¦</p>
</li>
<li><p><code>Math.atanh()</code>ï¼šè¿”å› n çš„ååŒæ›²æ­£åˆ‡</p>
</li>
</ul>
<h3 id="æ•°ç»„æ‰©å±•"><a href="#æ•°ç»„æ‰©å±•" class="headerlink" title="æ•°ç»„æ‰©å±•"></a>æ•°ç»„æ‰©å±•</h3><ul>
<li><p>æ•°ç»„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å°†æ•°ç»„å±•å¼€æˆç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œåªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åº”ç”¨ä¸€ï¼šå‡½æ•°ä¼ å‚</span></span><br><span class="line"><span class="built_in">Math</span>.max(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶</span></span><br><span class="line"><span class="keyword">let</span> merge = [...[<span class="number">1</span>, <span class="number">2</span>], ...[<span class="number">3</span>, <span class="number">4</span>], <span class="number">5</span>, <span class="number">6</span>]  <span class="comment">// 1, 2, 3, 4, 5, 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åº”ç”¨ä¸‰ï¼šæµ…å…‹éš†</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> clone = [...a]</span><br><span class="line">a === clone  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åº”ç”¨å››ï¼šæ•°ç»„è§£æ„</span></span><br><span class="line"><span class="keyword">const</span> [x, ...y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">x  <span class="comment">// 1</span></span><br><span class="line">y  <span class="comment">// [2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.from()</code> å¯ä»¥å°†ç±»æ•°ç»„å¯¹è±¡ï¼ˆ <code>NodeList</code>ï¼Œ<code>arguments</code>ï¼‰å’Œå¯è¿­ä»£å¯¹è±¡è½¬æˆæ•°ç»„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åº”ç”¨ä¸€ï¼šå­—ç¬¦ä¸²è½¬æ•°ç»„</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="string">&#x27;foo&#x27;</span>)  <span class="comment">// [&#x27;f&#x27;, &#x27;o&#x27;, &#x27;o&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶å»é‡</span></span><br><span class="line"><span class="keyword">let</span> merge = [...[<span class="number">1</span>, <span class="number">2</span>], ...[<span class="number">2</span>, <span class="number">3</span>]]</span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(merge))  <span class="comment">// [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åº”ç”¨ä¸‰ï¼šarguments è½¬æ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Array</span>.from(<span class="built_in">arguments</span>)</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœ <code>Array.from()</code> å¸¦ç¬¬äºŒä¸ªå‚æ•° <code>mapFn</code>ï¼Œå°†å¯¹ç”Ÿæˆçš„æ–°æ•°ç»„æ‰§è¡Œä¸€æ¬¡ <code>map</code> æ“ä½œï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], <span class="function">(<span class="params">x</span>) =&gt;</span> x * x )    <span class="comment">// [1, 4, 9]</span></span><br><span class="line"><span class="built_in">Array</span>.from(&#123;<span class="attr">length</span>: <span class="number">3</span>&#125;, <span class="function">(<span class="params">v, i</span>) =&gt;</span> ++i)  <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.of()</code> å°†ä¸€ç»„å‚æ•°è½¬æˆæ•°ç»„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment">// [1, 2, 3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»ä¼¼äº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arrayOf</span>(<span class="params">...params</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [].slice.call(params)</span><br><span class="line">&#125;</span><br><span class="line">arrayOf(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)  <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.copyWithin()</code> åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†åˆ¶å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæ¥ä½ç½®çš„æˆå‘˜ï¼‰ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚æ¥æ”¶ 3 ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸ºè´Ÿæ•°è¡¨ç¤ºå³è¾¹å¼€å§‹è®¡ç®—ï¼š</p>
<ul>
<li><p><code>target</code>ï¼ˆå¿…é€‰ï¼‰ï¼šæ›¿æ¢ä½ç½®çš„ç´¢å¼•ï¼›</p>
</li>
<li><p><code>start</code>ï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ï¼›</p>
</li>
<li><p><code>end</code>ï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®ç»“æŸè¯»å–æ•°æ®ï¼ˆä¸åŒ…æ‹¬è¯¥ä½ç½®çš„æ•°æ®ï¼‰ï¼Œé»˜è®¤ä¸ºåŸæ•°ç»„é•¿åº¦ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-1</span>)         <span class="comment">// [1, 2, 3, 4, 1]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">1</span>)          <span class="comment">// [1, 1, 2, 3, 4]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>)    <span class="comment">// [4, 2, 3, 4, 5]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">-3</span>, <span class="number">-1</span>)  <span class="comment">// [3, 4, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„å­æˆå‘˜ï¼š<code>find()</code> å’Œ <code>findIndex()</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">6</span>, <span class="number">9</span>].find(<span class="function">(<span class="params">val, index, arr</span>) =&gt;</span> val % <span class="number">2</span> === <span class="number">0</span>)       <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°çš„ç´¢å¼•ä½ç½®</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">6</span>, <span class="number">9</span>].findIndex(<span class="function">(<span class="params">val, index, arr</span>) =&gt;</span> val % <span class="number">2</span> === <span class="number">0</span>)  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>fill()</code> ä½¿ç”¨ç»™å®šçš„å€¼æ¥å¡«å……æ•°ç»„ï¼Œæœ‰ 3 ä¸ªå‚æ•°ï¼š</p>
<ul>
<li><p><code>value</code>ï¼šå¡«å……å€¼ï¼›</p>
</li>
<li><p><code>start</code>ï¼ˆå¯é€‰ï¼‰ï¼Œå¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º 0ï¼›</p>
</li>
<li><p><code>end</code>ï¼ˆå¯é€‰ï¼‰ï¼šç»“æŸç´¢å¼•ï¼Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦ï¼Œä¸åŒ…æ‹¬è¯¥ç´¢å¼•ä½ç½®çš„å€¼ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–ç©ºæ•°ç»„</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">3</span>).fill(<span class="number">1</span>)  <span class="comment">// [1, 1, 1]</span></span><br><span class="line"></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>].fill(<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>, <span class="number">4</span>)  <span class="comment">// [1, 2, &#x27;a&#x27;, &#x27;a&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>é€šè¿‡ <code>keys()</code>ï¼ˆé”®åï¼‰ã€<code>entries()</code>ï¼ˆé”®å€¼ï¼‰å’Œ <code>values()</code>ï¼ˆé”®å€¼å¯¹ï¼‰ è·å–æ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥è¢« <code>for...of</code> è¿­ä»£ï¼Œ</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> arr.keys()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// 1, 2, 3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> v <span class="keyword">of</span> arr.values()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(v)  <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> e <span class="keyword">of</span> arr.entries()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)  <span class="comment">// [0, &#x27;a&#x27;] [0, &#x27;b&#x27;] [0, &#x27;c&#x27;]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°ç»„ç©ºä½ï¼Œæ˜¯æŒ‡æ•°ç»„æ²¡æœ‰å€¼ï¼Œæ¯”å¦‚ï¼š<code>[,,]</code>ï¼Œè€Œåƒè¿™ç§ <code>[undefined]</code> æ˜¯ä¸åŒ…å«ç©ºä½çš„ã€‚ç”±äº <code>ES6</code> ä¹‹å‰çš„ä¸€äº› <code>API</code> å¯¹ç©ºä½çš„å¤„ç†è§„åˆ™å¾ˆä¸ä¸€è‡´ï¼Œæ‰€ä»¥å®é™…æ“ä½œçš„æ—¶å€™åº”è¯¥å°½é‡é¿å…ç©ºä½çš„å‡ºç°ï¼Œè€Œä¸ºäº†æ”¹å˜è¿™ä¸ªç°çŠ¶ï¼Œ<code>ES6</code> çš„ <code>API</code> ä¼šé»˜è®¤å°†ç©ºä½å¤„ç†æˆ <code>undefined</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...[<span class="number">1</span>, , <span class="number">3</span>].values()]  <span class="comment">// [1, undefined, 3]</span></span><br><span class="line">[<span class="number">1</span>, , <span class="number">3</span>].findIndex(<span class="function"><span class="params">x</span> =&gt;</span> x === <span class="literal">undefined</span>)  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="å¯¹è±¡æ‰©å±•"><a href="#å¯¹è±¡æ‰©å±•" class="headerlink" title="å¯¹è±¡æ‰©å±•"></a>å¯¹è±¡æ‰©å±•</h3><ul>
<li><p>å¯¹è±¡å±æ€§ç®€å†™ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    name,</span><br><span class="line">    getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> person1 = &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å±æ€§åè¡¨è¾¾å¼ï¼šåœ¨ç”¨å¯¹è±¡å­—é¢é‡å®šä¹‰å¯¹è±¡çš„æ—¶å€™ï¼Œå…è®¸é€šè¿‡å±æ€§åè¡¨è¾¾å¼æ¥å®šä¹‰å¯¹è±¡å±æ€§ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;name&#x27;</span>, </span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    [name]: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">    [<span class="string">&#x27;get&#x27;</span>+ name]()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–¹æ³•çš„ <code>name</code> å±æ€§ï¼Œå­˜åœ¨å¥½å‡ ç§æƒ…å†µï¼Œè¿™é‡Œä»…åˆ—å‡ºå¸¸è§çš„å‡ ç§ï¼š</p>
<p>  æƒ…å†µä¸€ï¼šæ™®é€šå¯¹è±¡æ–¹æ³•çš„ <code>name</code> å±æ€§ç›´æ¥è¿”å›æ–¹æ³•åï¼Œå‡½æ•°å£°æ˜äº¦æ˜¯å¦‚æ­¤ï¼Œå‡½æ•°è¡¨è¾¾å¼è¿”å›å˜é‡åï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    hi()&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">person.hi.name  <span class="comment">// &#x27;hi&#x27;</span></span><br></pre></td></tr></table></figure>

<p>  æƒ…å†µäºŒï¼šæ„é€ å‡½æ•°çš„ <code>name</code> ä¸º <code>anonymous</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">new</span> <span class="built_in">Function</span>).name  <span class="comment">// &#x27;anonymous&#x27;</span></span><br></pre></td></tr></table></figure>

<p>  æƒ…å†µä¸‰ï¼šç»‘å®šå‡½æ•°çš„ <code>name</code> å°†ä¼šåœ¨å‡½æ•°åå‰åŠ ä¸Š <code>bound</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125; </span><br><span class="line">foo.bind(&#123;&#125;).name  <span class="comment">// &#x27;bound foo&#x27;</span></span><br></pre></td></tr></table></figure>

<p>  æƒ…å†µå››ï¼šå¦‚æœå¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨äº†å–å€¼å‡½æ•°ï¼ˆ<code>getter</code>ï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆ<code>setter</code>ï¼‰ï¼Œåˆ™ <code>name</code> å±æ€§ä¸æ˜¯åœ¨è¯¥æ–¹æ³•ä¸Šé¢ï¼Œè€Œæ˜¯è¯¥æ–¹æ³•çš„å±æ€§çš„æè¿°å¯¹è±¡çš„ <code>get</code> å’Œ <code>set</code> å±æ€§ä¸Šé¢ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; </span><br><span class="line">    <span class="keyword">get</span> <span class="title">foo</span>()&#123;&#125;, </span><br><span class="line">    <span class="keyword">set</span> <span class="title">foo</span>(<span class="params">x</span>)&#123;&#125; </span><br><span class="line">&#125;</span><br><span class="line">o.foo.name  <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of undefined</span></span><br><span class="line"><span class="keyword">let</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">&quot;foo&quot;</span>) </span><br><span class="line">descriptor.get.name  <span class="comment">// &quot;get foo&quot; </span></span><br><span class="line">descriptor.set.name  <span class="comment">// &quot;set foo&quot;</span></span><br></pre></td></tr></table></figure>

<p>  å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/name">function_name</a></p>
</li>
<li><p>å±æ€§çš„å¯æšä¸¾æ€§</p>
<p>  å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆ<code>Descriptor</code>ï¼‰ï¼Œç”¨æ¥æ§åˆ¶è¯¥å±æ€§çš„è¡Œä¸ºã€‚å¯ä»¥é€šè¿‡ <code>Object.getOwnPropertyDescriptor()</code> æ¥è·å–å¯¹è±¡æŸä¸ªå±æ€§çš„æè¿°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">&#x27;name&#x27;</span>)</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//     configurable: true,</span></span><br><span class="line"><span class="comment">//     enumerable: true,</span></span><br><span class="line"><span class="comment">//     value: &quot;å¸ƒå…°&quot;,</span></span><br><span class="line"><span class="comment">//     writable: true,</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<p>  è¿™é‡Œçš„ <code>enumerable</code> å°±æ˜¯å¯¹è±¡æŸä¸ªå±æ€§çš„å¯æšä¸¾å±æ€§ï¼Œå¦‚æœæŸä¸ªå±æ€§çš„ <code>enumerable</code> å€¼ä¸º <code>false</code> åˆ™è¡¨ç¤ºè¯¥å±æ€§ä¸èƒ½è¢«æšä¸¾ï¼Œæ‰€ä»¥è¯¥å±æ€§ä¼šè¢«å¦‚ä¸‹ 4 ç§æ“ä½œå¿½ç•¥ï¼š</p>
<ul>
<li><p><code>for...in</code> ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ï¼›</p>
</li>
<li><p><code>Object.keys()</code>ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®åï¼›</p>
</li>
<li><p><code>JSON.stringify()</code>ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ï¼›</p>
</li>
<li><p><code>Object.assign()</code>ï¼š åªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span> &#125;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">    configurable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">false</span>,</span><br><span class="line">    value: <span class="number">12</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">&#125;)</span><br><span class="line">person  <span class="comment">// &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹æ“ä½œéƒ½å°†å¿½ç•¥ person å¯¹è±¡çš„ age å±æ€§</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">in</span> person) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)         <span class="comment">// &#x27;name&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(person)        <span class="comment">// [&#x27;name&#x27;]</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(person)     <span class="comment">// &#x27;&#123;&quot;name&quot;: &quot;å¸ƒå…°&quot;&#125;&#x27;</span></span><br><span class="line"><span class="built_in">Object</span>.assign(&#123;&#125;, person)  <span class="comment">// &#123; name: &#x27;å¸ƒå…°&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<p><code>Reflect.ownKeys(obj)</code>ï¼š è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰é”®åï¼Œä¸ç®¡é”®åæ˜¯ <code>Symbol</code> æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºäºä¸Šé¢çš„ä»£ç </span></span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(person)  <span class="comment">// [&#x27;name&#x27;, &#x27;age&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>super</code> å…³é”®å­—ï¼ŒæŒ‡å‘å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œåªèƒ½ç”¨äºå¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå…¶ä»–åœ°æ–¹å°†æŠ¥é”™ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">    getName() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(person, &#123;<span class="attr">name</span>: <span class="string">&#x27;hello&#x27;</span>&#125;)</span><br><span class="line">person.getName()  <span class="comment">// &#x27;hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹å‡ ç§ super çš„ä½¿ç”¨å°†æŠ¥é”™</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    foo: <span class="built_in">super</span>.foo</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    foo: <span class="function">() =&gt;</span> <span class="built_in">super</span>.foo</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123;</span><br><span class="line">    foo: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.foo</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Object.is()</code> ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œè¡¨ç°åŸºæœ¬å’Œ <code>===</code> ä¸€æ ·ï¼Œé™¤äº†ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">+<span class="number">0</span> === <span class="number">-0</span>            <span class="comment">//true</span></span><br><span class="line"><span class="literal">NaN</span> === <span class="literal">NaN</span>          <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(+<span class="number">0</span>, <span class="number">-0</span>)    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="literal">NaN</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Object.assign()</code> ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆ<code>source</code>ï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆ<code>target</code>ï¼‰ï¼Œå¦‚æœæœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„ä¼šç›´æ¥æ›¿æ¢å‰é¢çš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">let</span> source1 = &#123; <span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>, <span class="attr">d</span>: &#123;<span class="attr">e</span>: <span class="number">1</span>, <span class="attr">f</span>: <span class="number">2</span>&#125; &#125;</span><br><span class="line"><span class="keyword">let</span> source2 = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">c</span>: <span class="number">4</span>, <span class="attr">d</span>: &#123;<span class="attr">g</span>: <span class="number">3</span>&#125; &#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(target, source1, source2)</span><br><span class="line">target  <span class="comment">// &#123; a: 3, b: 3, c: 4, d: &#123;g: 3&#125; &#125;</span></span><br></pre></td></tr></table></figure>

<p>  <code>Object.assign()</code> å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆæ‹·è´çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: <span class="number">1</span>&#125;&#125;</span><br><span class="line"><span class="keyword">let</span> source = &#123;<span class="attr">a</span>: &#123;<span class="attr">b</span>: <span class="number">2</span>&#125;&#125;</span><br><span class="line"><span class="built_in">Object</span>.assign(target, source)</span><br><span class="line">target.a.b = <span class="number">3</span></span><br><span class="line">source.a.b  <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>__proto__</code> å±æ€§æ˜¯ç”¨æ¥è¯»å–å’Œè®¾ç½®å½“å‰å¯¹è±¡çš„åŸå‹ï¼Œè€Œç”±äºå…¶ä¸‹åˆ’çº¿æ›´å¤šçš„æ˜¯è¡¨é¢å…¶æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œæ‰€ä»¥å»ºè®®ä¸åœ¨æ­£å¼åœºåˆä½¿ç”¨å®ƒï¼Œè€Œæ˜¯ç”¨ä¸‹é¢çš„ <code>Object.setPrototypeOf()</code>ï¼ˆå†™æ“ä½œï¼‰ã€<code>Object.getPrototypeOf()</code>ï¼ˆè¯»æ“ä½œï¼‰ã€<code>Object.create()</code>ï¼ˆç”Ÿæˆæ“ä½œï¼‰ä»£æ›¿ã€‚</p>
</li>
<li><p><code>Object.setPrototypeOf()</code> ç”¨äºè®¾ç½®å¯¹è±¡åŸå‹ï¼Œ<code>Object.getPrototypeOf()</code> ç”¨äºè¯»å–å¯¹è±¡åŸå‹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;<span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(person, &#123;<span class="attr">name</span>: <span class="string">&#x27;åŠ¨ç‰©&#x27;</span>&#125;)</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(person)  <span class="comment">// &#123;name: &#x27;åŠ¨ç‰©&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="æ­£åˆ™æ‰©å±•"><a href="#æ­£åˆ™æ‰©å±•" class="headerlink" title="æ­£åˆ™æ‰©å±•"></a>æ­£åˆ™æ‰©å±•</h3><ul>
<li><p><code>RegExp</code> æ„é€ å‡½æ•°ï¼Œå…è®¸é¦–å‚ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¿®é¥°ç¬¦ï¼Œå¦‚æœæœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¿®é¥°ç¬¦ä»¥ç¬¬äºŒä¸ªä¸ºå‡†ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="regexp">/xYz\d+/gi</span>, i)</span><br><span class="line">reg.flags  <span class="comment">// &#x27;i&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ­£åˆ™æ–¹æ³•è°ƒç”¨å˜æ›´ï¼šå­—ç¬¦ä¸²å¯¹è±¡çš„ <code>match()</code>ã€<code>replace()</code>ã€<code>search()</code>ã€<code>split()</code> å†…éƒ¨è°ƒç”¨è½¬ä¸ºè°ƒç”¨ <code>RegExp</code> å®ä¾‹å¯¹åº”çš„ <code>RegExp.prototype[Symbol.æ–¹æ³•]</code>ï¼›</p>
</li>
<li><p><code>u</code> ä¿®é¥°ç¬¦ï¼šå«ä¹‰ä¸º <code>Unicode</code> æ¨¡å¼ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº <code>\uFFFF</code> çš„ <code>Unicode</code> å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¾…åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«æœ‰å¤§äº <code>\uFFFF</code> çš„å­—ç¬¦ï¼Œå°±å¿…é¡»åŠ ä¸Š <code>u</code> ä¿®é¥°ç¬¦ï¼Œæ‰èƒ½æ­£ç¡®å¤„ç†ã€‚</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ ä¸Š u ä¿®é¥°ç¬¦æ‰èƒ½è®© . å­—ç¬¦æ­£ç¡®è¯†åˆ«å¤§äº \uFFFF çš„å­—ç¬¦</span></span><br><span class="line">/^.$/.test(<span class="string">&#x27;ğŸ¤£&#x27;</span>)   <span class="comment">// false</span></span><br><span class="line">/^.$/u.test(<span class="string">&#x27;ğŸ¤£&#x27;</span>)  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¤§æ‹¬å· Unicode å­—ç¬¦è¡¨ç¤ºæ³•å¿…é¡»åŠ ä¸Š u ä¿®é¥°ç¬¦</span></span><br><span class="line">/\u&#123;<span class="number">61</span>&#125;/.test(<span class="string">&#x27;a&#x27;</span>)   <span class="comment">// false</span></span><br><span class="line">/\u&#123;<span class="number">61</span>&#125;/u.test(<span class="string">&#x27;a&#x27;</span>)  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ‰ u ä¿®é¥°ç¬¦ï¼Œé‡è¯æ‰èƒ½æ­£ç¡®åŒ¹é…å¤§äº \uFFFF çš„å­—ç¬¦ </span></span><br><span class="line">/ğŸ¤£&#123;<span class="number">2</span>&#125;/.test(<span class="string">&#x27;ğŸ¤£ğŸ¤£&#x27;</span>)  <span class="comment">// false</span></span><br><span class="line">/ğŸ¤£&#123;<span class="number">2</span>&#125;/u.test(<span class="string">&#x27;ğŸ¤£ğŸ¤£&#x27;</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>  <code>RegExp.prototype.unicode</code> å±æ€§è¡¨ç¤ºæ­£åˆ™æ˜¯å¦è®¾ç½®äº† <code>u</code> ä¿®é¥°ç¬¦ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/ğŸ¤£/.unicode   <span class="comment">// false</span></span><br><span class="line">/ğŸ¤£/u.unicode  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>y</code> ä¿®é¥°ç¬¦ï¼Œä¸ <code>g</code> ä¿®é¥°ç¬¦ç±»ä¼¼ä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼›ä¸åŒçš„æ˜¯ <code>g</code> æ˜¯å‰©ä½™å­—ç¬¦ä¸­åŒ¹é…å³å¯ï¼Œè€Œ <code>y</code> åˆ™æ˜¯å¿…é¡»åœ¨å‰©ä½™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…æ‰è¡Œï¼Œæ‰€ä»¥ <code>y</code> ä¿®é¥°ç¬¦ä¹Ÿå«é»è¿ä¿®é¥°ç¬¦ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="string">&#x27;aaa_aa_a&#x27;</span></span><br><span class="line"><span class="keyword">let</span> r1 = <span class="regexp">/a+/g</span></span><br><span class="line"><span class="keyword">let</span> r2 = <span class="regexp">/a+/y</span></span><br><span class="line"></span><br><span class="line">r1.exec(s)  <span class="comment">// [&quot;aaa&quot;]</span></span><br><span class="line">r2.exec(s)  <span class="comment">// [&quot;aaa&quot;]</span></span><br><span class="line"></span><br><span class="line">r1.exec(s)  <span class="comment">// [&quot;aa&quot;]</span></span><br><span class="line">r2.exec(s)  <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<p>  <code>RegExp.prototype.sticky</code> å±æ€§è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† <code>y</code> ä¿®é¥°ç¬¦ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/abc/y.sticky  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>RegExp.prototype.flags</code> å±æ€§ä¼šè¿”å›å½“å‰æ­£åˆ™çš„æ‰€æœ‰ä¿®é¥°ç¬¦ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/abcğŸ¤£/iuy.flags  <span class="comment">// &#x27;iuy&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="å‡½æ•°æ‰©å±•"><a href="#å‡½æ•°æ‰©å±•" class="headerlink" title="å‡½æ•°æ‰©å±•"></a>å‡½æ•°æ‰©å±•</h3><ul>
<li><p>å‡½æ•°å‚æ•°é»˜è®¤å€¼ã€‚å‚æ•°ä¸èƒ½æœ‰åŒåçš„ï¼Œå‡½æ•°ä½“å†…ä¸èƒ½ç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜åŒå‚æ•°åçš„å˜é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printInfo</span>(<span class="params">name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span></span>) </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>  ä½¿ç”¨å‚æ•°é»˜è®¤å€¼çš„æ—¶å€™ï¼Œå‚æ•°ä¸èƒ½æœ‰åŒåçš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, x, y</span>) </span>&#123;&#125;      <span class="comment">// ä¸æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, x, y = <span class="number">1</span></span>) </span>&#123;&#125;  <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure>

<p>  å‡½æ•°ä½“å†…ä¸èƒ½ç”¨ <code>let</code> å’Œ <code>const</code> å£°æ˜åŒå‚æ•°åçš„å˜é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŠ¥é”™</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> x = <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å‡½æ•°çš„ <code>length</code> å±æ€§ä¼šè¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ï¼Œä¸”å¦‚æœè®¾ç½®é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œåˆ™ <code>length</code> ä¸å†è®¡å…¥åé¢çš„å‚æ•°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y</span>)</span>&#123;&#125;).length      <span class="comment">// 2</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y = <span class="number">1</span></span>)</span>&#123;&#125;).length  <span class="comment">// 1</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x = <span class="number">1</span>, y</span>)</span>&#123;&#125;).length  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‰©ä½™ï¼ˆ<code>rest</code>ï¼‰ å‚æ•°ï¼ˆâ€¦å˜é‡åï¼‰çš„å½¢å¼ï¼Œç”¨äºè·å–å‡½æ•°çš„å‰©ä½™å‚æ•°ï¼Œæ³¨æ„ <code>rest</code> å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥å¾ˆå¥½çš„ä»£æ›¿ <code>arguments</code> å¯¹è±¡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, ...y</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> val <span class="keyword">of</span> y) &#123;</span><br><span class="line">        coonsole.log(val)  <span class="comment">// 2 3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">f(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸¥æ ¼æ¨¡å¼ï¼šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°ä½“å†…å°±ä¸èƒ½æ˜¾ç¤ºçš„è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºä¸¥æ ¼æ¨¡å¼çš„ä½œç”¨èŒƒå›´åŒ…å«äº†å‡½æ•°å‚æ•°ï¼Œè€Œå‡½æ•°æ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆæ‰§è¡Œå‚æ•°ï¼Œç„¶åå†æ‰§è¡Œå‡½æ•°ä½“ï¼Œæ‰§è¡Œåˆ°å‡½æ•°ä½“é‡Œçš„ <code>use strict</code> çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ­¤æ—¶å› ä¸ºå‡½æ•°å‚æ•°å·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œé‚£å‡½æ•°å‚æ•°è¿˜è¦ä¸è¦å—åˆ°ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶å‘¢ï¼Ÿè¿™å°±å‡ºç°çŸ›ç›¾äº†ã€‚è§„é¿é™åˆ¶çš„åŠæ³•æœ‰ä¸¤ä¸ªï¼šè®¾ç½®å…¨å±€çš„ä¸¥æ ¼æ¨¡å¼æˆ–è€…åœ¨å‡½æ•°ä½“å¤–åœ¨åŒ…ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¸”å£°æ˜ä¸¥æ ¼æ¨¡å¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è§£æ³•ä¸€</span></span><br><span class="line"><span class="meta">&#x27;use strict&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y = <span class="number">2</span></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> f = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="meta">    &#x27;use strict&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x, y = <span class="number">2</span></span>) </span>&#123;&#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç®­å¤´å‡½æ•°è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„ <code>this</code>ã€<code>arguments</code>ï¼Œä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°å’Œç”¨ä½œç”Ÿæˆå™¨ã€‚</p>
<p>  å‡ ç§ç®­å¤´å‡½æ•°å†™æ³•ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f1 = <span class="function">() =&gt;</span> &#123;&#125;               <span class="comment">// æ²¡æœ‰å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f2 = <span class="function">(<span class="params">x</span>) =&gt;</span> &#123;&#125;              <span class="comment">// 1ä¸ªå‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f3 = <span class="function"><span class="params">x</span> =&gt;</span> &#123;&#125;                <span class="comment">// 1ä¸ªå‚æ•°å¯ä»¥çœç•¥åœ†æ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> f4 = <span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;&#125;           <span class="comment">// 2ä¸ªå‚æ•°ä»¥ä¸Šå¿…é¡»åŠ ä¸Šåœ†æ‹¬å·</span></span><br><span class="line"><span class="keyword">let</span> f5 = <span class="function">(<span class="params">x = <span class="number">1</span>, y = <span class="number">2</span></span>) =&gt;</span> &#123;&#125;   <span class="comment">// æ”¯æŒå‚æ•°é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">let</span> f6 = <span class="function">(<span class="params">x, ...y</span>) =&gt;</span> &#123;&#125;        <span class="comment">// æ”¯æŒ rest å‚æ•°</span></span><br><span class="line"><span class="keyword">let</span> f7 = (&#123;x = <span class="number">1</span>, y = <span class="number">2</span>&#125; = &#123;&#125;)  <span class="comment">// æ”¯æŒå‚æ•°è§£æ„</span></span><br></pre></td></tr></table></figure>

<p>  ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ <code>this</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.age = <span class="number">0</span></span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age++</span><br><span class="line">    &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person()  <span class="comment">// 1 ç§’å Person &#123;age: 1&#125;</span></span><br></pre></td></tr></table></figure>

<p>  é€šè¿‡ <code>call/apply</code> è°ƒç”¨ç®­å¤´å‡½æ•°çš„æ—¶å€™å°†ä¸ä¼šç»‘å®šç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨åŸŸï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> adder = &#123;</span><br><span class="line">    base: <span class="number">1</span>,</span><br><span class="line">    add: <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v + <span class="built_in">this</span>.base</span><br><span class="line">        <span class="keyword">return</span> f(a)</span><br><span class="line">    &#125;, </span><br><span class="line">    addThruCall: <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> f = <span class="function"><span class="params">v</span> =&gt;</span> v + <span class="built_in">this</span>.base</span><br><span class="line">        <span class="keyword">let</span> b = &#123;</span><br><span class="line">            base: <span class="number">2</span></span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">return</span> f.call(b, a)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">adder.add(<span class="number">1</span>)          <span class="comment">// è¾“å‡º 2</span></span><br><span class="line">adder.addThruCall(<span class="number">1</span>)  <span class="comment">// ä»ç„¶è¾“å‡º 2</span></span><br></pre></td></tr></table></figure>

<p>  ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ <code>arguments</code> å¯¹è±¡ï¼Œä¸è¿‡å¯ä»¥ä½¿ç”¨ <code>rest</code> å‚æ•°ä»£æ›¿ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> log = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)  <span class="comment">// ReferenceError</span></span><br><span class="line">&#125;</span><br><span class="line">log(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‰©ä½™å‚æ•°ä»£æ›¿å†™æ³•</span></span><br><span class="line"><span class="keyword">let</span> restLog = <span class="function">(<span class="params">...arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr)  <span class="comment">// [2, 3]</span></span><br><span class="line">&#125;</span><br><span class="line">restLog(<span class="number">2</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>  ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å™¨ï¼Œå’Œ <code>new</code> ä¸€èµ·ç”¨ä¼šæŠ›å‡ºé”™è¯¯ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Foo = <span class="function">() =&gt;</span> &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">new</span> Foo()</span><br><span class="line"><span class="comment">// TypeError: Foo is not a constructor</span></span><br></pre></td></tr></table></figure>

<p>  ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡å­—é¢é‡ï¼Œéœ€è¦ç”¨åœ†æ‹¬å·åŒ…èµ·æ¥ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> func2 = <span class="function">() =&gt;</span> (&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;)</span><br></pre></td></tr></table></figure>

<p>  å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions">Arrow_functions</a></p>
</li>
<li><p>å°¾è°ƒç”¨å’Œå°¾é€’å½’ </p>
<p>  é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼šå‡½æ•°çš„æœ€åä¸€æ­¥è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ˜¯å°¾è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> g(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸‹éƒ½ä¸æ˜¯å°¾è°ƒç”¨</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> y = g(x)</span><br><span class="line">    <span class="keyword">return</span> y</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> y = g(x)</span><br><span class="line">    <span class="keyword">return</span> g(x) + <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    g(x)</span><br><span class="line">    <span class="comment">// å› ä¸ºæœ€åä¸€æ­¥æ˜¯ return: undefined</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å°¾è°ƒç”¨æœ‰å•¥ç”¨ï¼Ÿæˆ‘ä»¬çŸ¥é“å‡½æ•°çš„ç›¸äº’è°ƒç”¨æ˜¯ä¼šç”Ÿæˆâ€œè°ƒç”¨å¸§â€çš„ï¼Œè€Œâ€œè°ƒç”¨å¸§â€é‡Œå­˜äº†å„ç§ä¿¡æ¯æ¯”å¦‚å‡½æ•°çš„å†…éƒ¨å˜é‡å’Œè°ƒç”¨å‡½æ•°çš„ä½ç½®ç­‰ï¼Œæ‰€æœ‰çš„â€œè°ƒç”¨å¸§â€ç»„æˆäº†ä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ã€‚å¦‚æœåœ¨å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºå¤–å±‚å‡½æ•°é‡Œè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œæ‰€æœ‰å°±æ— éœ€ä¿ç•™å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å–ä»£å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å³å¯ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> m = <span class="number">1</span></span><br><span class="line">    <span class="keyword">let</span> n = <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> g(m + n)</span><br><span class="line">&#125;</span><br><span class="line">f()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> g(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line">f()</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line">g(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>  è¿™æ ·ä¸€æ¥å°±å¾ˆæ˜æ˜¾çš„å‡å°‘äº†è°ƒç”¨æ ˆä¸­çš„å¸§æ•°ï¼Œå†…å­˜å ç”¨å°±å°‘äº†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯å°¾è°ƒç”¨çš„ä¼˜åŒ–ä½œç”¨ã€‚å°¾é€’å½’ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé€’å½’å¦‚æœæ¬¡æ•°å¤šé‚£å°±éœ€è¦ä¿ç•™éå¸¸å¤šçš„â€œè°ƒç”¨å¸§â€ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå‡ºç°æ ˆæº¢å‡ºé”™è¯¯ï¼Œè€Œä½¿ç”¨äº†å°¾é€’å½’ä¼˜åŒ–åå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºçš„é”™è¯¯äº†ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¸¸è§„é€’å½’çš„æ–æ³¢é‚£å¥‘å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fibonacci</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( n &lt;= <span class="number">1</span> ) &#123;<span class="keyword">return</span> <span class="number">1</span>&#125;</span><br><span class="line">    <span class="keyword">return</span> Fibonacci(n - <span class="number">1</span>) + Fibonacci(n - <span class="number">2</span>)</span><br><span class="line">&#125;</span><br><span class="line">Fibonacci(<span class="number">100</span>) <span class="comment">// è¶…æ—¶</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å°¾é€’å½’ä¼˜åŒ–åçš„æ–æ³¢é‚£å¥‘å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Fibonacci2</span>(<span class="params">n, ac1 = <span class="number">1</span>, ac2 = <span class="number">1</span></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>( n &lt;= <span class="number">1</span> ) &#123;<span class="keyword">return</span> ac2&#125;</span><br><span class="line">    <span class="keyword">return</span> Fibonacci2(n - <span class="number">1</span>, ac2, ac1 + ac2)</span><br><span class="line">&#125;s</span><br><span class="line">Fibonacci2(<span class="number">100</span>)  <span class="comment">// 573147844013817200000</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><ul>
<li><p><code>Symbol</code> æ˜¯ä¸€ä¸ªæ–°çš„åŸå§‹ç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ <code>Symbol()</code> å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª <code>Symbol</code> ç±»å‹çš„å€¼ï¼Œä¸ºäº†åŠ ä»¥åŒºåˆ†ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå…¶æè¿°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>) </span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">s1 === s2  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Symbol</code> ç±»å‹æ— æ³•é€šè¿‡æ•°å­¦è¿ç®—ç¬¦è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ <code>String()</code> æ˜¾ç¤ºè½¬æˆå­—ç¬¦ä¸²æˆ–è€…é€šè¿‡ <code>Boolean()</code> æ˜¾ç¤ºè½¬æˆå¸ƒå°”å€¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="built_in">String</span>(s)     <span class="comment">// &quot;Symbol(&#x27;foo&#x27;)&quot;</span></span><br><span class="line">s.toString()  <span class="comment">// &quot;Symbol(&#x27;foo&#x27;)&quot;</span></span><br><span class="line"><span class="built_in">Boolean</span>(s)    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼•å…¥ <code>Symbol</code> æœ€å¤§çš„åˆè¡·å…¶å®å°±æ˜¯ä¸ºäº†è®©å®ƒä½œä¸ºå¯¹è±¡çš„å±æ€§åè€Œä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…å±æ€§åçš„å†²çªäº†ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    [foo]: <span class="string">&#x27;foo1&#x27;</span>,</span><br><span class="line">    foo: <span class="string">&#x27;foo2&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">obj[foo]  <span class="comment">// &#x27;foo1&#x27;</span></span><br><span class="line">obj.foo   <span class="comment">// &#x27;foo2&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Symbol</code> å±æ€§çš„ä¸å¯æšä¸¾æ€§ï¼Œä¸ä¼šè¢« <code>for...in</code>ã€<code>for...of</code>ã€<code>Object.keys()</code>ã€<code>Object.getOwnPropertyNames()</code>ã€<code>JSON.stringify()</code> ç­‰æšä¸¾ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    name: <span class="string">&#x27;å¸ƒå…°&#x27;</span>,</span><br><span class="line">    [<span class="built_in">Symbol</span>(<span class="string">&#x27;age&#x27;</span>)]: <span class="number">12</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">in</span> person) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// &#x27;name&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(person)  <span class="comment">// [&#x27;name&#x27;]</span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(person)  <span class="comment">// [&#x27;name&#x27;]</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(person)  <span class="comment">// &#x27;&#123;&quot;name&quot;:&quot;å¸ƒå…°&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure>

<p>  ä½†æ˜¯å¯ä»¥é€šè¿‡ <code>Object.getOwnPropertySymbols()</code> è·å–åˆ°å¯¹è±¡çš„æ‰€æœ‰ <code>Symbol</code> å±æ€§åï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºäºä¸Šé¢çš„ä»£ç </span></span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(person)  <span class="comment">// [Symbol(age)]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><p><code>Symbol.for()</code> æŒ‰ç…§æè¿°å»å…¨å±€æŸ¥æ‰¾ <code>Symbol</code>ï¼Œæ‰¾ä¸åˆ°åˆ™åœ¨å…¨å±€ç™»è®°ä¸€ä¸ªï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> s2 = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">s1 === s2 <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>  <code>Symbol.for()</code> çš„è¿™ä¸ªå…¨å±€ç™»è®°ç‰¹æ€§ï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒçš„ <code>iframe</code> æˆ– <code>service worker</code> ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚</p>
</li>
<li><p><code>Symbol.keyFor()</code> æ ¹æ®å·²ç»åœ¨å…¨å±€ç™»è®°çš„ <code>Symbol</code> æŸ¥æ‰¾å…¶æè¿°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="built_in">Symbol</span>.for(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="built_in">Symbol</span>.keyFor(s)  <span class="comment">// &#x27;foo&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><code>Symbol</code> çš„å†…ç½®å€¼</strong>ï¼š</p>
<ul>
<li><code>Symbol.hasInstance</code>ï¼šæŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œå½“å…¶ä»–å¯¹è±¡ä½¿ç”¨ <code>instanceof</code> è¿ç®—ç¬¦åˆ¤æ–­æ˜¯å¦ä¸ºæ­¤å¯¹è±¡çš„å®ä¾‹æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼›</li>
<li><code>Symbol.isConcatSpreadable</code>ï¼šæŒ‡å‘ä¸€ä¸ªå¸ƒå°”ï¼Œå®šä¹‰å¯¹è±¡ç”¨äº <code>Array.prototype.concat()</code> æ—¶æ˜¯å¦å¯å±•å¼€ï¼›</li>
<li><code>Symbol.species</code>ï¼šæŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡ä½¿ç”¨è‡ªèº«æ„é€ å‡½æ•°æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„æ„é€ å‡½æ•°ï¼›</li>
<li><code>Symbol.match</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.match()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰match()çš„è¡Œä¸ºï¼›</li>
<li><code>Symbol.replace</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.replace()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>replace()</code> çš„è¡Œä¸ºï¼›</li>
<li><code>Symbol.search</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.search()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>search()</code> çš„è¡Œä¸ºï¼›s</li>
<li><code>Symbol.split</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>String.prototype.split()</code> è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ <code>split()</code> çš„è¡Œä¸ºï¼›</li>
<li><code>Symbol.iterator</code>ï¼šæŒ‡å‘ä¸€ä¸ªé»˜è®¤éå†å™¨æ–¹æ³•ï¼Œå½“å®ä¾‹å¯¹è±¡æ‰§è¡Œ<code> for...of</code> æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„é»˜è®¤éå†å™¨ï¼›</li>
<li><code>Symbol.toPrimitive</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ä¼šè¿”å›æ­¤å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ï¼›</li>
<li><code>Symbol.toStringTag</code>ï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« <code>Object.prototype.toString()</code> è°ƒç”¨æ—¶å…¶è¿”å›å€¼ä¼šå‡ºç°åœ¨ <code>toString()</code> è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­è¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ï¼›</li>
<li><code>Symbol.unscopables</code>ï¼šæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šä½¿ç”¨ <code>with</code> æ—¶å“ªäº›å±æ€§ä¼šè¢« <code>with</code> ç¯å¢ƒæ’é™¤ï¼›</li>
</ul>
<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><ul>
<li><p><code>Set</code> æ˜¯ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼æ•°ç»„ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰é”®åªæœ‰å€¼ï¼Œä¸”å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œæ¥æ”¶ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯è¿­ä»£æ•°æ®ç»“æ„ä½œä¸ºå‚æ•°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment">// Set &#123;1, 2, 3&#125;</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Set</span>(<span class="string">&#x27;abc&#x27;</span>)      <span class="comment">// Set &#123;&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Set</code> åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯ä¸æ˜¯ç›¸ç­‰ç”¨çš„æ˜¯ <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-samevaluezero">sameValueZero</a> ç®—æ³•ï¼Œç±»ä¼¼äº <code>===</code>ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨ <code>Set</code> é‡Œ <code>NaN</code> ä¹‹é—´è¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"><span class="keyword">let</span> a = <span class="literal">NaN</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="literal">NaN</span></span><br><span class="line">set.add(a)</span><br><span class="line">set.add(b)</span><br><span class="line">set.size  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›¸åŒå¯¹è±¡çš„ä¸åŒå®ä¾‹ä¹Ÿè¢« <code>Set</code> è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>()</span><br><span class="line"><span class="keyword">let</span> a = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">let</span> b = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;</span><br><span class="line">set.add(a)</span><br><span class="line">set.add(b)</span><br><span class="line">set.size  <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Set</code> æ˜¯æœ‰é¡ºåºçš„ï¼Œå°†æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œè¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨ <code>for...of</code> è¿­ä»£ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">set.add(<span class="number">5</span>)</span><br><span class="line">set.add(<span class="number">7</span>)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> set) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><code>Set</code> å®ä¾‹å±æ€§å’Œæ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>Set.prototype.constructor</code>ï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯ <code>Set</code> å‡½æ•°ï¼›</li>
<li><code>Set.prototype.size</code>ï¼šè¿”å› <code>Set</code> å®ä¾‹çš„æˆå‘˜æ€»æ•°ï¼›</li>
<li><code>Set.prototype.add(value)</code>ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› <code>Set</code> ç»“æ„æœ¬èº«ï¼›</li>
<li><code>Set.prototype.delete(value)</code>ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸï¼›</li>
<li><code>Set.prototype.has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ï¼›</li>
<li><code>Set.prototype.clear()</code>ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼›</li>
<li><code>Set.prototype.keys()</code>ï¼šè¿”å›é”®åçš„éå†å™¨ï¼›</li>
<li><code>Set.prototype.values()</code>ï¼šè¿”å›é”®å€¼çš„éå†å™¨ï¼›</li>
<li><code>Set.prototype.entries()</code>ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ï¼›</li>
<li><code>Set.prototype.forEach()</code>ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ï¼›</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">3</span>])</span><br><span class="line">set.add(<span class="number">5</span>)     <span class="comment">// Set &#123;1, 3, 5&#125;</span></span><br><span class="line">set.size       <span class="comment">// 3</span></span><br><span class="line">set.delete(<span class="number">1</span>)  <span class="comment">// trueï¼Œ1 å·²è¢«åˆ é™¤</span></span><br><span class="line">set.has(<span class="number">1</span>)     <span class="comment">// false</span></span><br><span class="line">set.keys()     <span class="comment">// SetIterator &#123;3, 5&#125;</span></span><br><span class="line">set.clear()</span><br><span class="line">set.size       <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<p><strong><code>Set</code> åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li><p>æ•°ç»„å»é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[...new <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>])]         <span class="comment">// [1, 3, 6]</span></span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>]))  <span class="comment">// [1, 3, 6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å­—ç¬¦ä¸²å»é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[...new <span class="built_in">Set</span>(<span class="string">&#x27;abcbacd&#x27;</span>)].join(<span class="string">&#x27;&#x27;</span>)  <span class="comment">// &#x27;abcd&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†/å¹¶é›†/å·®é›†ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¹¶é›†</span></span><br><span class="line"><span class="keyword">let</span> union = <span class="keyword">new</span> <span class="built_in">Set</span>([...a, ...b])  <span class="comment">// Set &#123;1, 2, 3, 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äº¤é›†</span></span><br><span class="line"><span class="keyword">let</span> intersect = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> b.has(x)))  <span class="comment">// set &#123;2, 3&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†</span></span><br><span class="line"><span class="keyword">let</span> difference = <span class="keyword">new</span> <span class="built_in">Set</span>([...a].filter(<span class="function"><span class="params">x</span> =&gt;</span> !b.has(x)))  <span class="comment">// Set &#123;1&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>éå†ä¿®æ”¹é›†åˆæˆå‘˜çš„å€¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> set1 = <span class="keyword">new</span> <span class="built_in">Set</span>([...set].map(<span class="function"><span class="params">val</span> =&gt;</span> val * <span class="number">2</span>))     <span class="comment">// Set &#123;2, 3, 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> set2 = <span class="keyword">new</span> <span class="built_in">Set</span>(<span class="built_in">Array</span>.from(set, <span class="function"><span class="params">val</span> =&gt;</span> val * <span class="number">2</span>))  <span class="comment">// Set &#123;2, 4, 6&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h3><ul>
<li><p><code>WeakSet</code> å¯¹è±¡å…è®¸å°†å¼±ä¿æŒå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>()</span><br><span class="line"><span class="keyword">let</span> foo = &#123;&#125;</span><br><span class="line">ws.add(foo)  <span class="comment">// WeakSet &#123;&#123;&#125;&#125;</span></span><br><span class="line">ws.has(foo)  <span class="comment">// true</span></span><br><span class="line">ws.delete(foo)  <span class="comment">// WeakSet &#123;&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>å’Œ <code>Set</code> çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li><code>WeakSet</code> åªèƒ½æ˜¯å¯¹è±¡çš„é›†åˆï¼Œè€Œä¸èƒ½æ˜¯ä»»ä½•ç±»å‹çš„ä»»æ„å€¼ï¼›</li>
<li><code>WeakSet</code> æŒå¼±å¼•ç”¨ï¼šé›†åˆä¸­å¯¹è±¡çš„å¼•ç”¨ä¸ºå¼±å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å…¶ä»–çš„å¯¹ <code>WeakSet</code> ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡ä¼šè¢«å½“æˆåƒåœ¾å›æ”¶æ‰ã€‚è¿™ä¹Ÿæ„å‘³ç€ <code>WeakSet</code> ä¸­æ²¡æœ‰å­˜å‚¨å½“å‰å¯¹è±¡çš„åˆ—è¡¨ã€‚æ­£å› ä¸ºè¿™æ ·ï¼Œ<code>WeakSet</code> æ˜¯ä¸å¯æšä¸¾çš„ï¼Œä¹Ÿå°±æ²¡æœ‰ <code>size</code> å±æ€§ï¼Œæ²¡æœ‰ <code>clear</code> å’Œéå†çš„æ–¹æ³•ã€‚</li>
</ul>
<p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>WeakSet.prototype.add(value)</code>ï¼šæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  <code>value</code>ï¼›</li>
<li><code>WeakSet.prototype.delete(value)</code>ï¼šä»è¯¥ <code>WeakSet</code> å¯¹è±¡ä¸­åˆ é™¤ <code>value</code> è¿™ä¸ªå…ƒç´ ï¼›</li>
<li><code>WeakSet.prototype.has(value)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼,  è¡¨ç¤ºç»™å®šçš„å€¼ <code>value</code> æ˜¯å¦å­˜åœ¨äºè¿™ä¸ª <code>WeakSet</code> ä¸­ï¼›</li>
</ul>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><ul>
<li><p><code>Map</code> æ˜¯ä¸€ç§ç±»ä¼¼äº <code>Object</code> çš„è¿™ç§é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼ŒåŒºåˆ«æ˜¯å¯¹è±¡çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–è€… <code>Symbol</code>ï¼Œè€Œ <code>Map</code> çš„é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ˆåŸå§‹ç±»å‹ã€å¯¹è±¡æˆ–è€…å‡½æ•°ï¼‰ï¼Œå¯ä»¥é€šè¿‡ <code>Map</code> æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå…¥å‚æ˜¯å…·æœ‰ <code>Iterator</code> æ¥å£ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ æ•°ç»„ <code>[key, value]</code> çš„æ•°æ®ç»“æ„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map1.set(&#123;&#125;, <span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr = [[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;å¸ƒå…°&#x27;</span>], [<span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>]]</span><br><span class="line"><span class="keyword">let</span> map2 = <span class="keyword">new</span> <span class="built_in">Map</span>(arr)</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Map</code> ä¸­çš„é”®å’Œ <code>Set</code> é‡Œçš„å€¼ä¸€æ ·ä¹Ÿå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œéµå¾ª <a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-samevaluezero">sameValueZero</a> ç®—æ³•ï¼Œå¯¹äºåŒä¸€ä¸ªé”®åé¢æ’å…¥çš„ä¼šè¦†ç›–å‰é¢çš„ï¼Œ</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line"><span class="keyword">let</span> foo = &#123;<span class="attr">foo</span>: <span class="string">&#x27;foo&#x27;</span>&#125;</span><br><span class="line">map.set(foo, <span class="string">&#x27;foo1&#x27;</span>)</span><br><span class="line">map.set(foo, <span class="string">&#x27;foo2&#x27;</span>)</span><br><span class="line">map.get(foo)  <span class="comment">// &#x27;foo2&#x27; </span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯¹äºé”®ååŒä¸º <code>NaN</code> ä»¥åŠç›¸åŒå¯¹è±¡è€Œä¸åŒå®ä¾‹çš„å¤„ç†åŒ <code>Set</code> çš„å€¼ä¸€æ ·ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">NaN</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="literal">NaN</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set(a, <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">map.set(b, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">map.size    <span class="comment">// 1</span></span><br><span class="line">map.get(a)  <span class="comment">// &#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = &#123;<span class="attr">c</span>: <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">let</span> d = &#123;<span class="attr">c</span>: <span class="string">&#x27;c&#x27;</span>&#125;</span><br><span class="line">map.set(c, <span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">map.set(d, <span class="string">&#x27;d&#x27;</span>)</span><br><span class="line">map.size    <span class="comment">// 3</span></span><br><span class="line">map.get(c)  <span class="comment">// &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>å®ä¾‹å±æ€§å’Œæ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>Map.prototype.size</code>ï¼šè¿”å› <code>Map</code> å¯¹è±¡çš„é”®å€¼å¯¹æ•°é‡ï¼›</li>
<li><code>Map.prototype.set(key, value)</code>ï¼šè®¾ç½® <code>Map</code> å¯¹è±¡ä¸­é”®çš„å€¼ã€‚è¿”å›è¯¥ <code>Map</code> å¯¹è±¡ï¼›</li>
<li><code>Map.prototype.get(key)</code>ï¼š è¿”å›é”®å¯¹åº”çš„å€¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› <code>undefined</code>ï¼›</li>
<li><code>Map.prototype.has(key)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º <code>Map</code> å®ä¾‹æ˜¯å¦åŒ…å«é”®å¯¹åº”çš„å€¼ï¼›</li>
<li><code>Map.prototype.delete(key)</code>ï¼š å¦‚æœ <code>Map</code> å¯¹è±¡ä¸­å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™ç§»é™¤å®ƒå¹¶è¿”å› <code>true</code>ï¼›</li>
<li><code>Map.prototype.clear()</code>ï¼š ç§»é™¤ <code>Map</code> å¯¹è±¡çš„æ‰€æœ‰é”®/å€¼å¯¹ï¼›</li>
<li><code>Map.prototype.keys()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œ å®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„é”®ï¼›</li>
<li><code>Map.prototype.values()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ï¼›</li>
<li><code>Map.prototype.entries()</code>ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>Iterator</code> å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† <code>Map</code> å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„ <code>[key, value]</code> æ•°ç»„ï¼›</li>
<li><code>Map.prototype.forEach(callbackFn[, thisArg])</code>ï¼šæŒ‰æ’å…¥é¡ºåºéå† <code>Map</code>ï¼›</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>()</span><br><span class="line">map.set(&#123;<span class="attr">a</span>: <span class="number">1</span>&#125;, <span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">map.set(&#123;<span class="attr">a</span>: <span class="number">2</span>&#125;, <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;a: 1&#125; &#x27;a&#x27;</span></span><br><span class="line"><span class="comment">// &#123;a: 2&#125; &#x27;b&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> map.keys()) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#123;a: 1&#125;</span></span><br><span class="line"><span class="comment">// &#123;a: 2&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h3><ul>
<li><p>ç±»ä¼¼äº <code>Map</code> çš„ç»“æ„ï¼Œä½†æ˜¯é”®å¿…é¡»æ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œæ³¨æ„å¼±å¼•ç”¨çš„æ˜¯é”®åè€Œä¸æ˜¯é”®å€¼ï¼Œå› è€Œ <code>WeakMap</code> æ˜¯ä¸èƒ½è¢«è¿­ä»£çš„ï¼›</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> wm = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span><br><span class="line"><span class="keyword">let</span> foo = &#123;<span class="attr">name</span>: <span class="string">&#x27;foo&#x27;</span>&#125;</span><br><span class="line">wm.set(foo, <span class="string">&#x27;a&#x27;</span>)  <span class="comment">// Weak</span></span><br><span class="line">wm.get(foo)       <span class="comment">// &#x27;a&#x27;</span></span><br><span class="line">wm.has(foo)       <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>  è™½ç„¶ <code>wm</code> çš„é”®å¯¹ <code>foo</code> å¯¹è±¡æœ‰å¼•ç”¨ï¼Œä½†æ˜¯ä¸æ¯«ä¸ä¼šé˜»æ­¢ <code>foo</code> å¯¹è±¡è¢« <code>GC</code> å›æ”¶ã€‚å½“å¼•ç”¨å¯¹è±¡ <code>foo</code> è¢«åƒåœ¾å›æ”¶ä¹‹åï¼Œ<code>wm</code> çš„ <code>foo</code> é”®å€¼å¯¹ä¹Ÿä¼šè‡ªåŠ¨ç§»é™¤ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚</p>
</li>
</ul>
<p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>WeakMap.prototype.delete(key)</code>ï¼šç§»é™¤ <code>key</code> çš„å…³è”å¯¹è±¡ï¼›</li>
<li><code>WeakMap.prototype.get(key)</code>ï¼šè¿”å›keyå…³è”å¯¹è±¡, æˆ–è€… undefined(æ²¡æœ‰keyå…³è”å¯¹è±¡æ—¶)ï¼›</li>
<li><code>WeakMap.prototype.has(key)</code>ï¼šæ ¹æ®æ˜¯å¦æœ‰ <code>key</code> å…³è”å¯¹è±¡è¿”å›ä¸€ä¸ª <code>Boolean</code> å€¼ï¼›</li>
<li><code>WeakMap.prototype.set(key, value)</code>ï¼šåœ¨ <code>WeakMap</code> ä¸­è®¾ç½®ä¸€ç»„ <code>key</code> å…³è”å¯¹è±¡ï¼Œè¿”å›è¿™ä¸ª <code>WeakMap</code> å¯¹è±¡ï¼›</li>
</ul>
<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><ul>
<li><p><code>Proxy</code> ç”¨æ¥å®šä¹‰åŸºæœ¬æ“ä½œçš„çš„è‡ªå®šä¹‰è¡Œä¸ºï¼Œå¯ä»¥ç†è§£ä¸ºå½“å¯¹ç›®æ ‡å¯¹è±¡ <code>target</code> è¿›è¡ŒæŸä¸ªæ“ä½œä¹‹å‰ä¼šå…ˆè¿›è¡Œæ‹¦æˆªï¼ˆæ‰§è¡Œ <code>handler</code> é‡Œå®šä¹‰çš„æ–¹æ³•ï¼‰ï¼Œå¿…é¡»è¦å¯¹ <code>Proxy</code> å®ä¾‹è¿›è¡Œæ“ä½œæ‰èƒ½è§¦å‘æ‹¦æˆªï¼Œå¯¹ç›®æ ‡å¯¹è±¡æ“ä½œæ˜¯ä¸ä¼šæ‹¦æˆªçš„ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰ä¸€ä¸ªä»£ç†å®ä¾‹</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> instance = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;<span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>&#125;, &#123;</span><br><span class="line">    get(target, propKey, receiver) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`hello, <span class="subst">$&#123;target.name&#125;</span>`</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br><span class="line">instance.name  <span class="comment">// &#x27;hello, å¸ƒå…°&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœ <code>handle</code> æ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£ä¹ˆå¯¹å®ä¾‹çš„æ“ä½œå°±ä¼šè½¬å‘åˆ°ç›®æ ‡å¯¹è±¡èº«ä¸Šï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, &#123;&#125;)</span><br><span class="line">proxy.name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line">target.name  <span class="comment">// &#x27;å¸ƒå…°&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç›®æ ‡å¯¹è±¡è¢« <code>Proxy</code> ä»£ç†çš„æ—¶å€™ï¼Œå†…éƒ¨çš„ <code>this</code> ä¼šæŒ‡å‘ä»£ç†çš„å®ä¾‹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123;</span><br><span class="line">    m: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span> === proxy)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> handler = &#123;&#125;</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(target, handler)</span><br><span class="line">target.m()  <span class="comment">// false</span></span><br><span class="line">proxy.m()   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>é™æ€æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><p><code>Proxy.revocable()</code> ç”¨ä»¥å®šä¹‰ä¸€ä¸ªå¯æ’¤é”€çš„ <code>Proxy</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> handler = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> &#123;proxy, revoke&#125; = <span class="built_in">Proxy</span>.revocable(target, handler)</span><br><span class="line"></span><br><span class="line">proxy.foo = <span class="number">123</span></span><br><span class="line">proxy.foo  <span class="comment">// 123</span></span><br><span class="line">revoke()</span><br><span class="line">proxy.foo  <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong><code>handle</code> å¯¹è±¡çš„æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><code>get(target, propKey, receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼Œæ¯”å¦‚proxy.fooå’Œproxy[â€˜fooâ€™]ã€‚</li>
<li><code>set(target, propKey, value, receiver)</code>ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚ <code>proxy.foo = væˆ–proxy[&#39;foo&#39;] = v</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li>
<li><code>has(target, propKey)</code>ï¼šæ‹¦æˆª <code>propKey in proxy</code> çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚<br><code>deleteProperty(target, propKey)</code>ï¼šæ‹¦æˆª <code>delete proxy[propKey]</code> çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li>
<li><code>ownKeys(target)</code>ï¼šæ‹¦æˆª <code>Object.getOwnPropertyNames(proxy)</code>ã€<code>Object.getOwnPropertySymbols(proxy)</code>ã€<code>Object.keys(proxy)</code>ã€<code>for...in</code> å¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ç›®æ ‡å¯¹è±¡æ‰€æœ‰è‡ªèº«çš„å±æ€§çš„å±æ€§åï¼Œè€Œ <code>Object.keys()</code> çš„è¿”å›ç»“æœä»…åŒ…æ‹¬ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚</li>
<li><code>getOwnPropertyDescriptor(target, propKey)</code>ï¼šæ‹¦æˆª<code>Object.getOwnPropertyDescriptor(proxy, propKey)</code>ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡ã€‚</li>
<li><code>defineProperty(target, propKey, propDesc)</code>ï¼šæ‹¦æˆª <code>Object.defineProperty(proxy, propKey, propDesc)</code>ã€<code>Object.defineProperties(proxy, propDescs)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li>
<li><code>preventExtensions(target)</code>ï¼šæ‹¦æˆª <code>Object.preventExtensions(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li>
<li><code>getPrototypeOf(target)</code>ï¼šæ‹¦æˆª <code>Object.getPrototypeOf(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</li>
<li><code>isExtensible(target)</code>ï¼šæ‹¦æˆª <code>Object.isExtensible(proxy)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚</li>
<li><code>setPrototypeOf(target, proto)</code>ï¼šæ‹¦æˆª <code>Object.setPrototypeOf(proxy, proto)</code>ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸¤ç§é¢å¤–æ“ä½œå¯ä»¥æ‹¦æˆªã€‚</li>
<li><code>apply(target, object, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚<code>proxy(...args)</code>ã€<code>proxy.call(object, ...args)</code>ã€<code>proxy.apply(...)</code>ã€‚</li>
<li><code>construct(target, args)</code>ï¼šæ‹¦æˆª <code>Proxy</code> å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ <code>new proxy(...args)</code>ã€‚</li>
</ul>
<h3 id="Reflect"><a href="#Reflect" class="headerlink" title="Reflect"></a>Reflect</h3><ul>
<li><p><code>Reflect</code> æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª <code>JavaScript</code> æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸ <code>proxy handlers</code> çš„æ–¹æ³•ç›¸åŒã€‚<code>Reflect</code> ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚</p>
</li>
<li><p>è®¾è®¡çš„ç›®çš„ï¼š</p>
<ul>
<li>å°† <code>Object</code> å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•æ”¾åˆ° <code>Reflect</code> ä¸Šï¼›</li>
<li>ä¿®æ”¹æŸäº› <code>Object</code> æ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼›</li>
<li>è®© <code>Object</code> æ“ä½œå˜æˆå‡½æ•°è¡Œä¸ºï¼›</li>
<li><code>Proxy handles</code> ä¸ <code>Reflect</code> æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå‰è€…ç”¨äºå®šä¹‰è‡ªå®šä¹‰è¡Œä¸ºï¼Œè€Œåè€…ç”¨äºæ¢å¤é»˜è®¤è¡Œä¸ºï¼›</li>
</ul>
</li>
</ul>
<p><strong>é™æ€æ–¹æ³•</strong>ï¼š    </p>
<ul>
<li><code>Reflect.apply(target, thisArgument, argumentsList)</code> å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨æ“ä½œï¼ŒåŒæ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºè°ƒç”¨å‚æ•°ã€‚å’Œ <code>Function.prototype.apply()</code> åŠŸèƒ½ç±»ä¼¼ï¼›</li>
<li><code>Reflect.construct(target, argumentsList[, newTarget])</code> å¯¹æ„é€ å‡½æ•°è¿›è¡Œ <code>new</code> æ“ä½œï¼Œç›¸å½“äºæ‰§è¡Œ <code>new target(...args)</code>ï¼›</li>
<li><code>Reflect.defineProperty(target, propertyKey, attributes)</code> å’Œ <code>Object.defineProperty()</code> ç±»ä¼¼ã€‚å¦‚æœè®¾ç½®æˆåŠŸå°±ä¼šè¿”å› <code>true</code>ï¼›</li>
<li><code>Reflect.deleteProperty(target, propertyKey)</code> ä½œä¸ºå‡½æ•°çš„ <code>delete</code> æ“ä½œç¬¦ï¼Œç›¸å½“äºæ‰§è¡Œ <code>delete target[name]</code>ï¼›</li>
<li><code>Reflect.get(target, propertyKey[, receiver])</code> è·å–å¯¹è±¡èº«ä¸ŠæŸä¸ªå±æ€§çš„å€¼ï¼Œç±»ä¼¼äº <code>target[name]</code>ï¼›</li>
<li><code>Reflect.getOwnPropertyDescriptor(target, propertyKey)</code> ç±»ä¼¼äº <code>Object.getOwnPropertyDescriptor()</code>ã€‚å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å›å¯¹åº”çš„å±æ€§æè¿°ç¬¦,  å¦åˆ™è¿”å› <code>undefined</code>ï¼›</li>
<li><code>Reflect.getPrototypeOf(target)</code> ç±»ä¼¼äº <code>Object.getPrototypeOf()</code>ï¼›</li>
<li><code>Reflect.has(target, propertyKey)</code> åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå’Œ <code>in</code> è¿ç®—ç¬¦ çš„åŠŸèƒ½å®Œå…¨ç›¸åŒï¼›</li>
<li><code>Reflect.isExtensible(target)</code> ç±»ä¼¼äº <code>Object.isExtensible()</code>ï¼›</li>
<li><code>Reflect.ownKeys(target)</code> è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆä¸åŒ…å«ç»§æ‰¿å±æ€§ï¼‰çš„æ•°ç»„ã€‚(ç±»ä¼¼äº <code>Object.keys()</code>, ä½†ä¸ä¼šå— <code>enumerable</code> å½±å“)ï¼›</li>
<li><code>Reflect.preventExtensions(target)</code> ç±»ä¼¼äº <code>Object.preventExtensions()</code>ã€‚è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼›</li>
<li><code>Reflect.set(target, propertyKey, value[, receiver])</code> å°†å€¼åˆ†é…ç»™å±æ€§çš„å‡½æ•°ã€‚è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li>
<li><code>Reflect.setPrototypeOf(target, prototype)</code> è®¾ç½®å¯¹è±¡åŸå‹çš„å‡½æ•°. è¿”å›ä¸€ä¸ª <code>Boolean</code>ï¼Œ å¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› <code>true</code>ï¼›</li>
</ul>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><ul>
<li><p>å¯ä»¥ç”¨ <code>class</code> å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œç±»æ˜¯å¯¹ä¸€ç±»å…·æœ‰å…±åŒç‰¹å¾çš„äº‹ç‰©çš„æŠ½è±¡ï¼Œå°±æ¯”å¦‚å¯ä»¥æŠŠå°ç‹—å®šä¹‰ä¸ºä¸€ä¸ªç±»ï¼Œå°ç‹—æœ‰åå­—ä¼šå«ä¹Ÿä¼šè·³ï¼›ç±»æ˜¯ç‰¹æ®Šçš„å‡½æ•°ï¼Œå°±åƒå‡½æ•°å®šä¹‰çš„æ—¶å€™æœ‰å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ä¸€æ ·ï¼Œç±»çš„å®šä¹‰ä¹Ÿæœ‰ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼ï¼Œä¸è¿‡ç±»å£°æ˜ä¸åŒäºå‡½æ•°å£°æ˜ï¼Œå®ƒæ˜¯æ— æ³•æå‡çš„ï¼›ç±»ä¹Ÿæœ‰ <code>name</code> å±æ€§</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç±»å£°æ˜</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    bark() &#123;&#125;</span><br><span class="line">    jump() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line">Dog.name  <span class="comment">// &#x27;Dog&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»è¡¨è¾¾å¼ï¼šå¯ä»¥å‘½åï¼ˆç±»çš„ name å±æ€§å–ç±»åï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸å‘½åï¼ˆç±»çš„ name å±æ€§å–å˜é‡åï¼‰</span></span><br><span class="line"><span class="keyword">let</span> Animal2 = <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="comment">// xxx</span></span><br><span class="line">&#125;</span><br><span class="line">Animal2.name  <span class="comment">// &#x27;Animal2&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>JS</code> ä¸­çš„ç±»å»ºç«‹åœ¨åŸå‹çš„åŸºç¡€ä¸Šï¼ˆé€šè¿‡å‡½æ•°æ¥æ¨¡æ‹Ÿç±»ï¼Œå…¶å®ç±»å°±æ˜¯æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼‰ï¼Œå’Œ <code>ES5</code> ä¸­æ„é€ å‡½æ•°ç±»ä¼¼ï¼Œä½†æ˜¯ä¹Ÿæœ‰åŒºåˆ«ï¼Œæ¯”å¦‚ç±»çš„å†…éƒ¨æ–¹æ³•æ˜¯ä¸å¯è¢«è¿­ä»£çš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">    bark() &#123;&#125;</span><br><span class="line">    jump() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(Dog.prototype)  <span class="comment">// []</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»ä¼¼äº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dog2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">Dog2.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;&#125;,</span><br><span class="line">    bark() &#123;&#125;,</span><br><span class="line">    jump() &#123;&#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(Dog2.prototype)  <span class="comment">// [&#x27;constructor&#x27;, &#x27;bark&#x27;, &#x27;jump&#x27;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŸºäºåŸå‹ç»™ç±»æ·»åŠ æ–°æ–¹æ³•ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.assign(Dog.prototype, &#123;</span><br><span class="line">    wag() &#123;&#125;  <span class="comment">// æ‘‡å°¾å·´</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼çš„ä¸»ä½“éƒ½æ‰§è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ã€‚æ¯”å¦‚ï¼Œæ„é€ å‡½æ•°ï¼Œé™æ€æ–¹æ³•ï¼ŒåŸå‹æ–¹æ³•ï¼Œ<code>getter</code>å’Œ <code>setter</code> éƒ½åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œã€‚</p>
</li>
<li><p>ç±»å†…éƒ¨çš„ <code>this</code> é»˜è®¤æŒ‡å‘ç±»å®ä¾‹ï¼Œæ‰€ä»¥å¦‚æœç›´æ¥è°ƒç”¨åŸå‹æ–¹æ³•æˆ–è€…é™æ€æ–¹æ³•ä¼šå¯¼è‡´ <code>this</code> æŒ‡å‘è¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œè€Œç±»å†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥æ­¤æ—¶çš„ <code>this</code> ä¼šæ˜¯ <code>undefined</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    bark() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> is bark.`</span> )</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> jump() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log( <span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> is jump.`</span> )</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§é»„&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> &#123; bark &#125; = dog</span><br><span class="line"><span class="keyword">let</span> &#123; jump &#125; = Dog</span><br><span class="line">bark()  <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of undefined</span></span><br><span class="line">jump()  <span class="comment">// TypeError: Cannot read property &#x27;name&#x27; of undefined</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>æ–¹æ³•å’Œå…³é”®å­—</strong>ï¼š</p>
<ul>
<li><p><code>constructor</code> æ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ <code>new</code> å…³é”®å­—ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ï¼›ä¸€ä¸ªç±»å¿…é¡»æœ‰<code>constructor</code> æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œåˆ™ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªç©ºçš„ï¼›<code>constructor</code> é»˜è®¤ä¼šè¿”å›å®ä¾‹å¯¹è±¡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç­‰åŒäº</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</span><br><span class="line">        <span class="keyword">constructor</span>() &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">- é€šè¿‡ `</span>get<span class="string">` å’Œ `</span>set<span class="string">` å…³é”®å­—æ‹¦æˆªæŸä¸ªå±æ€§çš„è¯»å†™æ“ä½œï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>js</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">        <span class="keyword">get</span> <span class="title">age</span>()&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">set</span> <span class="title">age</span>(<span class="params">val</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.age = val</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨ <code>static</code> å…³é”®å­—ç»™ç±»å®šä¹‰é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ä¸ä¼šå­˜åœ¨ç±»çš„åŸå‹ä¸Šï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ç±»å®ä¾‹è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡ç±»åæ¥è°ƒç”¨ï¼Œé™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•å¯ä»¥åŒåï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    bark() &#123;&#125;</span><br><span class="line">    jump() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;åŸå‹æ–¹æ³•&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> jump() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;é™æ€æ–¹æ³•&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(Dog.prototype)  <span class="comment">// [&#x27;constructor&#x27;, &#x27;bark&#x27;, &#x27;jump&#x27;]</span></span><br><span class="line">Dog.jump()  <span class="comment">// &#x27;é™æ€æ–¹æ³•&#x27;</span></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line">dog.jump()  <span class="comment">// &#x27;åŸå‹æ–¹æ³•&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¬æœ‰å­—æ®µå’Œç§æœ‰å­—æ®µï¼š</p>
<p>  é™æ€å…¬æœ‰å­—æ®µå’Œé™æ€æ–¹æ³•ä¸€æ ·åªèƒ½é€šè¿‡ç±»åè°ƒç”¨ï¼›ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•åªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œå¤–éƒ¨è°ƒç”¨å°†æŠ¥é”™ï¼š</p>
  <figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    age = <span class="number">12</span>                   <span class="comment">// å…¬æœ‰å­—æ®µ</span></span><br><span class="line">    <span class="keyword">static</span> sex = <span class="string">&#x27;male&#x27;</span>        <span class="comment">// é™æ€å…¬æœ‰å­—æ®µ</span></span><br><span class="line">    #secret = &#x27;æˆ‘æ˜¯äººç±»çš„å¥½æœ‹å‹&#x27;  // ç§æœ‰å­—æ®µ</span><br><span class="line">    #getSecret() &#123;              // ç§æœ‰æ–¹æ³•</span><br><span class="line">        return this.#secret</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">Dog.sex  <span class="comment">// &#x27;male&#x27;</span></span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line">dog.#getSecret()  // SyntaxError</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å…¬å…±å’Œç§æœ‰å­—æ®µå£°æ˜æ˜¯ JavaScript æ ‡å‡†å§”å‘˜ä¼š TC39 æå‡ºçš„å®éªŒæ€§åŠŸèƒ½ï¼ˆç¬¬ 3 é˜¶æ®µï¼‰ã€‚æµè§ˆå™¨ä¸­çš„æ”¯æŒæ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ Babel ç­‰ç³»ç»Ÿæ„å»ºåä½¿ç”¨æ­¤åŠŸèƒ½ã€‚</p>
</blockquote>
</li>
<li><p><code>new.target</code> å±æ€§å…è®¸ä½ æ£€æµ‹å‡½æ•°ã€æ„é€ æ–¹æ³•æˆ–è€…ç±»æ˜¯å¦æ˜¯é€šè¿‡ <code>new</code> è¿ç®—ç¬¦è¢«è°ƒç”¨çš„ã€‚åœ¨é€šè¿‡ <code>new</code> è¿ç®—ç¬¦è¢«åˆå§‹åŒ–çš„å‡½æ•°æˆ–æ„é€ æ–¹æ³•ä¸­ï¼Œ<code>new.target</code> è¿”å›ä¸€ä¸ªæŒ‡å‘æ„é€ æ–¹æ³•æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚åœ¨æ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œ<code>new.target</code> çš„å€¼æ˜¯ <code>undefined</code>ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ä¼šè¿”å›å­ç±»ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">new</span>.target.name)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">new</span>.target) <span class="keyword">return</span> <span class="string">&#x27;new target is undefined&#x27;</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;fn is called by new&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog()  <span class="comment">// &#x27;Dog&#x27;</span></span><br><span class="line">fn()                 <span class="comment">// &#x27;new target is undefined&#x27;</span></span><br><span class="line"><span class="keyword">new</span> fn()             <span class="comment">// &#x27;fn is called by new&#x27;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>ç±»çš„ç»§æ‰¿</strong>ï¼š</p>
<ul>
<li><p>ç±»å¯ä»¥é€šè¿‡ <code>extends</code> å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå¦‚æœå­ç±»æ˜¾ç¤ºçš„å®šä¹‰äº† <code>constructor</code> åˆ™å¿…é¡»åœ¨å†…éƒ¨è°ƒç”¨ <code>super()</code> æ–¹æ³•ï¼Œå†…éƒ¨çš„ <code>this</code> æŒ‡å‘å½“å‰å­ç±»ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    run() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> is running.`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;   </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">        <span class="built_in">super</span>(name)  <span class="comment">// å¿…é¡»è°ƒç”¨</span></span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    bark() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> is barking.`</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog(<span class="string">&#x27;å¤§é»„&#x27;</span>)</span><br><span class="line">dog.run()  <span class="comment">// &#x27;å¤§é»„ is running.&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é€šè¿‡ <code>super()</code> è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æˆ–è€…é€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„åŸå‹æ–¹æ³•ï¼›å¦å¤–ä¹Ÿå¯ä»¥åœ¨å­ç±»çš„é™æ€æ–¹æ³•é‡Œé€šè¿‡ <code>super</code> è°ƒç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// åŸºäºä¸Šé¢çš„ä»£ç æ”¹é€ </span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">        <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">            <span class="built_in">super</span>(name)  <span class="comment">// è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°</span></span><br><span class="line">            <span class="built_in">this</span>.name = name</span><br><span class="line">        &#125;</span><br><span class="line">        bark() &#123;</span><br><span class="line">            <span class="built_in">super</span>.run()  <span class="comment">// è°ƒç”¨çˆ¶ç±»åŸå‹æ–¹æ³•</span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span> is barking.`</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line">    dog.bark()s</span><br><span class="line">    <span class="comment">// &#x27;å¤§é»„ is running.&#x27;</span></span><br><span class="line">    <span class="comment">// &#x27;å¤§é»„ is barking.&#x27;</span></span><br><span class="line">    <span class="string">``</span><span class="string">` </span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">- å­ç±»çš„ `</span>__proto__<span class="string">` å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ï¼›å­ç±» `</span>prototype<span class="string">` å±æ€§çš„ `</span>__proto__<span class="string">` å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ï¼š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    `</span><span class="string">``</span>js</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;&#125;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    Dog.__proto__ === Animal  <span class="comment">// true</span></span><br><span class="line">    Dog.prototype.__proto__ === Animal.prototype  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>  å­ç±»åŸå‹çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„åŸå‹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŸºäºä¸Šé¢çš„ä»£ç </span></span><br><span class="line"><span class="keyword">let</span> animal = <span class="keyword">new</span> Animal()</span><br><span class="line"><span class="keyword">let</span> dog = <span class="keyword">new</span> Dog()</span><br><span class="line">dog.__proto__.__proto__  === animal.__proto__  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä½¿ç”¨ <code>extends</code> è¿˜å¯ä»¥å®ç°ç»§æ‰¿åŸç”Ÿçš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹è¿™äº›æ„é€ å‡½æ•°éƒ½å¯ä»¥è¢«ç»§æ‰¿ï¼š</p>
<ul>
<li><p><code>String()</code></p>
</li>
<li><p><code>Number()</code></p>
</li>
<li><p><code>Boolean()</code></p>
</li>
<li><p><code>Array()</code></p>
</li>
<li><p><code>Object()</code></p>
</li>
<li><p><code>Function()</code></p>
</li>
<li><p><code>Date()</code></p>
</li>
<li><p><code>RegExp()</code></p>
</li>
<li><p><code>Error()</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyString</span> <span class="keyword">extends</span> <span class="title">String</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name)&#123;</span><br><span class="line">        <span class="built_in">super</span>(name)</span><br><span class="line">        <span class="built_in">this</span>.name = name</span><br><span class="line">    &#125;</span><br><span class="line">    welcome() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`hello <span class="subst">$&#123;<span class="built_in">this</span>.name&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> ms = <span class="keyword">new</span> MyString(<span class="string">&#x27;å¸ƒå…°&#x27;</span>)</span><br><span class="line">ms.welcome()      <span class="comment">// &#x27;hello å¸ƒå…°&#x27;</span></span><br><span class="line">ms.length         <span class="comment">// 2</span></span><br><span class="line">ms.indexOf(<span class="string">&#x27;å…°&#x27;</span>)  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><ul>
<li><p>æµè§ˆå™¨ä¼ ç»ŸåŠ è½½æ¨¡å—æ–¹å¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥åŠ è½½</span></span><br><span class="line">&lt;script src=<span class="string">&quot;test.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// deferå¼‚æ­¥åŠ è½½ï¼šé¡ºåºæ‰§è¡Œï¼Œæ–‡æ¡£è§£æå®Œæˆåæ‰§è¡Œï¼›</span></span><br><span class="line">&lt;script src=<span class="string">&quot;test.js&quot;</span> defer&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// asyncå¼‚æ­¥åŠ è½½ï¼šä¹±åºåŠ è½½ï¼Œä¸‹è½½å®Œå°±æ‰§è¡Œã€‚</span></span><br><span class="line">&lt;script src=<span class="string">&quot;test.js&quot;</span> <span class="keyword">async</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æµè§ˆå™¨ç°åœ¨å¯ä»¥æŒ‰ç…§æ¨¡å—ï¼ˆåŠ ä¸Š <code>type=&quot;module&quot;</code>ï¼‰æ¥åŠ è½½è„šæœ¬ï¼Œé»˜è®¤å°†æŒ‰ç…§ <code>defer</code> çš„æ–¹å¼å¼‚æ­¥åŠ è½½ï¼›<code>ES6</code> çš„æ¨¡å—åŠ è½½ä¾èµ–äº <code>import</code> å’Œ <code>export</code> è¿™ 2 ä¸ªå‘½ä»¤ï¼›æ¨¡å—å†…éƒ¨è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¨¡å—åŠ è½½</span></span><br><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span> src=<span class="string">&quot;test.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>export</code> ç”¨äºè¾“å‡ºæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œä¸€ä¸ªæ¨¡å—å†…åªèƒ½å…è®¸ä¸€ä¸ª <code>export default</code> å­˜åœ¨ï¼Œä»¥ä¸‹æ˜¯å‡ ç§è¾“å‡ºæ¨¡å—æ¥å£çš„å†™æ³•ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// person.js</span></span><br><span class="line"><span class="comment">// å†™æ³•ä¸€ï¼šå•ç‹¬å¯¼å‡º</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒï¼šæŒ‰éœ€å¯¼å‡º</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•ä¸‰ï¼šé‡å‘½ååå¯¼å‡º</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span></span><br><span class="line"><span class="keyword">export</span> &#123; name <span class="keyword">as</span> name1, age <span class="keyword">as</span> age1 &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•å››ï¼šé»˜è®¤å¯¼å‡º</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> name</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>import</code> ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—çš„æ¥å£ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰éœ€å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age &#125; <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¼å…¥åé‡å‘½å</span></span><br><span class="line"><span class="keyword">import</span> &#123; name1 <span class="keyword">as</span> name, age1 <span class="keyword">as</span> age &#125; <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> person <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•´ä½“å¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> person <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ··åˆå¯¼å…¥</span></span><br><span class="line"><span class="keyword">import</span> _, &#123; each &#125; <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span></span><br></pre></td></tr></table></figure>

<p>  <code>import</code> å¯¼å…¥çš„ç»†èŠ‚ï¼š</p>
<ul>
<li>å¯¼å…¥çš„å˜é‡åå¿…é¡»ä¸å¯¼å‡ºæ¨¡å—çš„åå­—ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨ <code>as</code> è¿›è¡Œé‡å‘½åï¼›</li>
<li>å¯¼å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½æ”¹å†™ï¼›</li>
<li><code>import</code> å‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œï¼›</li>
<li><code>import</code> æ˜¯ç¼–è¯‘æ—¶å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½å°†å…¶å†™åˆ°ä»£ç å—ï¼ˆæ¯”å¦‚ <code>if</code> åˆ¤æ–­å—é‡Œï¼‰æˆ–è€…å‡½æ•°å†…éƒ¨ï¼›</li>
<li><code>import</code> ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—çš„ä»£ç ï¼Œå¦‚æœé‡å¤å¯¼å…¥åŒä¸€ä¸ªæ¨¡å—åˆ™åªä¼šæ‰§è¡Œä¸€æ¬¡æ¨¡å—ï¼›</li>
</ul>
</li>
<li><p><code>import</code> å’Œ <code>export</code> çš„å¤åˆå†™æ³•ï¼š<code>export</code> å’Œ <code>import</code> è¯­å¥å¯ä»¥ç»“åˆåœ¨ä¸€èµ·å†™æˆä¸€è¡Œï¼Œç›¸å½“äºæ˜¯åœ¨å½“å‰æ¨¡å—ç›´æ¥è½¬å‘å¤–éƒ¨æ¨¡å—çš„æ¥å£ï¼Œå¤åˆå†™æ³•ä¹Ÿæ”¯æŒç”¨ <code>as</code> é‡å‘½åã€‚ä»¥ä¸‹ä¾‹å­ä¸­éœ€è¦åœ¨ <code>hub.js</code> æ¨¡å—ä¸­è½¬å‘ <code>person.js</code> çš„æ¥å£ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// person.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125;</span><br><span class="line"><span class="comment">// æŒ‰éœ€è½¬å‘æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰</span></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125; <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line"><span class="keyword">import</span> &#123; name, age &#125; <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> &#123; name, age &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// person.js</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;å¸ƒå…°&#x27;</span>, age = <span class="number">12</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123; name, age &#125;</span><br><span class="line"><span class="comment">// è½¬å‘é»˜è®¤æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰</span></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="keyword">default</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"><span class="comment">// ç›¸å½“äº</span></span><br><span class="line"><span class="keyword">import</span> person <span class="keyword">from</span> <span class="string">&#x27;./person.js&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> person</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>ES6</code> æ¨¡å—å’Œ <code>CommonJS</code> æ¨¡å—çš„å·®å¼‚ï¼š</p>
<ul>
<li><code>CommonJS</code> æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ˆä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ï¼‰ï¼Œ<code>ES6</code> æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼ˆæ˜¯åŠ¨æ€å¼•ç”¨ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œçš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨åˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œå»å–å€¼ï¼‰ï¼›</li>
<li><code>CommonJS</code> æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼Œ<code>ES6</code> æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼›</li>
<li><code>CommonJS</code> æ¨¡å—çš„ <code>require()</code> æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼Œ<code>ES6</code> æ¨¡å—çš„ <code>import</code> å‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¾èµ–çš„è§£æé˜¶æ®µï¼›</li>
</ul>
</li>
</ul>
<h3 id="Iteratorå’Œforâ€¦of"><a href="#Iteratorå’Œforâ€¦of" class="headerlink" title="Iteratorå’Œforâ€¦of"></a>Iteratorå’Œforâ€¦of</h3><ul>
<li><p><code>Iterator</code> è¿­ä»£å™¨åè®®ï¼Œä¸ºå„ç§æ•°æ®ç»“æ„æä¾›äº†ä¸€ç§ç»Ÿä¸€æŒ‰ç…§æŸç§é¡ºåºè¿›è¡Œè®¿é—®çš„æœºåˆ¶ã€‚é€šå¸¸éƒ¨ç½²åœ¨ä¸€ä¸ªå¯è¿­ä»£æ•°æ®ç»“æ„å†…éƒ¨æˆ–å…¶åŸå‹ä¸Šã€‚ä¸€ä¸ªå¯¹è±¡è¦èƒ½å¤Ÿæˆä¸ºè¿­ä»£å™¨ï¼Œå®ƒå¿…é¡»æœ‰ä¸€ä¸ª <code>next()</code> æ–¹æ³•ï¼Œæ¯æ¬¡æ‰§è¡Œ <code>next()</code> æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€ä¸ª <code>done</code> å±æ€§ï¼ˆæ˜¯ä¸ªå¸ƒå°”å€¼ï¼Œ<code>true</code> è¡¨ç¤ºå¯ä»¥ç»§ç»­ä¸‹æ¬¡è¿­ä»£ï¼‰å’Œä¸€ä¸ª <code>value</code> å±æ€§ï¼ˆæ¯æ¬¡è¿­ä»£çš„å€¼ï¼‰ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨</span></span><br><span class="line"><span class="keyword">let</span> makeIterator = <span class="function">(<span class="params">arr</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        next()&#123;</span><br><span class="line">            <span class="keyword">return</span> index &lt; arr.length ? &#123;</span><br><span class="line">                value: arr[index++],</span><br><span class="line">                done: <span class="literal">false</span></span><br><span class="line">            &#125; : &#123; <span class="attr">done</span>: <span class="literal">true</span> &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><code>iterable</code> å¯è¿­ä»£æ•°æ®ç»“æ„ï¼šå†…éƒ¨æˆ–è€…åŸå‹ä¸Šå¿…é¡»æœ‰ä¸€ä¸ª <code>Symbol.iterator</code> å±æ€§ï¼ˆå¦‚æœæ˜¯å¼‚æ­¥çš„åˆ™æ˜¯ <code>Symbol.asyncIterator</code>ï¼‰ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œåä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    [<span class="built_in">Symbol</span>.iterator]() &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            index: <span class="number">0</span>,</span><br><span class="line">            next() &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.index &lt; <span class="number">3</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">value</span>: <span class="built_in">this</span>.index++, done: <span class="literal">false</span>&#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;<span class="attr">done</span>: <span class="literal">true</span>&#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> obj) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// 0 1 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  å†…ç½®çš„ä¸€äº›å¯è¿­ä»£æ•°æ®ç»“æ„æœ‰ï¼š<code>String</code>ã€<code>Array</code>ã€<code>TypedArray</code>ã€<code>Map</code> å’Œ <code>Set</code>ã€<code>arguments</code>ã€<code>NodeList</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> si = <span class="string">&#x27;hi&#x27;</span>[<span class="built_in">Symbol</span>.iterator]()</span><br><span class="line">si         <span class="comment">// StringIterator</span></span><br><span class="line">si.next()  <span class="comment">// &#123;value: &#x27;h&#x27;, done: false&#125;</span></span><br><span class="line">si.next()  <span class="comment">// &#123;value: &#x27;i&#x27;, done: false&#125;</span></span><br><span class="line">si.next()  <span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>for...of</code>ï¼šç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼š</p>
<ul>
<li><p>éå†å­—ç¬¦ä¸²ï¼š<code>for...in</code> è·å–ç´¢å¼•ï¼Œ<code>for...of</code> è·å–å€¼ï¼›</p>
</li>
<li><p>éå†æ•°ç»„ï¼š<code>for...in</code> è·å–ç´¢å¼•ï¼Œ<code>for...of</code> è·å–å€¼ï¼›</p>
</li>
<li><p>éå†å¯¹è±¡ï¼š<code>for...in</code> è·å–é”®ï¼Œ<code>for...of</code> éœ€è‡ªè¡Œéƒ¨ç½² <code>[Symbol.iterator]</code> æ¥å£ï¼›</p>
</li>
<li><p>éå† <code>Set</code>ï¼š<code>for...of</code> è·å–å€¼ï¼Œ <code>for (const v of set)</code>ï¼›</p>
</li>
<li><p>éå† <code>Map</code>ï¼š<code>for...of</code> è·å–é”®å€¼å¯¹ï¼Œ<code>for (const [k, v] of map)</code>ï¼›</p>
</li>
<li><p>éå†ç±»æ•°ç»„ï¼šåŒ…å« <code>length</code> çš„å¯¹è±¡ã€<code>arguments</code> å¯¹è±¡ã€<code>NodeList</code>å¯¹è±¡(æ—  <code>Iterator</code> æ¥å£çš„ç±»æ•°ç»„å¯ç”¨ <code>Array.from()</code> è½¬æ¢)ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿­ä»£å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> <span class="string">&#x27;abc&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿­ä»£æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">//  &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå† Set</span></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>])</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> set) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)  <span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå† Map</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;å¸ƒå…°&#x27;</span>], [<span class="string">&#x27;age&#x27;</span>, <span class="number">12</span>]])</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key + <span class="string">&#x27;: &#x27;</span> + value)  <span class="comment">// &#x27;name: å¸ƒå…°&#x27; &#x27;age: 12&#x27;  </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>for...of</code> å’Œ <code>for...in</code> å¯¹æ¯”</p>
<p>  å…±åŒç‚¹ï¼šèƒ½å¤Ÿé€šè¿‡ <code>break</code>ã€<code>continue</code> å’Œ <code>return</code> è·³å‡ºå¾ªç¯ï¼›<br>  ä¸åŒç‚¹ï¼š</p>
<pre><code>  - `for...in` çš„ç‰¹ç‚¹ï¼šåªèƒ½éå†é”®ï¼Œä¼šéå†åŸå‹ä¸Šå±æ€§ï¼Œéå†æ— é¡ºåºï¼Œé€‚åˆäºå¯¹è±¡çš„éå†ï¼›
  - `for...of` çš„ç‰¹ç‚¹ï¼šèƒ½å¤Ÿéå†å€¼ï¼ˆæŸäº›æ•°æ®ç»“æ„èƒ½éå†é”®å’Œå€¼ï¼Œæ¯”å¦‚ `Map`ï¼‰ï¼Œä¸ä¼šéå†åŸå‹ä¸Šçš„é”®å€¼ï¼Œéå†é¡ºåºä¸ºæ•°æ®çš„æ·»åŠ é¡ºåºï¼Œé€‚ç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼›</code></pre>
</li>
</ul>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p><code>Promise</code> è¿™å—çŸ¥è¯†å¯ä»¥ç›´æ¥çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« ï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/6886247841686093837">æ·±å…¥ç†è§£Promise</a> éå¸¸å®Œæ•´ã€‚</p>
<h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><ul>
<li><p><code>function*</code> ä¼šå®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ª <code>Generator</code> å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®çš„ï¼Œæ¢å¥è¯è¯´è¿™ä¸ª <code>Generator</code> æ˜¯å¯ä»¥è¢«è¿­ä»£çš„ã€‚</p>
</li>
<li><p>ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨é€šè¿‡ <code>yield</code> æ¥æ§åˆ¶æš‚åœï¼Œè€Œ <code>next()</code> å°†æŠŠå®ƒæ¢å¤æ‰§è¡Œï¼Œå®ƒçš„è¿è¡Œé€»è¾‘æ˜¯å¦‚ä¸‹è¿™æ ·çš„ï¼š</p>
<ul>
<li><p>é‡åˆ° <code>yield</code> è¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨ <code>yield</code> åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ï¼›</p>
</li>
<li><p>ä¸‹ä¸€æ¬¡è°ƒç”¨ <code>next</code> æ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª <code>yield</code> è¡¨è¾¾å¼ï¼›</p>
</li>
<li><p>å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„ <code>yield</code> è¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ° <code>return</code> è¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°† <code>return</code> è¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ï¼›</p>
</li>
<li><p>å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰ <code>return</code> è¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„ <code>value</code> å±æ€§å€¼ä¸º <code>undefined</code>ï¼›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;hello&#x27;</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;world&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;end&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()  <span class="comment">// &#123;value: &#x27;hello&#x27;, done: false&#125;</span></span><br><span class="line">g.next()  <span class="comment">// &#123;value: &#x27;world&#x27;, done: false&#125;</span></span><br><span class="line">g.next()  <span class="comment">// &#123;value: &#x27;end&#x27;, done: true&#125;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨ <code>yield*</code> è¡¨è¾¾å¼å§”æ‰˜ç»™å¦ä¸€ä¸ª <code>Generator</code> æˆ–å¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ç­‰ï¼›<code>yield*</code> è¡¨è¾¾å¼æœ¬èº«çš„å€¼æ˜¯å½“è¿­ä»£å™¨å…³é—­æ—¶è¿”å›çš„å€¼ï¼ˆå³ <code>done</code> ä¸º <code>true</code> æ—¶ï¼‰ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">inner</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span>* [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;foo&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">yield</span>* inner()</span><br><span class="line">    <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()</span><br><span class="line">g.next()</span><br><span class="line">g.next()</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>å®ä¾‹æ–¹æ³•</strong>ï¼š</p>
<ul>
<li><p><code>Generator.prototype.next()</code>ï¼šè¿”å›ä¸€ä¸ªåŒ…å«å±æ€§ <code>done</code> å’Œ <code>value</code> çš„å¯¹è±¡ã€‚è¯¥æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡æ¥å—ä¸€ä¸ªå‚æ•°ç”¨ä»¥å‘ç”Ÿæˆå™¨ä¼ å€¼ã€‚å¦‚æœä¼ å…¥äº†å‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šä¼ ç»™ä¸Šä¸€æ¡æ‰§è¡Œçš„ <code>yield</code> è¯­å¥å·¦è¾¹çš„å˜é‡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">yield</span> <span class="number">12</span></span><br><span class="line">    <span class="built_in">console</span>.log(a)</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">yield</span> a</span><br><span class="line">    <span class="built_in">console</span>.log(b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = f()</span><br><span class="line"><span class="built_in">console</span>.log(g.next(<span class="string">&#x27;a&#x27;</span>))</span><br><span class="line"><span class="built_in">console</span>.log(g.next(<span class="string">&#x27;b&#x27;</span>))</span><br><span class="line"><span class="built_in">console</span>.log(g.next(<span class="string">&#x27;c&#x27;</span>))</span><br><span class="line"><span class="comment">// &#123;value: 12, done: false&#125;</span></span><br><span class="line"><span class="comment">// &#x27;b&#x27;</span></span><br><span class="line"><span class="comment">// &#123;value: &#x27;b&#x27;, done: false&#125;</span></span><br><span class="line"><span class="comment">// &#x27;c&#x27;</span></span><br><span class="line"><span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Generator.prototype.throw()</code>ï¼šç”¨æ¥å‘ç”Ÿæˆå™¨æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœå†…éƒ¨æ•è·äº†åˆ™ä¼šæ¢å¤ç”Ÿæˆå™¨çš„æ‰§è¡Œï¼ˆå³æ‰§è¡Œä¸‹ä¸€æ¡ <code>yield</code> è¡¨è¾¾å¼ï¼‰ï¼Œå¹¶ä¸”è¿”å›å¸¦æœ‰ <code>done</code> åŠ <code>value</code> ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e)</span><br><span class="line">    &#125;</span><br><span class="line">    yiele <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()</span><br><span class="line">g.throw(<span class="string">&#x27;error a&#x27;</span>)</span><br><span class="line">g.next()</span><br><span class="line"><span class="comment">// &#123;value: &quot;a&quot;, done: false&#125;</span></span><br><span class="line"><span class="comment">// &#x27;error a&#x27; </span></span><br><span class="line"><span class="comment">// &#123;value: &quot;b&quot;, done: false&#125;</span></span><br><span class="line"><span class="comment">// &#123;value: &quot;c&quot;, done: false&#125;</span></span><br></pre></td></tr></table></figure>

<p>  å¦‚æœå†…éƒ¨æ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œå°†ä¸­æ–­å†…éƒ¨ä»£ç çš„ç»§ç»­æ‰§è¡Œï¼ˆç±»ä¼¼ <code>throw</code> æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰æ•è·ï¼Œåˆ™åé¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œï¼‰ï¼Œæ­¤æ—¶å¼‚å¸¸ä¼šæŠ›åˆ°å¤–éƒ¨ï¼Œå¯ä»¥è¢«å¤–éƒ¨çš„ <code>try...catch</code> å—æ•è·ï¼Œæ­¤æ—¶å¦‚æœå†æ‰§è¡Œä¸€æ¬¡ <code>next()</code>ï¼Œä¼šè¿”å›ä¸€ä¸ªå€¼ä¸º <code>done</code> å±æ€§ä¸º <code>true</code> çš„å¯¹è±¡ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    g.throw(<span class="string">&#x27;error a&#x27;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(e)</span><br><span class="line">&#125;</span><br><span class="line">g.next()</span><br><span class="line"><span class="comment">// &#123;value: &quot;a&quot;, done: false&#125;</span></span><br><span class="line"><span class="comment">// &#x27;error a&#x27;</span></span><br><span class="line"><span class="comment">// &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Generator.prototype.return()</code>ï¼šè¿”å›ç»™å®šçš„å€¼å¹¶ç»“æŸç”Ÿæˆå™¨ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">let</span> g = gen()</span><br><span class="line">g.next()         <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">g.return(<span class="string">&#x27;foo&#x27;</span>)  <span class="comment">// &#123; value: &quot;foo&quot;, done: true &#125;</span></span><br><span class="line">g.next()         <span class="comment">// &#123; value: undefined, done: true &#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>åº”ç”¨</strong>ï¼š</p>
<ul>
<li><p>å°†å¼‚æ­¥æ“ä½œåŒæ­¥åŒ–ï¼Œæ¯”å¦‚åŒæ—¶æœ‰å¤šä¸ªè¯·æ±‚ï¼Œå¤šä¸ªè¯·æ±‚ä¹‹é—´æ˜¯æœ‰é¡ºåºçš„ï¼Œåªèƒ½ç­‰å‰é¢çš„è¯·æ±‚å®Œæˆäº†æ‰è¯·æ±‚åé¢çš„ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">main</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span> request(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span> request(<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res2)</span><br><span class="line">    <span class="keyword">let</span> res3 = <span class="keyword">yield</span> request(<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(res3)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  <span class="comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚</span></span><br><span class="line">        it.next(url)</span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> it = main()</span><br><span class="line">it.next()</span><br><span class="line"><span class="comment">// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç»™å¯¹è±¡éƒ¨ç½² <code>Iterator</code> æ¥å£ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">iterEntries</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> keys = <span class="built_in">Object</span>.keys(obj)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; keys.length; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> key = keys[i]</span><br><span class="line">        <span class="keyword">yield</span> [key, obj[key]]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">foo</span>: <span class="number">3</span>, <span class="attr">bar</span>: <span class="number">7</span> &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> iterEntries(myObj)) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key, value)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;foo&#x27; 3</span></span><br><span class="line"><span class="comment">// &#x27;bar&#x27; 7</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="ES2016"><a href="#ES2016" class="headerlink" title="ES2016"></a>ES2016</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2016.png"></p>
<h3 id="Array-prototype-includes"><a href="#Array-prototype-includes" class="headerlink" title="Array.prototype.includes"></a>Array.prototype.includes</h3><p>åˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œä¹‹å‰ä¸€èˆ¬æ˜¯è¿™ä¹ˆåšçš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (arr.indexOf(el) &gt;= <span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ–è€…</span></span><br><span class="line"><span class="keyword">if</span> (~arr.indexOf(el)) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œç°åœ¨ä½ å¯ä»¥è¿™ä¹ˆåšäº†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (arr.includes(el)) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><code>indexOf</code> ä¼šè¿”å›æ‰¾åˆ°å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œåˆ¤æ–­çš„é€»è¾‘æ˜¯æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œæ‰€ä»¥ä»–åœ¨é‡åˆ° <code>NaN</code> çš„æ—¶å€™ä¸èƒ½æ­£ç¡®è¿”å›ç´¢å¼•ï¼Œä½†æ˜¯ <code>includes</code> è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="literal">NaN</span>, <span class="number">3</span>].indexOf(<span class="literal">NaN</span>)   <span class="comment">// -1</span></span><br><span class="line">[<span class="number">1</span>, <span class="literal">NaN</span>, <span class="number">3</span>].includes(<span class="literal">NaN</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ-ï¼‰"><a href="#æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ**ï¼‰"></a>æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ**ï¼‰</h3><p><code>x ** y</code> æ˜¯æ±‚ <code>x</code> çš„ <code>y</code> æ¬¡å¹‚ï¼Œå’Œ <code>Math.pow(x, y)</code> åŠŸèƒ½ä¸€è‡´ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x ** y</span></span><br><span class="line"><span class="keyword">let</span> squared = <span class="number">2</span> ** <span class="number">2</span>  <span class="comment">// 2 * 2 = 4</span></span><br><span class="line"><span class="keyword">let</span> cubed = <span class="number">2</span> ** <span class="number">3</span>    <span class="comment">// 2 * 2 * 2 = 8</span></span><br></pre></td></tr></table></figure>

<p><code>x **= y</code> è¡¨ç¤ºæ±‚ <code>x</code> çš„ <code>y</code> æ¬¡å¹‚ï¼Œå¹¶ä¸”æŠŠç»“æœèµ‹å€¼ç»™ <code>x</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x **= y</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">2</span>;</span><br><span class="line">x **= <span class="number">3</span>  <span class="comment">// x æœ€åç­‰äº 8</span></span><br></pre></td></tr></table></figure>

<h2 id="ES2017"><a href="#ES2017" class="headerlink" title="ES2017"></a>ES2017</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2017.png"></p>
<h3 id="Object-values"><a href="#Object-values" class="headerlink" title="Object.values()"></a>Object.values()</h3><p>è¿”å›ä¸€ä¸ªç”±å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯éå†å±æ€§çš„å±æ€§å€¼ç»„æˆçš„æ•°ç»„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(person, <span class="string">&#x27;age&#x27;</span>, &#123;</span><br><span class="line">    value: <span class="number">12</span>,</span><br><span class="line">    enumrable: <span class="literal">false</span>  <span class="comment">// age å±æ€§å°†ä¸å¯éå†</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(person))  <span class="comment">// [&#x27;å¸ƒå…°&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»ä¼¼ str.split(&#x27;&#x27;) æ•ˆæœ</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(<span class="string">&#x27;abc&#x27;</span>))  <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-entries"><a href="#Object-entries" class="headerlink" title="Object.entries()"></a>Object.entries()</h3><p>è¿”å›ä¸€ä¸ªç”±å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(person))  <span class="comment">// [[&quot;name&quot;, &quot;å¸ƒå…°&quot;], [&quot;age&quot;, 12]]</span></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å°†å¯¹è±¡è½¬æˆæ­£åœ¨çš„ <code>Map</code> ç»“æ„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">Object</span>.entries(person))</span><br><span class="line"><span class="built_in">console</span>.log(map)  <span class="comment">// Map &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="Object-getOwnPropertyDescriptors"><a href="#Object-getOwnPropertyDescriptors" class="headerlink" title="Object.getOwnPropertyDescriptors()"></a>Object.getOwnPropertyDescriptors()</h3><p><code>Object.getOwnPropertyDescriptor()</code> ä¼šè¿”å›æŒ‡å®šå¯¹è±¡æŸä¸ªè‡ªèº«å±æ€§çš„çš„æè¿°å¯¹è±¡ï¼Œè€Œ <code>Object.getOwnPropertyDescriptors()</code> åˆ™æ˜¯è¿”å›æŒ‡å®šå¯¹è±¡è‡ªèº«æ‰€æœ‰å±æ€§çš„æè¿°å¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptor(person, <span class="string">&#x27;name&#x27;</span>))</span><br><span class="line"><span class="comment">// &#123; configurable: true, enumerable: true, value: &quot;å¸ƒå…°&quot;, writable: true &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyDescriptors(person))</span><br><span class="line"><span class="comment">//&#123; </span></span><br><span class="line"><span class="comment">//  name: &#123; configurable: true, enumerable: true, value: &quot;å¸ƒå…°&quot;, writable: true &#125;,</span></span><br><span class="line"><span class="comment">//  age: &#123;configurable: false, enumerable: false, value: 12, writable: false&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure>

<p>é…åˆ <code>Object.create()</code> å¯ä»¥å®ç°æµ…å…‹éš†ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> shallowClone = <span class="function">(<span class="params">obj</span>) =&gt;</span> <span class="built_in">Object</span>.create(</span><br><span class="line">    <span class="built_in">Object</span>.getPrototypeOf(obj),</span><br><span class="line">    <span class="built_in">Object</span>.getOwnPropertyDescriptors(obj)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-padStart"><a href="#String-prototype-padStart" class="headerlink" title="String.prototype.padStart()"></a>String.prototype.padStart()</h3><p><code>str.padStart(length [, padStr])</code> ä¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å°†ä» <code>str</code> å­—ç¬¦ä¸²çš„å·¦ä¾§å¼€å§‹å¡«å……æŸä¸ªå­—ç¬¦ä¸² <code>padStr</code>ï¼ˆéå¿…å¡«ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²åˆ™ä¼šè½¬æˆå­—ç¬¦ä¸², ä¼ å…¥ <code>undefined</code> å’Œä¸ä¼ è¿™ä¸ªå‚æ•°æ•ˆæœä¸€è‡´ï¼‰ç›´åˆ°è¾¾åˆ°æŒ‡å®šä½æ•° <code>length</code> ä¸ºæ­¢ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span>.padStart(<span class="number">5</span>, <span class="number">2</span>)          <span class="comment">// &#x27;22abc&#x27;</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.padStart(<span class="number">5</span>, <span class="literal">undefined</span>)  <span class="comment">// &#x27;  abc&#x27;</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.padStart(<span class="number">5</span>, &#123;&#125;)         <span class="comment">// &#x27;[oabc&#x27;</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span>.padStart(<span class="number">5</span>)             <span class="comment">// &#x27;  abc&#x27;</span></span><br><span class="line"><span class="string">&#x27;abcde&#x27;</span>.padStart(<span class="number">2</span>, <span class="string">&#x27;f&#x27;</span>)      <span class="comment">// &#x27;abcde&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-padEnd"><a href="#String-prototype-padEnd" class="headerlink" title="String.prototype.padEnd()"></a>String.prototype.padEnd()</h3><p>è§„åˆ™å’Œ <code>padStart</code> ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯ä»å­—ç¬¦ä¸²å³ä¾§å¼€å§‹å¡«å……ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;abc&#x27;</span>.padEnd(<span class="number">5</span>, <span class="number">2</span>)  <span class="comment">// &#x27;abc22&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="å‡½æ•°å‚æ•°å°¾é€—å·"><a href="#å‡½æ•°å‚æ•°å°¾é€—å·" class="headerlink" title="å‡½æ•°å‚æ•°å°¾é€—å·"></a>å‡½æ•°å‚æ•°å°¾é€—å·</h3><p>å…è®¸å‡½æ•°åœ¨å®šä¹‰å’Œè°ƒç”¨çš„æ—¶å€™æ—¶å€™æœ€åä¸€ä¸ªå‚æ•°ååŠ ä¸Šé€—å·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">    param1, </span></span></span><br><span class="line"><span class="function"><span class="params">    param2,  </span></span></span><br><span class="line"><span class="function"><span class="params"></span>) </span>&#123; &#125;</span><br><span class="line"></span><br><span class="line">init(<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>,)</span><br></pre></td></tr></table></figure>

<h3 id="Asyncå‡½æ•°"><a href="#Asyncå‡½æ•°" class="headerlink" title="Asyncå‡½æ•°"></a>Asyncå‡½æ•°</h3><ul>
<li><p>ä½¿ç”¨ <code>async</code> å¯ä»¥å£°æ˜ä¸€ä¸ª <code>async</code> å‡½æ•°ï¼Œç»“åˆ <code>await</code> å¯ä»¥ç”¨ä¸€ç§å¾ˆç®€ä»‹çš„æ–¹æ³•å†™æˆåŸºäº <code>Promise</code> çš„å¼‚æ­¥è¡Œä¸ºï¼Œè€Œä¸éœ€è¦åˆ»æ„çš„é“¾å¼è°ƒç”¨ã€‚<code>await</code> è¡¨è¾¾å¼ä¼šæš‚åœæ•´ä¸ª <code>async</code> å‡½æ•°çš„æ‰§è¡Œè¿›ç¨‹å¹¶å‡ºè®©å…¶æ§åˆ¶æƒï¼Œåªæœ‰å½“å…¶ç­‰å¾…çš„åŸºäº <code>Promise</code> çš„å¼‚æ­¥æ“ä½œè¢«å…‘ç°æˆ–è¢«æ‹’ç»ä¹‹åæ‰ä¼šæ¢å¤è¿›ç¨‹ã€‚<code>async</code> å‡½æ•°æœ‰å¦‚ä¸‹å‡ ç§å®šä¹‰å½¢å¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å‡½æ•°è¡¨è¾¾å¼</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®­å¤´å‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">async</span> () =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡æ–¹æ³•</span></span><br><span class="line">lef obj = &#123;</span><br><span class="line">    <span class="keyword">async</span> foo() &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">async</span> bark() &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>async</code> å‡½æ•°ä¸€å®šä¼šè¿”å›ä¸€ä¸ª <code>Promise</code> å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨ <code>then</code> æ·»åŠ å¤„ç†å‡½æ•°ã€‚å¦‚æœä¸€ä¸ª <code>async</code> å‡½æ•°çš„è¿”å›å€¼çœ‹èµ·æ¥ä¸æ˜¯<code>Promise</code>ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¢«éšå¼åœ°åŒ…è£…åœ¨ä¸€ä¸ª <code>Promise</code> ä¸­ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;a&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">foo().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// &#x27;a&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å†…éƒ¨å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œæˆ–è€…æ˜¾ç¤ºæŠ›å‡ºé”™è¯¯ï¼Œé‚£ä¹ˆ <code>async</code> å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„ <code>Promsie</code>ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line">foo().catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)  <span class="comment">// Error: error</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿”å›çš„ <code>Promise</code> å¯¹è±¡å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰ <code>await</code> å‘½ä»¤ <code>Promise</code> å¯¹è±¡æ‰§è¡Œå®Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ° <code>return</code> è¯­å¥æˆ–æŠ›å‡ºé”™è¯¯ï¼›ä»»ä½•ä¸€ä¸ª <code>await</code> å‘½ä»¤è¿”å›çš„ <code>Promise</code> å¯¹è±¡å˜ <code>ä¸ºrejected</code> çŠ¶æ€ï¼Œæ•´ä¸ª <code>Async</code> å‡½æ•°éƒ½ä¼šä¸­æ–­åç»­æ‰§è¡Œï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="built_in">Promise</span>.resolve(<span class="string">&#x27;success&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;a_&#x27;</span> + a)</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">&#x27;fail&#x27;</span>)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;b_&#x27;</span> + b)  <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line">fn().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// &#x27;a_success&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;fail&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰€ä»¥ä¸ºäº†ä¿è¯  <code>async</code> é‡Œçš„å¼‚æ­¥æ“ä½œéƒ½èƒ½å®Œæˆï¼Œæˆ‘ä»¬éœ€è¦å°†ä»–ä»¬æ”¾åˆ° <code>try...catch()</code> å—é‡Œæˆ–è€…åœ¨ <code>await</code> è¿”å›çš„ <code>Promise</code> åè·Ÿä¸€ä¸ª <code>catch</code> å¤„ç†å‡½æ•°ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> a = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">&#x27;a fail&#x27;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;a_&#x27;</span> + a)  <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(e)  <span class="comment">// &#x27;a fail&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="keyword">await</span> <span class="built_in">Promise</span>.reject(<span class="string">&#x27;b fail&#x27;</span>)</span><br><span class="line">        .catch(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(e)  <span class="comment">// &#x27;b fail&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;b_&#x27;</span> + b)  <span class="comment">// &#x27;bundefined&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">fn().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// undefined</span></span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)  <span class="comment">// ä¸ä¼šæ‰§è¡Œ</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœ <code>async</code> å‡½æ•°é‡Œçš„å¤šä¸ªå¼‚æ­¥æ“ä½œä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå»ºè®®å°†ä»–ä»¬å†™åˆ°ä¸€èµ·å‡å°‘æ‰§è¡Œæ—¶é—´ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> [foo, bar] = <span class="keyword">await</span> <span class="built_in">Promise</span>.all([getFoo(), getBar()])</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> fooPromise = getFoo()</span><br><span class="line"><span class="keyword">let</span> barPromise = getBar()</span><br><span class="line"><span class="keyword">let</span> foo = <span class="keyword">await</span> fooPromise</span><br><span class="line"><span class="keyword">let</span> bar = <span class="keyword">await</span> barPromise</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>await</code> å‘½ä»¤åªèƒ½ç”¨åœ¨ <code>async</code> å‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p>
</li>
</ul>
<h3 id="å…±äº«å†…å­˜å’ŒAtomicså¯¹è±¡"><a href="#å…±äº«å†…å­˜å’ŒAtomicså¯¹è±¡" class="headerlink" title="å…±äº«å†…å­˜å’ŒAtomicså¯¹è±¡"></a>å…±äº«å†…å­˜å’ŒAtomicså¯¹è±¡</h3><ul>
<li><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/arraybuffer#SharedArrayBuffer">SharedArrayBuffer</a></li>
<li><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/arraybuffer#Atomics-%E5%AF%B9%E8%B1%A1">Atomics</a></li>
</ul>
<h2 id="ES2018"><a href="#ES2018" class="headerlink" title="ES2018"></a>ES2018</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2018.png"></p>
<h3 id="Promise-prototype-finally"><a href="#Promise-prototype-finally" class="headerlink" title="Promise.prototype.finally()"></a>Promise.prototype.finally()</h3><p><code>Promise.prototype.finally()</code> ç”¨äºç»™ <code>Promise</code> å¯¹è±¡æ·»åŠ  <code>onFinally</code> å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯åšä¸€äº›æ¸…ç†çš„å·¥ä½œï¼Œ<strong>åªæœ‰çŠ¶æ€å˜åŒ–</strong>çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œè¯¥ <code>onFinally</code> å‡½æ•°ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">onFinally</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">888</span>)  <span class="comment">// å¹¶ä¸ä¼šæ‰§è¡Œ  </span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;).finally(onFinally)</span><br></pre></td></tr></table></figure>

<p><code>finally()</code> ä¼šç”Ÿæˆä¸€ä¸ª <code>Promise</code> æ–°å®ä¾‹ï¼Œfinally ä¸€èˆ¬ä¼šåŸæ ·åä¼ çˆ¶ Promiseï¼Œæ— è®ºçˆ¶çº§å®ä¾‹æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="keyword">let</span> p2 = p1.finally(<span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p2)  <span class="comment">// Promise &#123;&lt;pending&gt;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p4 = p3.finally(<span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p3)  <span class="comment">// Promise &#123;&lt;fulfilled&gt;: 3&#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¯´çš„æ˜¯ä¸€èˆ¬ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ <code>finally</code> é‡Œè¿”å›äº†ä¸€ä¸ªé <code>fulfilled</code> çš„ <code>Promise</code> æˆ–è€…æŠ›å‡ºäº†å¼‚å¸¸çš„æ—¶å€™ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çŠ¶æ€çš„æ–°å®ä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    resolve(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> p2 = p1.finally(<span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">() =&gt;</span> &#123;&#125;))</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p2)  <span class="comment">// Promise &#123;&lt;pending&gt;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p3 = p1.finally(<span class="function">() =&gt;</span> <span class="built_in">Promise</span>.reject(<span class="number">6</span>))</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p3)  <span class="comment">// Promise &#123;&lt;rejected&gt;: 6&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p4 = p1.finally(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p4)  <span class="comment">// Promise &#123;&lt;rejected&gt;: Error: error&#125;</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://juejin.im/post/6886247841686093837#heading-9">æ·±å…¥ç†è§£Promise</a></p>
<h3 id="å¼‚æ­¥è¿­ä»£å™¨"><a href="#å¼‚æ­¥è¿­ä»£å™¨" class="headerlink" title="å¼‚æ­¥è¿­ä»£å™¨"></a>å¼‚æ­¥è¿­ä»£å™¨</h3><p>æƒ³è¦äº†è§£å¼‚æ­¥è¿­ä»£å™¨æœ€å¥½çš„æ–¹å¼å°±æ˜¯å’ŒåŒæ­¥è¿­ä»£å™¨è¿›è¡Œå¯¹æ¯”ã€‚æˆ‘ä»¬çŸ¥é“å¯è¿­ä»£æ•°æ®çš„å†…éƒ¨éƒ½æ˜¯æœ‰ä¸€ä¸ª <code>Symbol.iterator</code> å±æ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œåä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œè¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡æœ‰ä¸€ä¸ª <code>next()</code> æ–¹æ³•å¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿­ä»£ï¼Œ<code>next()</code> æ‰§è¡Œåä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†å½“å‰è¿­ä»£å€¼ <code>value</code> å’Œ æ ‡è¯†æ˜¯å¦å®Œæˆè¿­ä»£çš„ <code>done</code> å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> iterator = [<span class="number">1</span>, <span class="number">2</span>][<span class="built_in">Symbol</span>.iterator]()</span><br><span class="line">iterator.next()  <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">iterator.next()  <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">iterator.next()  <span class="comment">// &#123; value: undefinde, done: true &#125;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™é‡Œçš„ <code>next()</code> æ‰§è¡Œçš„æ˜¯åŒæ­¥æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯åŒæ­¥è¿­ä»£å™¨ï¼Œä½†æ˜¯å¦‚æœ <code>next()</code> é‡Œéœ€è¦æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé‚£å°±éœ€è¦å¼‚æ­¥è¿­ä»£äº†ï¼Œå¯å¼‚æ­¥è¿­ä»£æ•°æ®çš„å†…éƒ¨æœ‰ä¸€ä¸ª <code>Symbol.asyncIterator</code> å±æ€§ï¼ŒåŸºäºæ­¤æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¼‚æ­¥è¿­ä»£å™¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emitter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(iterable) &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = iterable</span><br><span class="line">    &#125;</span><br><span class="line">    [<span class="built_in">Symbol</span>.asyncIterator]() &#123;</span><br><span class="line">        <span class="keyword">let</span> length = <span class="built_in">this</span>.data.length,</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            next:<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">const</span> done = index &gt;= length</span><br><span class="line">                <span class="keyword">const</span> value = !done ? <span class="built_in">this</span>.data[index++] : <span class="literal">undefined</span></span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                    resolve(&#123;value, done&#125;)</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¼‚æ­¥è¿­ä»£å™¨çš„ <code>next()</code> ä¼šè¿›è¡Œå¼‚æ­¥çš„æ“ä½œï¼Œé€šå¸¸æ˜¯è¿”å›ä¸€ä¸ª <code>Promise</code>ï¼Œæ‰€ä»¥éœ€è¦å¯¹åº”çš„å¤„ç†å‡½æ•°å»å¤„ç†ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> emitter = <span class="keyword">new</span> Emitter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="keyword">let</span> asyncIterator = emitter[<span class="built_in">Symbol</span>.asyncIterator]()</span><br><span class="line">asyncIterator.next().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// &#123; value: 1, done: false &#125;</span></span><br><span class="line">&#125;)</span><br><span class="line">asyncIterator.next().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// &#123; value: 2, done: false &#125;</span></span><br><span class="line">&#125;)</span><br><span class="line">asyncIterator.next().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)  <span class="comment">// &#123; value: 3, done: false &#125;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>for await...of</code> æ¥è¿­ä»£å¼‚æ­¥å¯è¿­ä»£æ•°æ®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> asyncIterable = <span class="keyword">new</span> Emitter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncCount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> x <span class="keyword">of</span> asyncIterable ) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">asyncCount()</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure>

<p>å¦å¤–è¿˜å¯ä»¥é€šè¿‡å¼‚æ­¥ç”Ÿæˆå™¨æ¥åˆ›å»ºå¼‚æ­¥è¿­ä»£å™¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Emitter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(iterable) &#123;</span><br><span class="line">        <span class="built_in">this</span>.data = iterable</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">async</span> *[<span class="built_in">Symbol</span>.asyncIterator]() &#123;</span><br><span class="line">        <span class="keyword">let</span> length = <span class="built_in">this</span>.data.length,</span><br><span class="line">            index = <span class="number">0</span>;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">while</span> (index &lt; length) &#123;</span><br><span class="line">            <span class="keyword">yield</span> <span class="built_in">this</span>.data[index++]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">asyncCount</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> emitter = <span class="keyword">new</span> Emitter([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">    <span class="keyword">const</span> asyncIterable = emitter[<span class="built_in">Symbol</span>.asyncIterator]()</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> x <span class="keyword">of</span> asyncIterable ) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(x)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">asyncCount()</span><br><span class="line"><span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">Iteration_protocols</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for-await...of">for-awaitâ€¦of</a></li>
</ul>
<h3 id="sä¿®é¥°ç¬¦-dotAllæ¨¡å¼"><a href="#sä¿®é¥°ç¬¦-dotAllæ¨¡å¼" class="headerlink" title="sä¿®é¥°ç¬¦(dotAllæ¨¡å¼)"></a>sä¿®é¥°ç¬¦(dotAllæ¨¡å¼)</h3><p>æ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†ä¸€ä¸ª <code>s</code> ä¿®é¥°ç¬¦ï¼Œä½¿å¾— <code>.</code> å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/foo.bar/.test(<span class="string">&#x27;foo\nbar&#x27;</span>)   <span class="comment">// false</span></span><br><span class="line">/foo.bar/s.test(<span class="string">&#x27;foo\nbar&#x27;</span>)  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™åˆè¢«ç§°ä¸º <code>dotAll</code> æ¨¡å¼ï¼Œè¡¨ç¤ºç‚¹ï¼ˆ<code>dot</code>ï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/foo.bar/s.dotAll  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="å…·åç»„åŒ¹é…"><a href="#å…·åç»„åŒ¹é…" class="headerlink" title="å…·åç»„åŒ¹é…"></a>å…·åç»„åŒ¹é…</h3><p>æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨æ•è·ç»„æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æƒ³è¦è·å–æŸä¸ªç»„çš„ç»“æœåªèƒ½é€šè¿‡å¯¹åº”çš„ç´¢å¼•æ¥è·å–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span></span><br><span class="line"><span class="keyword">let</span> result = re.exec(<span class="string">&#x27;2015-01-02&#x27;</span>)</span><br><span class="line"><span class="comment">// result[0] === &#x27;2015-01-02&#x27;</span></span><br><span class="line"><span class="comment">// result[1] === &#x27;2015&#x27;</span></span><br><span class="line"><span class="comment">// result[2] === &#x27;01&#x27;</span></span><br><span class="line"><span class="comment">// result[3] === &#x27;02&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è€Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™æ•è·ç»„ <code>(?&lt;name&gt;...)</code> åŠ ä¸Šåå­— <code>name</code> ï¼Œé€šè¿‡åå­—æ¥è·å–å¯¹åº”ç»„çš„ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span></span><br><span class="line"><span class="keyword">let</span> result = re.exec(<span class="string">&#x27;2015-01-02&#x27;</span>)</span><br><span class="line"><span class="comment">// result.groups.year === &#x27;2015&#x27;</span></span><br><span class="line"><span class="comment">// result.groups.month === &#x27;01&#x27;</span></span><br><span class="line"><span class="comment">// result.groups.day === &#x27;02&#x27;</span></span><br></pre></td></tr></table></figure>

<p>é…åˆè§£æ„èµ‹å€¼å¯ä»¥å†™å‡ºéå¸¸ç²¾ç®€çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;<span class="attr">groups</span>: &#123;year, month, day&#125;&#125; = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span>.exec(<span class="string">&#x27;2015-01-02&#x27;</span>)</span><br><span class="line"><span class="built_in">console</span>.log(year, month, day)  <span class="comment">// 2015 01 02</span></span><br></pre></td></tr></table></figure>

<p>å…·åç»„ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’ç»™ <code>String.prototype.replace</code> çš„æ›¿æ¢å€¼ä¸­è¿›è¡Œå¼•ç”¨ã€‚å¦‚æœè¯¥å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>$&lt;name&gt;</code> è·å–åˆ°å¯¹åº”ç»„çš„ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> re = <span class="regexp">/(?&lt;year&gt;\d&#123;4&#125;)-(?&lt;month&gt;\d&#123;2&#125;)-(?&lt;day&gt;\d&#123;2&#125;)/</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="string">&#x27;2015-01-02&#x27;</span>.replace(re, <span class="string">&#x27;$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;&#x27;</span>)</span><br><span class="line"><span class="comment">// result === &#x27;02/01/2015&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-regexp-named-groups">proposal-regexp-named-groups</a></p>
<h3 id="åè¡Œæ–­è¨€"><a href="#åè¡Œæ–­è¨€" class="headerlink" title="åè¡Œæ–­è¨€"></a>åè¡Œæ–­è¨€</h3><p>åè¡Œæ–­è¨€ï¼š <code>(?&lt;=y)x</code>ï¼Œ<code>x</code> åªæœ‰åœ¨ <code>y</code> åé¢æ‰èƒ½åŒ¹é…ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/(?&lt;=\$)\d+<span class="regexp">/.exec(&#x27;I have $100.&#x27;)  /</span><span class="regexp">/ [&#x27;100&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>åè¡Œå¦å®šæ–­è¨€ï¼š <code>(?&lt;!y)x</code>ï¼Œ<code>x</code> åªæœ‰ä¸åœ¨ <code>y</code> åé¢æ‰èƒ½åŒ¹é…ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/(?&lt;!\$)\d+<span class="regexp">/.exec(&#x27;I have $100.&#x27;)  /</span><span class="regexp">/ [&#x27;00&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="Unicodeå±æ€§è½¬ä¹‰"><a href="#Unicodeå±æ€§è½¬ä¹‰" class="headerlink" title="Unicodeå±æ€§è½¬ä¹‰"></a>Unicodeå±æ€§è½¬ä¹‰</h3><p>å…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ <code>Unicode</code> æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ï¼Œ<code>\p&#123;...&#125;</code> æ˜¯åŒ¹é…åŒ…å«ï¼Œ<code>\P&#123;...&#125;</code> æ˜¯åŒ¹é…ä¸åŒ…å«çš„å­—ç¬¦ï¼Œä¸”å¿…é¡»æ­é… <code>/u</code> ä¿®é¥°ç¬¦æ‰ä¼šç”Ÿæ•ˆï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/\p&#123;Emoji&#125;+<span class="regexp">/u.exec(&#x27;ğŸ˜ğŸ˜­ç¬‘æ­»æˆ‘äº†ğŸ¤£ğŸ˜‚ä¸è¡Œäº†&#x27;)  /</span><span class="regexp">/ [&#x27;ğŸ˜ğŸ˜­&#x27;]</span></span><br><span class="line"><span class="regexp">/</span>\P&#123;Emoji&#125;+<span class="regexp">/u.exec(&#x27;ğŸ˜ğŸ˜­ç¬‘æ­»æˆ‘äº†ğŸ¤£ğŸ˜‚ä¸è¡Œäº†&#x27;)  /</span><span class="regexp">/ [&#x27;ç¬‘æ­»æˆ‘äº†&#x27;]</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥æŸ¥è¯¢åˆ°æ›´å¤šçš„ <code>Unicode</code> çš„å±æ€§ <a target="_blank" rel="noopener" href="http://unicode.org/reports/tr18/#Full_Properties">Full_Properties</a></p>
<h3 id="å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦"><a href="#å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦" class="headerlink" title="å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦"></a>å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦</h3><p>å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ç”¨åˆ°è§£æ„èµ‹å€¼ä¸Šï¼Œä¸”åªèƒ½åº”ç”¨åˆ°æœ€åä¸€ä¸ªå˜é‡ä¸Šï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;x, ...y&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">a</span>: <span class="number">2</span>, <span class="attr">b</span>: <span class="number">3</span>&#125;</span><br><span class="line"><span class="built_in">console</span>.log(y)  <span class="comment">// &#123;a: 2, b: 3&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦ä¸èƒ½è§£æ„åŸå‹ä¸Šçš„å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;</span><br><span class="line">obj.__proto__ = &#123; <span class="attr">y</span>: <span class="number">2</span> &#125;</span><br><span class="line"><span class="keyword">let</span> &#123;...a&#125; = obj</span><br><span class="line"><span class="built_in">console</span>.log(a.y)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>åº”ç”¨ä¸€ï¼šå¯ä»¥å®ç°æµ…æ‹·è´ï¼Œä½†æ˜¯ä¸ä¼šæ‹·è´åŸå§‹å±æ€§ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = <span class="built_in">Object</span>.create(&#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span> &#125;)</span><br><span class="line">person.age = <span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ…æ‹·è´å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> &#123; ...pClone1 &#125; = person</span><br><span class="line"><span class="built_in">console</span>.log(pClone1)  <span class="comment">// &#123; age: 12 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(pClone1.name)  <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ…æ‹·è´å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> pClone2 = &#123;...person&#125;</span><br><span class="line"><span class="built_in">console</span>.log(pClone2)  <span class="comment">// &#123; age: 12 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(pClone2.name)  <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>åº”ç”¨äºŒï¼šåˆå¹¶ä¸¤ä¸ªå¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ab = &#123;...a, ...b&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"><span class="keyword">let</span> ab = <span class="built_in">Object</span>.assign(&#123;&#125;, a, b);</span><br></pre></td></tr></table></figure>

<p>åº”ç”¨ä¸‰ï¼šé‡å†™å¯¹è±¡å±æ€§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aWithOverrides = &#123; ...a, <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span> &#125;;</span><br></pre></td></tr></table></figure>

<p>åº”ç”¨å››ï¼šç»™æ–°å¯¹è±¡è®¾ç½®é»˜è®¤å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aWithDefaults = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, ...a &#125;;</span><br></pre></td></tr></table></figure>

<p>åº”ç”¨äº”ï¼šåˆ©ç”¨æ‰©å±•è¿ç®—ç¬¦çš„è§£æ„èµ‹å€¼å¯ä»¥æ‰©å±•å‡½æ•°å‚æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">baseFunction</span>(<span class="params">&#123; a, b &#125;</span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">wrapperFunction</span>(<span class="params">&#123; x, y, ...restConfig &#125;</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ x å’Œ y å‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">    <span class="comment">// å…¶ä½™å‚æ•°ä¼ ç»™åŸå§‹å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> baseFunction(restConfig)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-object-rest-spread/blob/master/Spread.md">Object Spread Initializer</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-object-rest-spread/blob/master/Rest.md">Object Rest Destructuring</a></li>
</ul>
<h3 id="æ”¾æ¾å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œå­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶"><a href="#æ”¾æ¾å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œå­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶" class="headerlink" title="æ”¾æ¾å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œå­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶"></a>æ”¾æ¾å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œå­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶</h3><p><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/string#%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E9%99%90%E5%88%B6">ECMAScript 6 å…¥é—¨</a></p>
<h2 id="ES2019"><a href="#ES2019" class="headerlink" title="ES2019"></a>ES2019</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2019.png"></p>
<h3 id="å…è®¸çœç•¥catché‡Œçš„å‚æ•°"><a href="#å…è®¸çœç•¥catché‡Œçš„å‚æ•°" class="headerlink" title="å…è®¸çœç•¥catché‡Œçš„å‚æ•°"></a>å…è®¸çœç•¥catché‡Œçš„å‚æ•°</h3><p>å¼‚å¸¸è¢«æ•è·çš„æ—¶å€™å¦‚æœä¸éœ€è¦åšæ“ä½œï¼Œç”šè‡³å¯ä»¥çœç•¥ <code>catch(err)</code> é‡Œçš„å‚æ•°å’Œåœ†æ‹¬å·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-stringify-å˜åŠ¨"><a href="#JSON-stringify-å˜åŠ¨" class="headerlink" title="JSON.stringify()å˜åŠ¨"></a>JSON.stringify()å˜åŠ¨</h3><p><code>UTF-8</code> æ ‡å‡†è§„å®šï¼Œ<code>0xD800</code> åˆ° <code>0xDFFF</code> ä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚<br>æ‰€ä»¥ <code>JSON.stringify()</code> å¯¹å•ä¸ªç ç‚¹è¿›è¡Œæ“ä½œï¼Œå¦‚æœç ç‚¹ç¬¦åˆ <code>UTF-8</code> æ ‡å‡†ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çš„å­—ç¬¦ï¼Œå¦åˆ™ä¼šè¿”å›å¯¹åº”çš„ç ç‚¹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">&#x27;\u&#123;1f600&#125;&#x27;</span>)  <span class="comment">// &quot;&quot;ğŸ˜€&quot;&quot;</span></span><br><span class="line"><span class="built_in">JSON</span>.stringify(<span class="string">&#x27;\u&#123;D834&#125;&#x27;</span>)  <span class="comment">// &quot;&quot;\ud834&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="Symbol-prototype-description"><a href="#Symbol-prototype-description" class="headerlink" title="Symbol.prototype.description"></a>Symbol.prototype.description</h3><p><code>Symbol</code> å®ä¾‹æ–°å¢äº†ä¸€ä¸ªæè¿°å±æ€§ <code>description</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> symbol = <span class="built_in">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">symbol.description  <span class="comment">// &#x27;foo&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="Function-prototype-toString"><a href="#Function-prototype-toString" class="headerlink" title="Function.prototype.toString()"></a>Function.prototype.toString()</h3><p>å‡½æ•°çš„ <code>toString()</code> ä¼šåŸæ ·è¾“å‡ºå‡½æ•°å®šä¹‰æ—¶å€™çš„æ ·å­ï¼Œä¸ä¼šçœç•¥æ³¨é‡Šå’Œç©ºæ ¼ã€‚</p>
<h3 id="Object-fromEntries"><a href="#Object-fromEntries" class="headerlink" title="Object.fromEntries()"></a>Object.fromEntries()</h3><p><code>Object.fromEntries()</code> æ–¹æ³•æ˜¯ <code>Object.entries()</code> çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"><span class="keyword">let</span> keyValueArr = <span class="built_in">Object</span>.entries(person)   <span class="comment">// [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]]</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Object</span>.fromEntries(arr)  <span class="comment">// &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;</span></span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨å¯è¿­ä»£æ•°æ®ç»“æ„ä¹‹é—´çš„è£…æ¢ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡ -&gt; é”®å€¼å¯¹æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> keyValueArr = <span class="built_in">Object</span>.entries(person)  <span class="comment">// [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é”®å€¼å¯¹æ•°ç»„ -&gt; Map</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(keyValueArr)  <span class="comment">// Map &#123;&quot;name&quot;: &quot;å¸ƒå…°&quot;, &quot;age&quot;: 12&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Map -&gt; é”®å€¼å¯¹æ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> arr = <span class="built_in">Array</span>.from(map)  <span class="comment">// [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]] </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é”®å€¼å¯¹æ•°ç»„ -&gt; å¯¹è±¡</span></span><br><span class="line"><span class="keyword">let</span> obj = <span class="built_in">Array</span>.from(arr).reduce(<span class="function">(<span class="params">acc, [ key, val ]</span>) =&gt;</span> <span class="built_in">Object</span>.assign(acc, &#123; [key]: val &#125;), &#123;&#125;)  <span class="comment">// &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-object-from-entries">Object.fromEntries</a></p>
<h3 id="å­—ç¬¦ä¸²å¯ç›´æ¥è¾“å…¥è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦"><a href="#å­—ç¬¦ä¸²å¯ç›´æ¥è¾“å…¥è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²å¯ç›´æ¥è¾“å…¥è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦"></a>å­—ç¬¦ä¸²å¯ç›´æ¥è¾“å…¥è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦</h3><p><code>JavaScript</code> è§„å®šæœ‰ 5 ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½¿ç”¨è½¬ä¹‰å½¢å¼ã€‚</p>
<ul>
<li><code>U+005C</code>ï¼šåæ–œæ ï¼ˆreverse solidus)</li>
<li><code>U+000D</code>ï¼šå›è½¦ï¼ˆcarriage returnï¼‰</li>
<li><code>U+2028</code>ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰</li>
<li><code>U+2029</code>ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰</li>
<li><code>U+000A</code>ï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰</li>
</ul>
<p>ä½†æ˜¯ç”±äº <code>JSON</code> å…è®¸å­—ç¬¦ä¸²é‡Œå¯ä»¥ä½¿ç”¨ <code>U+2028</code> å’Œ <code>U+2029</code>ï¼Œæ‰€ä»¥ä½¿å¾— <code>JSON.parse()</code> å»è§£æå­—ç¬¦ä¸²çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ <code>ES2019</code> å…è®¸æ¨¡æ¿å­—ç¬¦ä¸²é‡Œå¯ä»¥ç›´æ¥è¿™ä¸¤ä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">&#x27;&quot;\u2028&quot;&#x27;</span>)  <span class="comment">// &quot;&quot;</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">&#x27;&quot;\u2029&quot;&#x27;</span>)  <span class="comment">// &quot;&quot;</span></span><br><span class="line"><span class="built_in">JSON</span>.parse(<span class="string">&#x27;&quot;\u005C&quot;&#x27;</span>)  <span class="comment">// SyntaxError</span></span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-trimStart"><a href="#String-prototype-trimStart" class="headerlink" title="String.prototype.trimStart"></a>String.prototype.trimStart</h3><p>æ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼›æµè§ˆå™¨è¿˜é¢å¤–å¢åŠ äº†å®ƒçš„åˆ«åå‡½æ•° <code>trimLeft()</code>ï¼š </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;  hello world &#x27;</span></span><br><span class="line"><span class="keyword">let</span> newStr = str.trimStart()</span><br><span class="line"><span class="built_in">console</span>.log(newStr, newStr === str) </span><br><span class="line"><span class="comment">// &#x27;hello world &#x27;  false</span></span><br></pre></td></tr></table></figure>

<h3 id="String-prototype-trimEnd"><a href="#String-prototype-trimEnd" class="headerlink" title="String.prototype.trimEnd"></a>String.prototype.trimEnd</h3><p>æ¶ˆé™¤å­—ç¬¦ä¸²å°¾éƒ¨ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼›æµè§ˆå™¨è¿˜é¢å¤–å¢åŠ äº†å®ƒçš„åˆ«åå‡½æ•° <code>trimRight()</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;  hello world &#x27;</span></span><br><span class="line"><span class="keyword">let</span> newStr = str.trimEnd()</span><br><span class="line"><span class="built_in">console</span>.log(newStr, newStr === str) </span><br><span class="line"><span class="comment">// &#x27;  hello world&#x27;  false</span></span><br></pre></td></tr></table></figure>

<h3 id="Array-prototype-flat"><a href="#Array-prototype-flat" class="headerlink" title="Array.prototype.flat()"></a>Array.prototype.flat()</h3><p><code>arr.flat(depth)</code> æŒ‰ç…§ <code>depth</code> ï¼ˆä¸ä¼ å€¼çš„è¯é»˜è®¤æ˜¯ 1ï¼‰æ·±åº¦æ‹å¹³ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”å°†ç»“æœä»¥æ–°æ•°ç»„å½¢å¼è¿”å›ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// depth é»˜è®¤æ˜¯ 1</span></span><br><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"><span class="built_in">console</span>.log(arr1.flat())  <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„ï¼›è‡ªåŠ¨è·³è¿‡ç©ºæ•°ç»„ï¼›</span></span><br><span class="line"><span class="keyword">const</span> arr2 = [<span class="number">1</span>, , [<span class="number">2</span>, [<span class="number">3</span>, [<span class="number">4</span>]]]]</span><br><span class="line"><span class="built_in">console</span>.log(arr2.flat(<span class="literal">Infinity</span>))</span><br><span class="line"><span class="comment">// [1, 2, 3, 4]</span></span><br></pre></td></tr></table></figure>

<p>ç”¨ <code>reduce</code> å®ç°æ‹å¹³ä¸€å±‚æ•°ç»„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> newStr = arr.reduce(<span class="function">(<span class="params">acc, cur</span>) =&gt;</span> acc.concat(cur), [])</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> flattened = <span class="function"><span class="params">arr</span> =&gt;</span> [].concat(...arr)</span><br><span class="line">flattened(arr)</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flat">flat</a></p>
<h3 id="Array-prototype-flatMap"><a href="#Array-prototype-flatMap" class="headerlink" title="Array.prototype.flatMap()"></a>Array.prototype.flatMap()</h3><p><code>flatMap(callback)</code> ä½¿ç”¨æ˜ å°„å‡½æ•° <code>callback</code> æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œ<code>callback</code> æ¯æ¬¡çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ•°ç»„æ‰§è¡Œç±»ä¼¼ <code>arr.flat(1)</code> çš„æ“ä½œè¿›è¡Œæ‹å¹³ä¸€å±‚åæœ€åè¿”å›ç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [x * <span class="number">2</span>])</span><br><span class="line"><span class="comment">// å°† [[2], [4], [6], [8]] æ•°ç»„æ‹å¹³ä¸€å±‚å¾—åˆ°æœ€ç»ˆç»“æœï¼š[2, 4, 6, 8]</span></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap">flatMap</a></p>
<h2 id="ES2020"><a href="#ES2020" class="headerlink" title="ES2020"></a>ES2020</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2020.png"></p>
<h3 id="String-prototype-matchAll"><a href="#String-prototype-matchAll" class="headerlink" title="String.prototype.matchAll()"></a>String.prototype.matchAll()</h3><p><code>String.prototype.matchAll()</code> æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª <code>RegExpStringIterator</code> è¿­ä»£å™¨åŒæ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ <code>for...of</code> è¿›è¡Œè¿­ä»£ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;test1test2&#x27;</span></span><br><span class="line"><span class="keyword">let</span> regexp = <span class="regexp">/t(e)(st(\d?))/g</span></span><br><span class="line"><span class="keyword">let</span> iterable = str.matchAll(regexp)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> x <span class="keyword">of</span> iterable) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [&#x27;test1&#x27;, &#x27;e&#x27;, &#x27;st1&#x27;, &#x27;1&#x27;, index: 0, input: &#x27;test1test1&#x27;, groups: undefined]</span></span><br><span class="line"><span class="comment">// [&#x27;test2&#x27;, &#x27;e&#x27;, &#x27;st2&#x27;, &#x27;2&#x27;, index: 5, input: &#x27;test1test2&#x27;, groups: undefined]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„å½“ä½¿ç”¨ matchAll(regexp) çš„æ—¶å€™ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¿…é¡»åŠ ä¸Š /g ä¿®é¥°ç¬¦ã€‚</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥å°†è¿™ä¸ªå¯è¿­ä»£æ•°æ®è½¬æˆæ•°ç»„å½¢å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line">[...str.matchAll(regexp)]</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="built_in">Array</span>.from(str.matchAll(regexp))</span><br></pre></td></tr></table></figure>

<h3 id="åŠ¨æ€import"><a href="#åŠ¨æ€import" class="headerlink" title="åŠ¨æ€import()"></a>åŠ¨æ€import()</h3><p>æ ‡å‡†ç”¨æ³•çš„ <code>import</code> å¯¼å…¥çš„æ¨¡å—æ˜¯é™æ€çš„ï¼Œä¼šä½¿æ‰€æœ‰è¢«å¯¼å…¥çš„æ¨¡å—ï¼Œåœ¨åŠ è½½æ—¶å°±è¢«ç¼–è¯‘ï¼ˆæ— æ³•åšåˆ°æŒ‰éœ€ç¼–è¯‘ï¼Œé™ä½é¦–é¡µåŠ è½½é€Ÿåº¦ï¼‰ã€‚æœ‰äº›åœºæ™¯ä¸­ï¼Œä½ å¯èƒ½å¸Œæœ›æ ¹æ®æ¡ä»¶å¯¼å…¥æ¨¡å—æˆ–è€…æŒ‰éœ€å¯¼å…¥æ¨¡å—ï¼Œè¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å¯¼å…¥ä»£æ›¿é™æ€å¯¼å…¥ã€‚</p>
<p>æ¯”å¦‚æŒ‰éœ€åŠ è½½ä¸€ä¸ªæ¨¡å—å¯ä»¥è¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (xxx) &#123;</span><br><span class="line">    <span class="keyword">import</span>(<span class="string">&#x27;./module.js&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>import()</code> æ˜¯å¼‚æ­¥å¯¼å…¥çš„ï¼Œç»“æœä¼šè¿”å›ä¸€ä¸ª <code>Promise</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="string">&#x27;/module.js&#x27;</span>)</span><br><span class="line">.then(<span class="function">(<span class="params"><span class="built_in">module</span></span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// Do something with the module.</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>åŠ¨æ€ <code>import()</code> çš„åº”ç”¨åœºæ™¯æŒºå¤šçš„ï¼Œæ¯”å¦‚ <code>Vue</code> ä¸­çš„è·¯ç”±æ‡’åŠ è½½å°±æ˜¯ä½¿ç”¨çš„åŠ¨æ€å¯¼å…¥ç»„ä»¶ã€‚å¦å¤–ç”±äºåŠ¨æ€æ€§ä¸ä¾¿äºé™æ€åˆ†æå·¥å…·å’Œ <code>tree-shaking</code> å·¥ä½œï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨ã€‚</p>
<h3 id="BigInt"><a href="#BigInt" class="headerlink" title="BigInt"></a>BigInt</h3><p><code>BigInt</code> æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¤§äº $2^{53}$ - 1 çš„æ•´æ•°ã€‚è¿™åŸæœ¬æ˜¯ <code>Javascript</code> ä¸­å¯ä»¥ç”¨ <code>Number</code> è¡¨ç¤ºçš„æœ€å¤§æ•°å­—ã€‚<code>BigInt</code> å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚</p>
<p>ä¸ºäº†åŒºåˆ† <code>Number</code>ï¼Œå®šä¹‰ä¸€ä¸ª <code>BigInt</code> éœ€è¦åœ¨æ•´æ•°åé¢åŠ ä¸Šä¸€ä¸ª <code>n</code>ï¼Œæˆ–è€…ç”¨å‡½æ•°ç›´æ¥å®šä¹‰ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num1 = <span class="number">10n</span></span><br><span class="line"><span class="keyword">const</span> num2 = BigInt(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<p><code>Number</code> å’Œ <code>BigInt</code> ä¹‹é—´èƒ½è¿›è¡Œæ¯”è¾ƒï¼Œä½†ä»–ä»¬ä¹‹é—´æ˜¯å®½æ¾ç›¸ç­‰ï¼›ä¸”ç”±äºä»–ä»¬è¡¨ç¤ºçš„æ˜¯ä¸åŒç±»å‹çš„æ•°å­—ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è¿›è¡Œå››åˆ™è¿ç®—ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10n</span> == <span class="number">10</span>         <span class="comment">// true</span></span><br><span class="line"><span class="number">10n</span> === <span class="number">10</span>        <span class="comment">// false</span></span><br><span class="line"><span class="number">10n</span> &gt; <span class="number">8</span>           <span class="comment">// true</span></span><br><span class="line"><span class="number">10</span> + <span class="built_in">Number</span>(<span class="number">10n</span>)  <span class="comment">// 20</span></span><br><span class="line"><span class="number">10</span> + <span class="number">10n</span>          <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure>

<h3 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h3><p><code>Promise.allSettled(iterable)</code> å½“æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç» <code>settled</code>ï¼Œå³çŠ¶æ€å˜åŒ–è¿‡äº†ï¼Œé‚£ä¹ˆå°†è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¯¥æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰å®ä¾‹çš„å€¼å’ŒçŠ¶æ€ç»„åˆæˆçš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯é¡¹æ˜¯ç”±æ¯ä¸ªå®ä¾‹çš„çŠ¶æ€å’Œå†…éƒ¨å€¼ç»„æˆçš„å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p1 = <span class="built_in">Promise</span>.allSettled([</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        resolve(<span class="number">9</span>)</span><br><span class="line">    &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;&#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(<span class="number">6</span>)</span><br><span class="line">    &#125;),</span><br><span class="line">    init()</span><br><span class="line">])</span><br><span class="line"><span class="keyword">let</span> p2 = p1.then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;, <span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// [</span></span><br><span class="line"><span class="comment">//      &#123;status: &quot;fulfilled&quot;, value: undefined&#125;, </span></span><br><span class="line"><span class="comment">//      &#123;status: &quot;rejected&quot;, reason: 6&#125;, </span></span><br><span class="line"><span class="comment">//      &#123;status: &quot;fulfilled&quot;, value: 3&#125;</span></span><br><span class="line"><span class="comment">// ]</span></span><br></pre></td></tr></table></figure>

<p>åªè¦æ‰€æœ‰å®ä¾‹ä¸­åŒ…å«ä¸€ä¸ª <code>pending</code> çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆ <code>Promise.allSettled()</code> çš„ç»“æœä¸ºè¿”å›ä¸€ä¸ªè¿™æ · <code>Promise &#123;&lt;pending&gt;&#125;</code> çš„å®ä¾‹ã€‚</p>
<h3 id="globalThis"><a href="#globalThis" class="headerlink" title="globalThis"></a>globalThis</h3><p>åœ¨ä»¥å‰ï¼Œä»ä¸åŒçš„ <code>JavaScript</code> ç¯å¢ƒä¸­è·å–å…¨å±€å¯¹è±¡éœ€è¦ä¸åŒçš„è¯­å¥ã€‚åœ¨ <code>Web</code> ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>window</code>ã€<code>self</code> æˆ–è€… <code>frames</code> å–åˆ°å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ <code>Web Workers</code> ä¸­ï¼Œåªæœ‰ <code>self</code> å¯ä»¥ã€‚åœ¨ <code>Node.js</code> ä¸­ï¼Œå®ƒä»¬éƒ½æ— æ³•è·å–ï¼Œå¿…é¡»ä½¿ç”¨ <code>global</code>ã€‚</p>
<p>è€Œç°åœ¨åªéœ€è¦ä½¿ç”¨ <code>globalThis</code> å³å¯è·å–åˆ°é¡¶å±‚å¯¹è±¡ï¼Œè€Œä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æµè§ˆå™¨ä¸­</span></span><br><span class="line">globalThis === <span class="built_in">window</span>  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="import-meta"><a href="#import-meta" class="headerlink" title="import.meta"></a>import.meta</h3><p><code>import.meta</code> æ˜¯ä¸€ä¸ªç»™ <code>JavaScript</code> æ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚å®ƒåŒ…å«äº†è¿™ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªæ¨¡å—çš„ <code>URL</code>ï¼Œ<code>import.meta</code> å¿…é¡»åœ¨ä¸€ä¸ªæ¨¡å—é‡Œä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ²¡æœ‰å£°æ˜ type=&quot;module&quot;ï¼Œå°±ä½¿ç”¨ import.meta ä¼šæŠ¥é”™</span></span><br><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span> src=<span class="string">&quot;./js/module.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨module.jsé‡Œ</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">import</span>.meta)  </span><br><span class="line"><span class="comment">// &#123;url: &quot;http://localhost/3ag/js/module.js&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœéœ€è¦åœ¨é…ç½®äº† <code>Webpack</code> çš„é¡¹ç›®ï¼Œæ¯”å¦‚ <code>Vue</code> é‡Œä½¿ç”¨ <code>import.meta</code> éœ€è¦åŠ ä¸€ä¸ªåŒ…ä¸”é…ç½®ä¸€ä¸‹å‚æ•°ï¼Œå¦åˆ™é¡¹ç›®ç¼–è¯‘é˜¶æ®µä¼šæŠ¥é”™ã€‚</p>
<p>åŒ…é…ç½®è¯¦æƒ…å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@open-wc/webpack-import-meta-loader">@open-wc/webpack-import-meta-loader</a></p>
<p>æ¯”å¦‚æˆ‘ç”¨çš„æ˜¯ <code>4.x</code> ç‰ˆæœ¬çš„ <code>vue-cli</code>ï¼Œé‚£æˆ‘éœ€è¦åœ¨ <code>vue.config.js</code> é‡Œé…ç½®ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    chainWebpack: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">        config.module</span><br><span class="line">            .rule(<span class="string">&#x27;js&#x27;</span>)</span><br><span class="line">            .test(<span class="regexp">/\.js$/</span>)</span><br><span class="line">            .use(<span class="string">&#x27;@open-wc/webpack-import-meta-loader&#x27;</span>)</span><br><span class="line">                .loader(<span class="string">&#x27;@open-wc/webpack-import-meta-loader&#x27;</span>)</span><br><span class="line">                .end()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ-ï¼‰"><a href="#å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰"></a>å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰</h3><p>é€šå¸¸æˆ‘ä»¬è·å–ä¸€ä¸ªæ·±å±‚å¯¹è±¡çš„å±æ€§ä¼šéœ€è¦å†™å¾ˆå¤šåˆ¤æ–­æˆ–è€…ä½¿ç”¨é€»è¾‘ä¸ <code>&amp;&amp;</code> æ“ä½œç¬¦ï¼Œå› ä¸ºå¯¹è±¡çš„æŸä¸ªå±æ€§å¦‚æœä¸º <code>null</code> æˆ–è€… <code>undefined</code> å°±æœ‰å¯èƒ½æŠ¥é”™ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    first: &#123;</span><br><span class="line">        second: <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•ä¸€</span></span><br><span class="line"><span class="keyword">let</span> name1 = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">if</span> (obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.first) &#123;</span><br><span class="line">        name1 = obj.first.second</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™æ³•äºŒ</span></span><br><span class="line"><span class="keyword">let</span> name2 = obj &amp;&amp; obj.first &amp;&amp; obj.first.second</span><br></pre></td></tr></table></figure>

<p><code>?.</code> æ“ä½œç¬¦å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæŸä¸ªå±æ€§ä¸º <code>null</code> æˆ–è€… <code>undefined</code> åˆ™ç»“æœç›´æ¥ä¸º <code>undefined</code>ã€‚æœ‰äº†å¯é€‰é“¾æ“ä½œç¬¦å°±å¯ä»¥ä½¿å¾—è¡¨è¾¾å¼æ›´åŠ ç®€æ˜äº†ï¼Œå¯¹äºä¸Šé¢ä¾‹å­ç”¨å¯é€‰é“¾æ“ä½œç¬¦å¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name3 = obj?.first?.second</span><br></pre></td></tr></table></figure>

<h3 id="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ-ï¼‰"><a href="#ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰"></a>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰</h3><p>å¯¹äºé€»è¾‘æˆ– <code>||</code> è¿ç®—ç¬¦ï¼Œå½“å¯¹è¿ç®—ç¬¦å·¦ä¾§çš„æ“ä½œæ•°è¿›è¡Œè£…æ¢ä¸º <code>Boolean</code> å€¼çš„æ—¶å€™ï¼Œå¦‚æœä¸º <code>true</code>ï¼Œåˆ™å–å·¦è¾¹çš„æ“ä½œæ•°ä¸ºç»“æœï¼Œå¦åˆ™å–å³è¾¹çš„æ“ä½œæ•°ä¸ºç»“æœï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&#x27;&#x27;</span> || <span class="string">&#x27;å¸ƒå…°&#x27;</span></span><br><span class="line"><span class="built_in">console</span>.log(name)  <span class="comment">// &#x27;å¸ƒå…°&#x27;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬éƒ½çŸ¥é“ <code>&#39;&#39;</code>ã€<code>0</code>ã€<code>null</code>ã€<code>undefined</code>ã€<code>false</code>ã€<code>NaN</code> ç­‰è½¬æˆ <code>Boolean</code> å€¼çš„æ—¶å€™éƒ½æ˜¯ <code>false</code>ï¼Œæ‰€ä»¥éƒ½ä¼šå–å³è¾¹çš„æ“ä½œæ•°ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœè¦ç»™å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚æœé‡åˆ°æœ¬èº«å€¼å°±å¯èƒ½æ˜¯ <code>&#39;&#39;</code> æˆ– <code>0</code> çš„æƒ…å†µé‚£å°±ä¼šå‡ºé”™äº†ï¼Œä¼šè¢«é”™è¯¯çš„è®¾ç½®ä¸ºé»˜è®¤å€¼äº†ã€‚</p>
<p>è€Œ <code>??</code> æ“ä½œç¬¦å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œå‡ºç°çš„ï¼Œ<code>x ?? y</code> åªæœ‰å·¦ä¾§çš„æ“ä½œæ•°ä¸º <code>null</code> æˆ– <code>undefined</code> çš„æ—¶å€™æ‰å–å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™å–å·¦ä¾§æ“ä½œæ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">0</span> ?? <span class="number">1</span></span><br><span class="line"><span class="built_in">console</span>.log(num)  <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h2 id="ES2021"><a href="#ES2021" class="headerlink" title="ES2021"></a>ES2021</h2><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202011/es2021.png"></p>
<p>å¦‚ä¸‹è¿™å‡ ä¸ªææ¡ˆå·²ç»ç¡®å®šäº†ä¼šåœ¨ 2021 å¹´å‘å¸ƒï¼Œæ‰€ä»¥æŠŠä»–ä»¬å½’åˆ° <code>ES2021</code> ä¸­ã€‚</p>
<h3 id="String-prototype-replaceAll"><a href="#String-prototype-replaceAll" class="headerlink" title="String.prototype.replaceAll"></a>String.prototype.replaceAll</h3><p>ä¹‹å‰éœ€è¦æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œçš„å…¨éƒ¨åŒ¹é…å­—ç¬¦å¯ä»¥è¿™æ ·åšï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> queryString = <span class="string">&#x27;q=query+string+parameters&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="keyword">const</span> withSpaces1 = queryString.replace(<span class="regexp">/\+/g</span>, <span class="string">&#x27; &#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•äºŒ</span></span><br><span class="line"><span class="keyword">const</span> withSpaces2 = queryString.split(<span class="string">&#x27;+&#x27;</span>).join(<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è€Œç°åœ¨åªéœ€è¦è¿™ä¹ˆåšï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> withSpace3 = queryString.replaceAll(<span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>replaceAll çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå½“æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå¿…é¡»åŠ ä¸Šå…¨å±€ä¿®é¥°ç¬¦ /gï¼Œå¦åˆ™æŠ¥é”™ã€‚</p>
</blockquote>
<p>å‚è€ƒï¼š<a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-string-replaceall">string-replaceall</a></p>
<h3 id="Promise-any"><a href="#Promise-any" class="headerlink" title="Promise.any()"></a>Promise.any()</h3><p><code>Promsie.any()</code> å’Œ <code>Promise.all()</code> ä¸€æ ·æ¥å—ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œç„¶åä¾æ®ä¸åŒçš„å…¥å‚ä¼šè¿”å›ä¸åŒçš„æ–°å®ä¾‹ï¼š</p>
<ul>
<li><p>ä¼ ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡æˆ–è€…å¯è¿­ä»£å¯¹è±¡æ‰€æœ‰ <code>Promise</code> éƒ½æ˜¯ <code>rejected</code> çŠ¶æ€çš„ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ª <code>AggregateError</code> ç±»å‹çš„é”™è¯¯ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ª <code>rejected</code> çŠ¶æ€çš„æ–°å®ä¾‹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p1 = <span class="built_in">Promise</span>.any([])</span><br><span class="line"><span class="keyword">let</span> p2.catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p1)</span><br><span class="line"><span class="comment">// PromiseÂ &#123;&lt;rejected&gt;: AggregateError: All promises were rejected&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åªè¦å¯è¿­ä»£å¯¹è±¡é‡ŒåŒ…å«ä»»ä½•ä¸€ä¸ª <code>fulfilled</code> çŠ¶æ€çš„ <code>Promise</code>ï¼Œåˆ™ä¼šè¿”å›ç¬¬ä¸€ä¸ª <code>fulfilled</code> çš„å®ä¾‹ï¼Œå¹¶ä¸”ä»¥å®ƒçš„å€¼ä½œä¸ºæ–°å®ä¾‹çš„å€¼ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">Promise</span>.any([</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="built_in">Promise</span>.reject(<span class="number">2</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;),</span><br><span class="line">    <span class="built_in">Promise</span>.resolve(<span class="number">3</span>),</span><br><span class="line">])</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p)</span><br><span class="line"><span class="comment">// PromiseÂ &#123;&lt;fulfilled&gt;: 1&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¶ä»–æƒ…å†µä¸‹ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª <code>pending</code> çŠ¶æ€çš„å®ä¾‹ï¼š</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = <span class="built_in">Promise</span>.any([</span><br><span class="line">    <span class="built_in">Promise</span>.reject(<span class="number">2</span>),</span><br><span class="line">    <span class="built_in">Promise</span>.reject(<span class="number">3</span>),</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;&#125;),</span><br><span class="line">])</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="built_in">console</span>.log, <span class="number">0</span>, p)</span><br><span class="line"><span class="comment">// PromiseÂ &#123;&lt;pending&gt;: undefined&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="WeakRef"><a href="#WeakRef" class="headerlink" title="WeakRef"></a>WeakRef</h3><p>æˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ™®é€šçš„å¼•ç”¨ï¼ˆé»˜è®¤æ˜¯å¼ºå¼•ç”¨ï¼‰ä¼šå°†ä¸ä¹‹å¯¹åº”çš„å¯¹è±¡ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚åªæœ‰å½“è¯¥å¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼ºå¼•ç”¨æ—¶ï¼Œ<code>JavaScript</code> å¼•æ“ <code>GC</code> æ‰ä¼šé”€æ¯è¯¥å¯¹è±¡å¹¶ä¸”å›æ”¶è¯¥å¯¹è±¡æ‰€å çš„å†…å­˜ç©ºé—´ã€‚</p>
<p><code>WeakRef</code> å¯¹è±¡å…è®¸ä½ ä¿ç•™å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œè€Œä¸ä¼šé˜»æ­¢è¢«å¼±å¼•ç”¨çš„å¯¹è±¡è¢« <code>GC</code> å›æ”¶ã€‚<code>WeakRef</code> çš„å®ä¾‹æ–¹æ³• <code>deref()</code> å¯ä»¥è¿”å›å½“å‰å®ä¾‹çš„ <code>WeakRef</code> å¯¹è±¡æ‰€ç»‘å®šçš„ <code>target</code> å¯¹è±¡ï¼Œå¦‚æœè¯¥ <code>target</code> å¯¹è±¡å·²è¢« <code>GC</code> å›æ”¶åˆ™è¿”å› <code>undefined</code>ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123; <span class="attr">name</span>: <span class="string">&#x27;å¸ƒå…°&#x27;</span>, <span class="attr">age</span>: <span class="number">12</span> &#125;</span><br><span class="line"><span class="keyword">let</span> wr = <span class="keyword">new</span> WeakRef(person)</span><br><span class="line"><span class="built_in">console</span>.log(wr.deref())  </span><br><span class="line"><span class="comment">// &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ­£ç¡®ä½¿ç”¨ WeakRef å¯¹è±¡éœ€è¦ä»”ç»†çš„è€ƒè™‘ï¼Œæœ€å¥½å°½é‡é¿å…ä½¿ç”¨ã€‚è¿™é‡Œé¢æœ‰è¯¸å¤šåŸå› ï¼Œæ¯”å¦‚ï¼šGC åœ¨ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºæœ‰å¯èƒ½åœ¨å¦ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºå¤§ç›¸å¾„åº­ï¼Œæˆ–è€…ç”šè‡³åœ¨åŒä¸€ç±»å¼•æ“ï¼Œä¸åŒç‰ˆæœ¬ä¸­ GC çš„è¡Œä¸ºéƒ½æœ‰å¯èƒ½æœ‰è¾ƒå¤§çš„å·®è·ã€‚GC ç›®å‰è¿˜æ˜¯ JavaScript å¼•æ“å®ç°è€…ä¸æ–­æ”¹è¿›å’Œæ”¹è¿›è§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªéš¾é¢˜ã€‚</p>
</blockquote>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakRef">WeakRef</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management">å†…å­˜ç®¡ç†</a></li>
</ul>
<h3 id="é€»è¾‘èµ‹å€¼ç¬¦"><a href="#é€»è¾‘èµ‹å€¼ç¬¦" class="headerlink" title="é€»è¾‘èµ‹å€¼ç¬¦"></a>é€»è¾‘èµ‹å€¼ç¬¦</h3><p>é€»è¾‘èµ‹å€¼ç¬¦åŒ…å« 3 ä¸ªï¼š</p>
<ul>
<li><code>x &amp;&amp;= y</code>ï¼šé€»è¾‘ä¸èµ‹å€¼ç¬¦ï¼Œç›¸å½“äº <code>x &amp;&amp; (x = y)</code></li>
<li><code>x ||= y</code>ï¼šé€»è¾‘æˆ–èµ‹å€¼ç¬¦ï¼Œç›¸å½“äº <code>x || (x = y)</code></li>
<li><code>x ??= y</code>ï¼šé€»è¾‘ç©ºèµ‹å€¼ç¬¦ï¼Œç›¸å½“äº <code>x ?? (x = y)</code></li>
</ul>
<p>çœ‹å¦‚ä¸‹ç¤ºä¾‹ï¼ŒåŠ æ·±ç†è§£ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">0</span></span><br><span class="line">x &amp;&amp;= <span class="number">1</span>  <span class="comment">// x: 0</span></span><br><span class="line">x ||= <span class="number">1</span>  <span class="comment">// x: 1</span></span><br><span class="line">x ??= <span class="number">2</span>  <span class="comment">// x: 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> y = <span class="number">1</span></span><br><span class="line">y &amp;&amp;= <span class="number">0</span>     <span class="comment">// y: 0</span></span><br><span class="line">y ||= <span class="literal">null</span>  <span class="comment">// y: null</span></span><br><span class="line">y ??= <span class="number">2</span>     <span class="comment">// y: 2</span></span><br></pre></td></tr></table></figure>

<h3 id="æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ-ï¼‰"><a href="#æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ-ï¼‰" class="headerlink" title="æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ_ï¼‰"></a>æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ_ï¼‰</h3><p>å¯¹äºä¸‹é¢ä¸€ä¸²æ•°å­—ï¼Œä½ ä¸€çœ¼çœ‹ä¸Šå»ä¸ç¡®å®šå®ƒåˆ°åº•æ˜¯å¤šå°‘å§ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1000000000</span></span><br></pre></td></tr></table></figure>

<p>é‚£ç°åœ¨å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥å®ƒæ˜¯ 10 äº¿ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1</span>_000_000_000</span><br></pre></td></tr></table></figure>

<p>æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ<code>_</code>ï¼‰çš„ä½œç”¨å°±æ˜¯ä¸ºäº†è®©æ•°å€¼çš„å¯è¯»æ€§æ›´å¼ºã€‚é™¤äº†èƒ½ç”¨äºåè¿›åˆ¶ï¼Œè¿˜å¯ä»¥ç”¨äºäºŒçº§åˆ¶ï¼Œåå…­è¿›åˆ¶ç”šè‡³æ˜¯ <code>BigInt</code> ç±»å‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> binarary = <span class="number">0b1010</span>_0001_1000_0101</span><br><span class="line"><span class="keyword">let</span> hex = <span class="number">0xA0</span>_B0_C0</span><br><span class="line"><span class="keyword">let</span> budget = <span class="number">1</span>_000_000_000_000n</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ—¶å¿…é¡»æ³¨æ„ <code>_</code> çš„ä¸¤è¾¹å¿…é¡»è¦æœ‰ç±»å‹çš„æ•°å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œä»¥ä¸‹è¿™äº›éƒ½æ˜¯æ— æ•ˆçš„å†™æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">10</span>_</span><br><span class="line"><span class="keyword">let</span> binarary = <span class="number">0b1011</span>_</span><br><span class="line"><span class="keyword">let</span> hex = <span class="number">0</span>x_0A0B</span><br><span class="line"><span class="keyword">let</span> budget = <span class="number">1</span>_n</span><br></pre></td></tr></table></figure>

<h2 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h2><ul>
<li><a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/">ECMAScript6å…¥é—¨</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903959283367950">1.5ä¸‡å­—æ¦‚æ‹¬ES6å…¨éƒ¨ç‰¹æ€§(å·²æ›´æ–°ES2020)</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903775329583112">è¿‘ä¸€ä¸‡å­—çš„ES6è¯­æ³•çŸ¥è¯†ç‚¹è¡¥å……</a></li>
<li><a target="_blank" rel="noopener" href="https://juejin.im/post/6886247841686093837#heading-9">æ·±å…¥ç†è§£Promise</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for-await...of">for-awaitâ€¦of</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">Iteration_protocols</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/tc39/proposal-object-from-entries">Object.fromEntries</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/WeakRef">WeakRef</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management">å†…å­˜ç®¡ç†</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/doodlewind/jshistory-cn">jshistory-cn</a></li>
<li><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/#sec-samevaluezero">sameValueZero</a></li>
</ul>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">æœç´¢</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2020/10/22/promise/" title="æ·±å…¥ç†è§£Promise" class="next">NEXT</a></div><a href="#comment" class="comment-anchor"></a><div id="vcomments"></div><script>new Valine({
    el: "#vcomments",
    appId: "aD8jJBpu4oew3ovNY73z6Rdq-gzGzoHsz",
    appKey: "FdzS5SOPHdhYQoEUngQ8K2QW",
    notify: false,
    verify: false,
    avatar: "robohash",
    visitor: true,
    placeholder: "éšä¾¿è¯´ç‚¹ä»€ä¹ˆï½.ï½",
});</script><div class="copyright"><p>Â© 2016 - 2020 <a href="https://weibo.com/316000381" target="_blank">typeR</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p><p> <span style="padding-right: 6px;">é—½ICPå¤‡16007301å·-2</span></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/jquery-1.8.2.min.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/articleCatalog.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>const valineAPI = (() => {
try {
    AV.init("aD8jJBpu4oew3ovNY73z6Rdq-gzGzoHsz", "FdzS5SOPHdhYQoEUngQ8K2QW");
} catch(error) {}
const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
    query.equalTo("identity", identity);
    query.find().then(results => {
        resolve(results.length > 0);
    }, error => reject(error));
    })
}

const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
    let querys = [];
    for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
    }
    query = AV.Query.or.apply(null ,querys);
    } else {
    identity = identity || getRealPath();
    query = new AV.Query("Timer");
    query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
    query.find()
    .then(results => resolve(results))
    .catch(error => reject(error))
    })
}

const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let Todo = AV.Object.extend('Timer');
    let todo = new Todo();
    todo.set("times", 1);
    todo.set("identity", identity);
    todo.save().then(res => resolve(true), error => reject(error));
    })
}

const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let query = new AV.Query('Timer');
    query.equalTo("identity", identity);
    query.find().then(todos => {
        todos.forEach(todo => {
        todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
    }).then(todos => resolve(true), error => reject(error));
    })
}

return {
    isExist,
    _get,
    update,
    create
}
})()

const calcAndWriteTimes = () => {
let isPost = true;

let timerAllDOM = document.querySelectorAll(".article-timer");

if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
    if(exist) {
        return valineAPI.update(identity);
    }
    return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
}

let timerDOMCache = {};

for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
    timerDOMCache[identity].dom.push(timerDOM);
    }else{
    timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
    };
    }
}

let identities = Object.keys(timerDOMCache);
valineAPI._get(identities).then(results => {
    for(let result of results) {
    let {identity, times} = result.attributes;
    timerDOMCache[identity].times = times;
    timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
    if(timerDOMCache[identity].times){
        continue;
    }
    timerDOMCache[identity].dom.map(item => item.innerText = 1);
    valineAPI.create(identity);
    }
}).catch(error => console.log(error.message))
}

if(true){
calcAndWriteTimes();
}</script></body></html>