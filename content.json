{"meta":{"title":"æ­¥æ­¥èµ°","subtitle":null,"description":"è‰¯å¥½çš„cssç¼–ç ä¹ æƒ¯èƒ½å¤Ÿæé«˜å¼€å‘ã€ç»´æŠ¤æ•ˆç‡ï¼Œæ‰€ä»¥å‰ç«¯å¾ˆæœ‰å¿…è¦å…»æˆä¸€ä¸ªå¥½çš„ç¼–ç ä¹ æƒ¯ã€‚","author":"typeR","url":"https://bubuzou.com","root":"/"},"pages":[{"title":"","date":"2020-07-29T06:57:38.699Z","updated":"2018-12-19T03:41:36.121Z","comments":true,"path":"google3f5e6f40d046c2a1.html","permalink":"https://bubuzou.com/google3f5e6f40d046c2a1.html","excerpt":"","text":"Â· æ­¥æ­¥èµ° åšæ–‡å½’æ¡£ç”Ÿæ´»æ‘„å½±å…³äº2017-07-14-æ¬¡è®¿é—®google-site-verification: google3f5e6f40d046c2a1.htmlåˆ†ç±»å½’æ¡£JavaScript7css7webç»¼åˆ2ç²¾é€šæ­£åˆ™è¡¨è¾¾å¼1æ ‡ç­¾äº‘JavaScript Javascript chrome css svg å›¾åƒ æ€§èƒ½ä¼˜åŒ– æ­£åˆ™è¡¨è¾¾å¼æœ€è¿‘æ–‡ç« JSä¸­ç±»æ•°ç»„çš„éå†ä»¥åŠæ€§èƒ½æ¢ç©¶è‰¯å¥½çš„CSSç¼–ç ä¹ æƒ¯jpgã€gifã€pngå’Œsvgç”¨äºwebä¸Šï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©æœ€åˆé€‚çš„å›¾åƒæ ¼å¼ï¼ŸCSSè‡ªå®šä¹‰å±æ€§ç†è§£ Flexboxï¼šä½ éœ€è¦çŸ¥é“è¿™äº›æœç´¢ (function() { var appid = 'cyt6h19Ve'; var conf = 'prod_0b4b95efa2ecfede2ddfb5adcef8c394'; var width = window.innerWidth || document.documentElement.clientWidth; if (width < 960) { window.document.write(''); } else { var loadJs=function(d,a){var c=document.getElementsByTagName(\"head\")[0]||document.head||document.documentElement;var b=document.createElement(\"script\");b.setAttribute(\"type\",\"text/javascript\");b.setAttribute(\"charset\",\"UTF-8\");b.setAttribute(\"src\",d);if(typeof a===\"function\"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e===\"loaded\"||e===\"complete\"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs(\"https://changyan.sohu.com/upload/changyan.js\",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })();Â© 2016 - 2017 typeR, powered by Hexo and hexo-theme-bubuzou é—½ICPå¤‡16007301å·-2Hosted by Coding Pages(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',\"UA-65933410-1\",'auto');ga('send','pageview');"}],"posts":[{"title":"ã€Œå»ºè®®æ”¶è—ã€é€ä½ ä¸€ä»½ç²¾å¿ƒæ€»ç»“çš„3ä¸‡å­—ES6å®ç”¨æŒ‡å—ï¼ˆå…¨ï¼‰","slug":"es6","date":"2020-11-17T07:53:04.000Z","updated":"2020-11-17T07:57:11.998Z","comments":true,"path":"2020/11/17/es6/","link":"","permalink":"https://bubuzou.com/2020/11/17/es6/","excerpt":"å†™æœ¬ç¯‡æ–‡ç« ç›®çš„æ˜¯ä¸ºäº†å¤¯å®åŸºç¡€ï¼ŒåŸºäºé˜®ä¸€å³°è€å¸ˆçš„è‘—ä½œ ECMAScript 6 å…¥é—¨ ä»¥åŠ tc39-finished-proposals è¿™ä¸¤ä¸ªçŸ¥è¯†çº¿è·¯æ€»ç»“æç‚¼å‡ºæ¥çš„é‡ç‚¹å’Œè¦ç‚¹ï¼Œæ¶‰åŠåˆ°ä» ES2015 åˆ° ES2021 çš„å‡ ä¹æ‰€æœ‰çŸ¥è¯†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰ç…§ä¸€ä¸ªçŸ¥è¯†ç‚¹é…ä¸Šä¸€æ®µä»£ç çš„å½¢å¼æ¥å±•ç¤ºï¼Œæ‰€ä»¥ç¯‡å¹…è¾ƒé•¿ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºç¯‡å¹…è¿‡é•¿ï¼Œæ‰€ä»¥å°±æ²¡æŠŠ Stage 2 å’Œ Stage 3 é˜¶æ®µçš„ææ¡ˆå†™åˆ°è¿™é‡Œï¼Œåç»­ ES2021 æ›´æ–°äº†æˆ‘å†åŒæ­¥æ›´æ–°ã€‚ æœ‰ 5 ä¸ªææ¡ˆå·²ç»åˆ—å…¥ Expected Publication Year in 2021 æ‰€ä»¥æœ¬ç¯‡ä¸­æš‚ä¸”æŠŠä»–ä»¬å½’ä¸º ES2021ã€‚","text":"å†™æœ¬ç¯‡æ–‡ç« ç›®çš„æ˜¯ä¸ºäº†å¤¯å®åŸºç¡€ï¼ŒåŸºäºé˜®ä¸€å³°è€å¸ˆçš„è‘—ä½œ ECMAScript 6 å…¥é—¨ ä»¥åŠ tc39-finished-proposals è¿™ä¸¤ä¸ªçŸ¥è¯†çº¿è·¯æ€»ç»“æç‚¼å‡ºæ¥çš„é‡ç‚¹å’Œè¦ç‚¹ï¼Œæ¶‰åŠåˆ°ä» ES2015 åˆ° ES2021 çš„å‡ ä¹æ‰€æœ‰çŸ¥è¯†ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰ç…§ä¸€ä¸ªçŸ¥è¯†ç‚¹é…ä¸Šä¸€æ®µä»£ç çš„å½¢å¼æ¥å±•ç¤ºï¼Œæ‰€ä»¥ç¯‡å¹…è¾ƒé•¿ï¼Œä¹Ÿæ­£æ˜¯å› ä¸ºç¯‡å¹…è¿‡é•¿ï¼Œæ‰€ä»¥å°±æ²¡æŠŠ Stage 2 å’Œ Stage 3 é˜¶æ®µçš„ææ¡ˆå†™åˆ°è¿™é‡Œï¼Œåç»­ ES2021 æ›´æ–°äº†æˆ‘å†åŒæ­¥æ›´æ–°ã€‚ æœ‰ 5 ä¸ªææ¡ˆå·²ç»åˆ—å…¥ Expected Publication Year in 2021 æ‰€ä»¥æœ¬ç¯‡ä¸­æš‚ä¸”æŠŠä»–ä»¬å½’ä¸º ES2021ã€‚ ES6å‰è¨€å‘å±•å²èƒ½å†™å¥½ JS å›ºç„¶æ˜¯é‡è¦çš„ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªå‰ç«¯ï¼Œæˆ‘ä»¬ä¹Ÿè¦äº†è§£è‡ªå·±æ‰€ä½¿ç”¨è¯­è¨€çš„å‘å±•å†ç¨‹ï¼Œè¿™é‡Œå¼ºçƒˆæ¨èçœ‹ ã€ŠJavaScript 20å¹´ã€‹ï¼Œæœ¬ä¹¦è¯¦ç»†è®°è½½å’Œè§£è¯»äº†è‡ª 1995 å¹´è¯­è¨€è¯ç”Ÿåˆ° 2015 å¹´ ES6 è§„èŒƒåˆ¶å®šä¸ºæ­¢ï¼Œå…±è®¡ 20 å¹´çš„ JavaScript è¯­è¨€æ¼”åŒ–å†ç¨‹ã€‚ ç‰ˆæœ¬è¯´æ˜2011 å¹´ï¼Œå‘å¸ƒäº† ECMAScript 5.1 ç‰ˆï¼Œè€Œ 2015 å¹´ 6 æœˆå‘å¸ƒäº† ES6 çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬åˆå« ES2015ã€‚ES6 å…¶å®æ˜¯ä¸€ä¸ªæ³›æŒ‡ï¼ŒæŒ‡ä»£ 5.1 ç‰ˆæœ¬ä»¥åçš„ä¸‹ä¸€ä»£æ ‡å‡†ã€‚TC39 è§„å®šå°†äºæ¯å¹´çš„ 6 æœˆå‘å¸ƒä¸€æ¬¡æ­£å¼ç‰ˆæœ¬ï¼Œç‰ˆæœ¬å·ä»¥å½“å¹´çš„å¹´ä»½ä¸ºå‡†ï¼Œæ¯”å¦‚å½“å‰å·²ç»å‘å¸ƒäº† ES2015ã€ES2016ã€ES2017ã€ES2018ã€ES2019ã€ES2020 ç­‰ç‰ˆæœ¬ã€‚ ææ¡ˆå‘å¸ƒæµç¨‹ä»»ä½•äººéƒ½å¯ä»¥å‘ TC39 ææ¡ˆï¼Œè¦æ±‚ä¿®æ”¹è¯­è¨€æ ‡å‡†ã€‚ä¸€ç§æ–°çš„è¯­æ³•ä»ææ¡ˆåˆ°å˜æˆæ­£å¼æ ‡å‡†ï¼Œéœ€è¦ç»å†äº”ä¸ªé˜¶æ®µã€‚æ¯ä¸ªé˜¶æ®µçš„å˜åŠ¨éƒ½éœ€è¦ç”± TC39 å§”å‘˜ä¼šæ‰¹å‡†ã€‚ Stage 0 - Strawpersonï¼ˆå±•ç¤ºé˜¶æ®µï¼‰ Stage 1 - Proposalï¼ˆå¾æ±‚æ„è§é˜¶æ®µï¼‰ Stage 2 - Draftï¼ˆè‰æ¡ˆé˜¶æ®µï¼‰ Stage 3 - Candidateï¼ˆå€™é€‰äººé˜¶æ®µï¼‰ Stage 4 - Finishedï¼ˆå®šæ¡ˆé˜¶æ®µï¼‰ ä¸€ä¸ªææ¡ˆåªè¦èƒ½è¿›å…¥ Stage 2ï¼Œå°±å·®ä¸å¤šè‚¯å®šä¼šåŒ…æ‹¬åœ¨ä»¥åçš„æ­£å¼æ ‡å‡†é‡Œé¢ã€‚ECMAScript å½“å‰çš„æ‰€æœ‰ææ¡ˆï¼Œå¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹ ecma262ã€‚å…³äºææ¡ˆæµç¨‹å¯ä»¥åœ¨è¿™é‡Œ TC39_Process çœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ã€‚ ES2015 å£°æ˜constï¼šå£°æ˜ä¸€ä¸ªå¸¸é‡ï¼Œletï¼šå£°æ˜ä¸€ä¸ªå˜é‡ï¼›const/let å£°æ˜çš„å¸¸é‡/å˜é‡éƒ½åªèƒ½ä½œç”¨äºä»£ç å—ï¼ˆå—çº§ä½œç”¨åŸŸæˆ–å‡½æ•°ä½œç”¨åŸŸï¼‰é‡Œï¼› 1234if (true) &#123; let name = &#x27;å¸ƒå…°&#x27;&#125;console.log(name) // undefined const/let ä¸å­˜åœ¨å˜é‡æå‡ï¼Œæ‰€ä»¥åœ¨ä»£ç å—é‡Œå¿…é¡»å…ˆå£°æ˜ç„¶åæ‰å¯ä»¥ä½¿ç”¨ï¼Œè¿™å«æš‚æ—¶æ€§æ­»åŒºï¼› 123456let name = &#x27;bubuzou&#x27;if (true) &#123; name = &#x27;å¸ƒå…°&#x27; let name&#125;console.log(name) const/let ä¸å…è®¸åœ¨åŒä¸€ä¸ªä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜ï¼› 123function setName(name) &#123; let name = &#x27;&#x27; // SyntaxError&#125; const å£°æ˜æ—¶å¿…é¡»åˆå§‹åŒ–ï¼Œä¸”åæœŸä¸èƒ½è¢«ä¿®æ”¹ï¼Œä½†å¦‚æœåˆå§‹åŒ–çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆä¸èƒ½ä¿®æ”¹çš„æ˜¯è¯¥å¯¹è±¡çš„å†…å­˜åœ°å€ï¼› 123456const person = &#123; name: &#x27;å¸ƒå…°&#x27;&#125;person.name = &#x27;bubuzou&#x27; console.log(person.name) // &#x27;bubuzou&#x27;person = &#x27;&#x27; // TypeError const/let åœ¨å…¨å±€ä½œç”¨åŸŸä¸­å£°æ˜çš„å¸¸é‡/å˜é‡ä¸ä¼šæŒ‚åˆ°é¡¶å±‚å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ window ï¼‰çš„å±æ€§ä¸­ï¼› 1234var name = &#x27;å¸ƒå…°&#x27;let age = 12console.log(window.name) // &#x27;å¸ƒå…°&#x27;console.log(window.age) // undefined è§£æ„èµ‹å€¼è§£æ„ç±»å‹ï¼š å­—ç¬¦ä¸²è§£æ„ 12let [a, b, c = &#x27;c&#x27;] = &#x27;12&#x27;console.log(a, b, c) // &#x27;1&#x27; &#x27;2&#x27; &#x27;c&#x27; æ•°å€¼è§£æ„ 12let &#123;toFixed: tf&#125; = 10console.log( tf.call(Math.PI, 2) ) // 3.14 å¸ƒå°”å€¼è§£æ„ 12let &#123;toString: ts&#125; = trueconsole.log( ts.call(false) ) // &#x27;false&#x27; æ•°ç»„è§£æ„ï¼šç­‰å·å³ä¾§çš„æ•°æ®å…·æœ‰ Iterator æ¥å£å¯ä»¥è¿›è¡Œæ•°ç»„å½¢å¼çš„è§£æ„èµ‹å€¼ï¼› 1234567// è§£æ„ä¸æˆåŠŸçš„å˜é‡å€¼ä¸º undefinedlet [a, b, c] = [1, 2]console.log(a, b, c) // 1, 2, undefined// å¯ä»¥è®¾ç½®é»˜è®¤å€¼let [x, y, z = 3] = [1, 2, null]console.log(x, y, z) // 1, 2, null ä»€ä¹ˆæ ·çš„æ•°æ®å…·æœ‰ Iterator æ¥å£å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªå¯¹è±¡èƒ½å¤Ÿé€šè¿‡ [Symbol.iterator] è®¿é—®ï¼Œä¸”èƒ½å¤Ÿè¿”å›ä¸€ä¸ªç¬¦åˆè¿­ä»£å™¨åè®®çš„å¯¹è±¡ï¼Œé‚£ä¹ˆè¯¥å¯¹è±¡å°±æ˜¯å¯è¿­ä»£çš„ã€‚ç›®å‰å†…ç½®çš„å¯è¿­ä»£å¯¹è±¡æœ‰ï¼šStringã€Arrayã€TypeArrayã€Mapã€Setã€arguments å’Œ NodeList ç­‰ã€‚ å¯¹è±¡è§£æ„ï¼šä¸æ•°ç»„æŒ‰ç…§ç´¢å¼•ä½ç½®è¿›è¡Œè§£æ„ä¸åŒï¼Œå¯¹è±¡è§£æ„æ˜¯æŒ‰ç…§å±æ€§åè¿›è¡Œè§£æ„èµ‹å€¼ï¼Œå¦‚æœåœ¨å½“å‰å¯¹è±¡å±æ€§åŒ¹é…ä¸æˆåŠŸåˆ™ä¼šå»å¯¹è±¡çš„åŸå‹å±æ€§ä¸ŠæŸ¥æ‰¾ï¼š 12// é»˜è®¤å†™æ³•let &#123; name: name, age: age &#125; = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; 12// ç®€å†™let &#123; name, age &#125; = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; 123// æ”¹åä¸”è®¾ç½®é»˜è®¤å€¼let &#123; name: name1, age: age1 = 12 &#125; = &#123; name: &#x27;å¸ƒå…°&#x27; &#125;console.log(name1, age1) // &#x27;å¸ƒå…°&#x27; 12 å‡½æ•°å‚æ•°è§£æ„ï¼šå…¶å®å°±æ˜¯è¿ç”¨ä¸Šé¢çš„å¯¹è±¡è§£æ„å’Œæ•°ç»„è§£æ„è§„åˆ™ï¼› 12345678function move(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123; console.log([x, y]) return [x, y];&#125;move(&#123;x: 3, y: 8&#125;) // [3, 8]move(&#123;x: 3&#125;) // [3, 0]move(&#123;&#125;) // [0, 0]move() // [0, 0] è§£æ„è¦ç‚¹ï¼š åªè¦ç­‰å·ä¸¤è¾¹çš„æ¨¡å¼ç›¸åŒï¼ˆåŒæ˜¯å¯¹è±¡æˆ–åŒæ˜¯æ•°ç»„ï¼‰ï¼Œåˆ™å·¦è¾¹çš„å˜é‡ä¼šè¢«èµ‹äºˆå¯¹åº”çš„å€¼ï¼› è§£æ„ä¸æˆåŠŸçš„å˜é‡å€¼ä¸º undefinedï¼› é»˜è®¤å€¼ç”Ÿæ•ˆçš„å‰ææ˜¯å½“ç­‰å·å³è¾¹å¯¹åº”çš„å€¼å…¨ç­‰äº undefined çš„æ—¶å€™ï¼› åªè¦ç­‰å·å³è¾¹çš„å€¼ä¸æ˜¯å¯¹è±¡æˆ–è€…æ•°ç»„ï¼Œåˆ™ä¼šè¿›è¡Œè‡ªåŠ¨è£…ç®±å°†å…¶è½¬æˆå¯¹è±¡ï¼› null å’Œ undefined éƒ½æ— æ³•è½¬æˆå¯¹è±¡ï¼Œæ‰€ä»¥æ— æ³•è§£æ„ã€‚ è§£æ„åº”ç”¨ï¼š äº¤æ¢å˜é‡çš„å€¼ï¼› 123let x = 1, y = 2;[x, y] = [y, x]console.log(x, y) // 2 1 é€šè¿‡å‡½æ•°è¿”å›å¯¹è±¡å±æ€§ 1234567function getParams() &#123; return &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12, &#125;&#125;let &#123;name, age&#125; = getParams() é€šè¿‡å®šä¹‰å‡½æ•°å‚æ•°æ¥å£°æ˜å˜é‡ 12345678910111213let person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12&#125;init(person)// æ™®é€šç”¨æ³•function init(person) &#123; let &#123;name, age&#125; = person&#125;// æ›´ç®€æ´ç”¨æ³•function init(&#123;name, age&#125;) &#123;&#125; æŒ‡å®šå‡½æ•°å‚æ•°é»˜è®¤å€¼ 12345function initPerson(&#123;name = &#x27;å¸ƒå…°&#x27;, age = 12&#125; = &#123;&#125;) &#123; console.log(name, age)&#125;initPerson() // &#x27;å¸ƒå…°&#x27; 12initPerson(&#123;age: 20&#125;) // &#x27;å¸ƒå…°&#x27; 20 æå– JSON æ•°æ® 1234567let responseData = &#123; code: 1000, data: &#123;&#125;, message: &#x27;success&#x27;&#125;let &#123; code, data = &#123;&#125; &#125; = responseData éå† Map ç»“æ„ 1234567let map = new Map()map.set(&#x27;beijing&#x27;, &#x27;åŒ—äº¬&#x27;)map.set(&#x27;xiamen&#x27;, &#x27;å¦é—¨&#x27;)for (let [key, value] of map) &#123; console.log(key, value)&#125; è¾“å…¥æ¨¡å—çš„æŒ‡å®šæ–¹æ³•å’Œå±æ€§ 1const &#123; readFile, writeFile &#125; = require(&quot;fs&quot;) å­—ç¬¦ä¸²æ‰©å±• å¯ä»¥ä½¿ç”¨ Unicode ç¼–ç æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼š 123456// ä»¥ä¸‹å†™æ³•éƒ½å¯ä»¥ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ z&#x27;\\z&#x27; // è½¬ä¹‰&#x27;\\172&#x27; // åè¿›åˆ¶è¡¨ç¤ºæ³•&#x27;\\x7A&#x27; // åå…­è¿›åˆ¶è¡¨ç¤ºæ³•&#x27;\\u007A&#x27; // Unicode æ™®é€šè¡¨ç¤ºæ³•&#x27;\\u&#123;7A&#125;&#x27; // Unicode å¤§æ‹¬å·è¡¨ç¤ºæ³• www.52unicode.com è¿™ä¸ªç½‘ç«™å¯ä»¥æŸ¥è¯¢åˆ°å¸¸è§ç¬¦å·çš„ Unicode ç¼–ç ã€‚ å¯ä»¥ä½¿ç”¨ for...of æ­£ç¡®éå†å­—ç¬¦ä¸²ï¼š 1234567let str = &#x27;ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”&#x27;for (const emoji of str) &#123; console.log(emoji) // ğŸ˜€ğŸ¤£ğŸ˜œğŸ˜ğŸ¤—ğŸ¤”&#125;for(let i = 0, l = str.length; i &lt; l; i++) &#123; console.log(str[i]) // ä¸èƒ½æ­£ç¡®è¾“å‡ºè¡¨æƒ…&#125; æ¨¡æ¿å­—ç¬¦ä¸²ä½¿ç”¨ä¸¤ä¸ªåå¼•å·æ ‡è¯†ï¼ˆ``ï¼‰ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰å¤šè¡Œå­—ç¬¦ä¸²ï¼Œæˆ–è€…ä½¿ç”¨å®ƒåœ¨å­—ç¬¦ä¸²ä¸­æ’å…¥å˜é‡ï¼š 1234let name = &#x27;hero&#x27;let tips = `Hello $&#123;name&#125;, welcome to my world.`alert( tips ) æ ‡ç­¾æ¨¡æ¿ï¼šåœ¨å‡½æ•°ååé¢æ¥ä¸€ä¸ªæ¨¡æ¿å­—ç¬¦ä¸²ç›¸å½“äºç»™å‡½æ•°ä¼ å…¥äº†å‚æ•°è¿›è¡Œè°ƒç”¨ï¼š 12345678let name = &#x27;å¸ƒå…°&#x27;, age = 12;let tips = parse`Hello $&#123;name&#125;, are you $&#123;age&#125; years old this year?`function parse(stringArr, ...variable) &#123; &#125;// ç›¸å½“äºä¼ é€’å¦‚ä¸‹å‚æ•°è¿›è¡Œè°ƒç”¨ parse å‡½æ•°parse([&quot;Hello &quot;, &quot;, are you &quot;, &quot; years old this year?&quot;], name, age) String.fromCodePoint() ç”¨äºä» Unicode ç ç‚¹è¿”å›å¯¹åº”å­—ç¬¦ï¼Œå¯ä»¥æ”¯æŒ 0xFFFF çš„ç ç‚¹ï¼š 12String.fromCharCode(0x1f600) // &quot;ï˜€&quot;String.fromCodePoint(0x1f600) // &quot;ğŸ˜€&quot; String.raw() è¿”å›æŠŠå­—ç¬¦ä¸²æ‰€æœ‰å˜é‡æ›¿æ¢ä¸”å¯¹æ–œæ è¿›è¡Œè½¬ä¹‰çš„ç»“æœï¼š 1String.raw`Hi\\n$&#123;2+3&#125;!` // &quot;Hi\\n5!&quot; codePointAt() è¿”å›å­—ç¬¦çš„åè¿›åˆ¶ç ç‚¹ï¼Œå¯¹äº Unicode å¤§äº 0xFFFF çš„å­—ç¬¦ï¼Œä¼šè¢«è®¤ä¸ºæ˜¯2ä¸ªå­—ç¬¦ï¼Œåè¿›åˆ¶ç ç‚¹è½¬æˆåå…­è¿›åˆ¶å¯ä»¥ä½¿ç”¨ toString(16)ï¼š 123456let emoji = &#x27;ğŸ¤£&#x27;emoji.length // 2emoji.charCodeAt(0).toString(16) // &#x27;d83d&#x27;emoji.charCodeAt(1).toString(16) // &#x27;de00&#x27;String.fromCodePoint(0xd83d, 0xde00) === &#x27;ğŸ¤£&#x27; // true normalize() æ–¹æ³•ä¼šæŒ‰ç…§æŒ‡å®šçš„ä¸€ç§ Unicode æ­£è§„å½¢å¼å°†å½“å‰å­—ç¬¦ä¸²æ­£è§„åŒ–ã€‚ï¼ˆå¦‚æœè¯¥å€¼ä¸æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™é¦–å…ˆå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼š 12345678let str1 = &#x27;\\u00F1&#x27;let str2 = &#x27;\\u006E\\u0303&#x27;str1 // Ã±str2 // Ã±str1 === str2 // falsestr1.length === str2.length // falsestr1.normalize() === str2.normalize() // true å­—ç¬¦ä¸²æ˜¯å¦åŒ…å«å­ä¸²ï¼š includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ 12345let s = &#x27;Hello world!&#x27;s.includes(&#x27;o&#x27;) // trues.startsWith(&#x27;Hello&#x27;) // trues.endsWith(&#x27;!&#x27;) // true è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ”¯æŒç¬¬äºŒä¸ªå‚æ•°ï¼Œè¡¨ç¤ºå¼€å§‹æœç´¢çš„ä½ç½®ï¼š 12345let s = &#x27;Hello world!&#x27;s.includes(&#x27;Hello&#x27;, 6) // falses.startsWith(&#x27;world&#x27;, 6) // trues.endsWith(&#x27;Hello&#x27;, 5) // true ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•° n æ—¶ï¼ŒendsWith çš„è¡Œä¸ºä¸å…¶ä»–ä¸¤ä¸ªæ–¹æ³•æœ‰æ‰€ä¸åŒã€‚å®ƒé’ˆå¯¹å‰ n ä¸ªå­—ç¬¦ï¼Œè€Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•é’ˆå¯¹ä»ç¬¬ n ä¸ªä½ç½®ç›´åˆ°å­—ç¬¦ä¸²ç»“æŸã€‚ repeat(n) å°†å½“å‰å­—ç¬¦ä¸²é‡å¤ n æ¬¡åï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼š 12345678&#x27;x&#x27;.repeat(2) // &#x27;xx&#x27;&#x27;x&#x27;.repeat(1.9) // &#x27;x&#x27;&#x27;x&#x27;.repeat(NaN) // &#x27;&#x27;&#x27;x&#x27;.repeat(undefined) // &#x27;&#x27;&#x27;x&#x27;.repeat(&#x27;2a&#x27;) // &#x27;&#x27;&#x27;x&#x27;.repeat(-0.6) // &#x27;&#x27;ï¼Œè§£é‡Šï¼š0 ~ 1 ä¹‹é—´çš„å°æ•°ç›¸å½“äº 0&#x27;x&#x27;.repeat(-2) // RangeError&#x27;x&#x27;.repeat(Infinity) // RangeError æ•°å€¼æ‰©å±• äºŒè¿›åˆ¶ï¼ˆ0bï¼‰å’Œå…«è¿›åˆ¶ï¼ˆ0oï¼‰è¡¨ç¤ºæ³•ï¼š 12345let num = 100let b = num.toString(2) // äºŒè¿›åˆ¶çš„100ï¼š1100100let o = num.toString(8) // å…«è¿›åˆ¶çš„100ï¼š1440b1100100 === 100 // true0o144 === 100 // true Number.isFinite() åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦æ˜¯æœ‰é™çš„æ•°ï¼Œå…¥å‚å¦‚æœä¸æ˜¯æ•°å€¼ä¸€å¾‹è¿”å› falseï¼š 12345Number.isFinite(-2.9) // trueNumber.isFinite(NaN) // falseNumber.isFinite(&#x27;&#x27;) // falseNumber.isFinite(false) // trueNumber.isFinite(Infinity) // false Number.isNaN() åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸º NaNï¼Œå¦‚æœå…¥å‚ä¸æ˜¯ NaN é‚£ç»“æœéƒ½æ˜¯ falseï¼š 123Number.isNaN(NaN) // trueNumber.isFinite(&#x27;a&#x27;/0) // trueNumber.isFinite(&#x27;NaN&#x27;) // false æ•°å€¼è½¬åŒ–ï¼šNumber.parseInt() å’Œ Number.parseFloat()ï¼Œéä¸¥æ ¼è½¬åŒ–ï¼Œä»å·¦åˆ°å³è§£æå­—ç¬¦ä¸²ï¼Œé‡åˆ°éæ•°å­—å°±åœæ­¢è§£æï¼Œå¹¶ä¸”æŠŠè§£æçš„æ•°å­—è¿”å›ï¼š 1234parseInt(&#x27;12a&#x27;) // 12parseInt(&#x27;a12&#x27;) // NaNparseInt(&#x27;&#x27;) // NaNparseInt(&#x27;0xA&#x27;) // 10ï¼Œ0xå¼€å¤´çš„å°†ä¼šè¢«å½“æˆåå…­è¿›åˆ¶æ•° parseInt() é»˜è®¤æ˜¯ç”¨åè¿›åˆ¶å»è§£æå­—ç¬¦ä¸²çš„ï¼Œå…¶å®ä»–æ˜¯æ”¯æŒä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„ï¼Œè¡¨ç¤ºè¦ä»¥å¤šå°‘è¿›åˆ¶çš„ åŸºæ•°å»è§£æç¬¬ä¸€ä¸ªå‚æ•°ï¼š 12parseInt(&#x27;1010&#x27;, 2) // 10parseInt(&#x27;ff&#x27;, 16) // 255 å‚è€ƒï¼šparseInt Number.isInteger() åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ï¼Œå…¥å‚ä¸ºéæ•°å€¼åˆ™ä¸€å®šè¿”å› falseï¼š 1234567Number.isInteger(25) // trueNumber.isInteger(25.0) // trueNumber.isInteger() // falseNumber.isInteger(null) // falseNumber.isInteger(&#x27;15&#x27;) // falseNumber.isInteger(true) // falseNumber.isInteger(3.0000000000000002) // true å¦‚æœå¯¹æ•°æ®ç²¾åº¦çš„è¦æ±‚è¾ƒé«˜ï¼Œä¸å»ºè®®ä½¿ç”¨ Number.isInteger() åˆ¤æ–­ä¸€ä¸ªæ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°ã€‚ Number.EPSILON è¡¨ç¤ºä¸€ä¸ªå¯æ¥å—çš„æœ€å°è¯¯å·®èŒƒå›´ï¼Œé€šå¸¸ç”¨äºæµ®ç‚¹æ•°è¿ç®—ï¼š 120.1 + 0.2 === 0.3 // falseMath.abs(0.1 + 0.2 - 0.3) &lt; Number.EPSILON // true Number.isSafeInteger() ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦åœ¨æœ€å¤§å®‰å…¨æ•´æ•°ï¼ˆNumber.MAX_SAFE_INTEGERï¼‰å’Œæœ€å°å®‰å…¨æ•´æ•°ï¼ˆNumber.MIN_SAFE_INTEGERï¼‰ä¹‹é—´ï¼š 123456Number.MAX_SAFE_INTEGER === 2 ** 53 -1 // trueNumber.MAX_SAFE_INTEGER === 9007199254740991 // trueNumber.MIN_SAFE_INTEGER === -Number.MAX_SAFE_INTEGER // trueNumber.isSafeInteger(2) // trueNumber.isSafeInteger(&#x27;2&#x27;) // falseNumber.isSafeInteger(Infinity) // false Math.trunc()ï¼šè¿”å›æ•°å€¼æ•´æ•°éƒ¨åˆ† Math.sign()ï¼šè¿”å›æ•°å€¼ç±»å‹(æ­£æ•° 1ã€è´Ÿæ•° -1ã€é›¶ 0) Math.cbrt()ï¼šè¿”å›æ•°å€¼ç«‹æ–¹æ ¹ Math.clz32()ï¼šè¿”å›æ•°å€¼çš„ 32 ä½æ— ç¬¦å·æ•´æ•°å½¢å¼ Math.imul()ï¼šè¿”å›ä¸¤ä¸ªæ•°å€¼ç›¸ä¹˜ Math.fround()ï¼šè¿”å›æ•°å€¼çš„ 32 ä½å•ç²¾åº¦æµ®ç‚¹æ•°å½¢å¼ Math.hypot()ï¼šè¿”å›æ‰€æœ‰æ•°å€¼å¹³æ–¹å’Œçš„å¹³æ–¹æ ¹ Math.expm1()ï¼šè¿”å› e^n - 1 Math.log1p()ï¼šè¿”å› 1 + n çš„è‡ªç„¶å¯¹æ•°(Math.log(1 + n)) Math.log10()ï¼šè¿”å›ä»¥ 10 ä¸ºåº•çš„ n çš„å¯¹æ•° Math.log2()ï¼šè¿”å›ä»¥ 2 ä¸ºåº•çš„nçš„å¯¹æ•° Math.sinh()ï¼šè¿”å› n çš„åŒæ›²æ­£å¼¦ Math.cosh()ï¼šè¿”å› n çš„åŒæ›²ä½™å¼¦ Math.tanh()ï¼šè¿”å› n çš„åŒæ›²æ­£åˆ‡ Math.asinh()ï¼šè¿”å› n çš„ååŒæ›²æ­£å¼¦ Math.acosh()ï¼šè¿”å› n çš„ååŒæ›²ä½™å¼¦ Math.atanh()ï¼šè¿”å› n çš„ååŒæ›²æ­£åˆ‡ æ•°ç»„æ‰©å±• æ•°ç»„æ‰©å±•è¿ç®—ç¬¦ï¼ˆâ€¦ï¼‰å°†æ•°ç»„å±•å¼€æˆç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œåªèƒ½å±•å¼€ä¸€å±‚æ•°ç»„ï¼š 123456789101112131415// åº”ç”¨ä¸€ï¼šå‡½æ•°ä¼ å‚Math.max(...[1, 2, 3]) // 3// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶let merge = [...[1, 2], ...[3, 4], 5, 6] // 1, 2, 3, 4, 5, 6// åº”ç”¨ä¸‰ï¼šæµ…å…‹éš†let a = [1, 2, 3]let clone = [...a]a === clone // false// åº”ç”¨å››ï¼šæ•°ç»„è§£æ„const [x, ...y] = [1, 2, 3]x // 1y // [2, 3] Array.from() å¯ä»¥å°†ç±»æ•°ç»„å¯¹è±¡ï¼ˆ NodeListï¼Œargumentsï¼‰å’Œå¯è¿­ä»£å¯¹è±¡è½¬æˆæ•°ç»„ï¼š 123456789101112// åº”ç”¨ä¸€ï¼šå­—ç¬¦ä¸²è½¬æ•°ç»„Array.from(&#x27;foo&#x27;) // [&#x27;f&#x27;, &#x27;o&#x27;, &#x27;o&#x27;]// åº”ç”¨äºŒï¼šæ•°ç»„åˆå¹¶å»é‡let merge = [...[1, 2], ...[2, 3]]Array.from(new Set(merge)) // [&#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;]// åº”ç”¨ä¸‰ï¼šarguments è½¬æ•°ç»„function f() &#123; return Array.from(arguments)&#125;f(1, 2, 3) // [1, 2, 3] å¦‚æœ Array.from() å¸¦ç¬¬äºŒä¸ªå‚æ•° mapFnï¼Œå°†å¯¹ç”Ÿæˆçš„æ–°æ•°ç»„æ‰§è¡Œä¸€æ¬¡ map æ“ä½œï¼š 12Array.from([1, 2, 3], (x) =&gt; x * x ) // [1, 4, 9]Array.from(&#123;length: 3&#125;, (v, i) =&gt; ++i) // [1, 2, 3] Array.of() å°†ä¸€ç»„å‚æ•°è½¬æˆæ•°ç»„ï¼š 1234567Array.of(1, 2, 3) // [1, 2, 3]// ç±»ä¼¼äºfunction arrayOf(...params)&#123; return [].slice.call(params)&#125;arrayOf(1, 2, 3) // [1, 2, 3] Array.copyWithin() åœ¨å½“å‰æ•°ç»„å†…éƒ¨ï¼Œå°†åˆ¶å®šä½ç½®çš„æˆå‘˜å¤åˆ¶åˆ°å…¶ä»–ä½ç½®ï¼ˆä¼šè¦†ç›–åŸæ¥ä½ç½®çš„æˆå‘˜ï¼‰ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚æ¥æ”¶ 3 ä¸ªå‚æ•°ï¼Œå‚æ•°ä¸ºè´Ÿæ•°è¡¨ç¤ºå³è¾¹å¼€å§‹è®¡ç®—ï¼š targetï¼ˆå¿…é€‰ï¼‰ï¼šæ›¿æ¢ä½ç½®çš„ç´¢å¼•ï¼› startï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®å¼€å§‹è¯»å–æ•°æ®ï¼Œé»˜è®¤ä¸º 0ï¼› endï¼ˆå¯é€‰ï¼‰ï¼šä»è¯¥ä½ç½®ç»“æŸè¯»å–æ•°æ®ï¼ˆä¸åŒ…æ‹¬è¯¥ä½ç½®çš„æ•°æ®ï¼‰ï¼Œé»˜è®¤ä¸ºåŸæ•°ç»„é•¿åº¦ï¼› 1234[1, 2, 3, 4, 5].copyWithin(-1) // [1, 2, 3, 4, 1][1, 2, 3, 4, 5].copyWithin(1) // [1, 1, 2, 3, 4][1, 2, 3, 4, 5].copyWithin(0, 3, 4) // [4, 2, 3, 4, 5][1, 2, 3, 4, 5].copyWithin(0, -3, -1) // [3, 4, 3, 4, 5] æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå‡ºç°çš„å­æˆå‘˜ï¼šfind() å’Œ findIndex()ï¼š 12345// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°[1, 6, 9].find((val, index, arr) =&gt; val % 2 === 0) // 6// æ‰¾å‡ºç¬¬ä¸€ä¸ªå¶æ•°çš„ç´¢å¼•ä½ç½®[1, 6, 9].findIndex((val, index, arr) =&gt; val % 2 === 0) // 1 fill() ä½¿ç”¨ç»™å®šçš„å€¼æ¥å¡«å……æ•°ç»„ï¼Œæœ‰ 3 ä¸ªå‚æ•°ï¼š valueï¼šå¡«å……å€¼ï¼› startï¼ˆå¯é€‰ï¼‰ï¼Œå¼€å§‹ç´¢å¼•ï¼Œé»˜è®¤ä¸º 0ï¼› endï¼ˆå¯é€‰ï¼‰ï¼šç»“æŸç´¢å¼•ï¼Œé»˜è®¤ä¸ºæ•°ç»„é•¿åº¦ï¼Œä¸åŒ…æ‹¬è¯¥ç´¢å¼•ä½ç½®çš„å€¼ï¼› 1234// åˆå§‹åŒ–ç©ºæ•°ç»„Array(3).fill(1) // [1, 1, 1][1, 2, 3, 4].fill(&#x27;a&#x27;, 2, 4) // [1, 2, &#x27;a&#x27;, &#x27;a&#x27;] é€šè¿‡ keys()ï¼ˆé”®åï¼‰ã€entries()ï¼ˆé”®å€¼ï¼‰å’Œ values()ï¼ˆé”®å€¼å¯¹ï¼‰ è·å–æ•°ç»„è¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥è¢« for...of è¿­ä»£ï¼Œ 12345678910let arr = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]for (let x of arr.keys()) &#123; console.log(x) // 1, 2, 3&#125;for (let v of arr.values()) &#123; console.log(v) // &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;&#125;for (let e of arr.entries()) &#123; console.log(e) // [0, &#x27;a&#x27;] [0, &#x27;b&#x27;] [0, &#x27;c&#x27;]&#125; æ•°ç»„ç©ºä½ï¼Œæ˜¯æŒ‡æ•°ç»„æ²¡æœ‰å€¼ï¼Œæ¯”å¦‚ï¼š[,,]ï¼Œè€Œåƒè¿™ç§ [undefined] æ˜¯ä¸åŒ…å«ç©ºä½çš„ã€‚ç”±äº ES6 ä¹‹å‰çš„ä¸€äº› API å¯¹ç©ºä½çš„å¤„ç†è§„åˆ™å¾ˆä¸ä¸€è‡´ï¼Œæ‰€ä»¥å®é™…æ“ä½œçš„æ—¶å€™åº”è¯¥å°½é‡é¿å…ç©ºä½çš„å‡ºç°ï¼Œè€Œä¸ºäº†æ”¹å˜è¿™ä¸ªç°çŠ¶ï¼ŒES6 çš„ API ä¼šé»˜è®¤å°†ç©ºä½å¤„ç†æˆ undefinedï¼š 12[...[1, , 3].values()] // [1, undefined, 3][1, , 3].findIndex(x =&gt; x === undefined) // 1 å¯¹è±¡æ‰©å±• å¯¹è±¡å±æ€§ç®€å†™ï¼š 1234567891011121314let name = &#x27;å¸ƒå…°&#x27;let person = &#123; name, getName() &#123; return this.name &#125;&#125;// ç­‰åŒäºlet person1 = &#123; name: &#x27;å¸ƒå…°&#x27;, getName: function() &#123; return this.name &#125;&#125; å±æ€§åè¡¨è¾¾å¼ï¼šåœ¨ç”¨å¯¹è±¡å­—é¢é‡å®šä¹‰å¯¹è±¡çš„æ—¶å€™ï¼Œå…è®¸é€šè¿‡å±æ€§åè¡¨è¾¾å¼æ¥å®šä¹‰å¯¹è±¡å±æ€§ï¼š 1234567let name = &#x27;name&#x27;, let person = &#123; [name]: &#x27;å¸ƒå…°&#x27;, [&#x27;get&#x27;+ name]()&#123; return this.name &#125;&#125; æ–¹æ³•çš„ name å±æ€§ï¼Œå­˜åœ¨å¥½å‡ ç§æƒ…å†µï¼Œè¿™é‡Œä»…åˆ—å‡ºå¸¸è§çš„å‡ ç§ï¼š æƒ…å†µä¸€ï¼šæ™®é€šå¯¹è±¡æ–¹æ³•çš„ name å±æ€§ç›´æ¥è¿”å›æ–¹æ³•åï¼Œå‡½æ•°å£°æ˜äº¦æ˜¯å¦‚æ­¤ï¼Œå‡½æ•°è¡¨è¾¾å¼è¿”å›å˜é‡åï¼š 12345let person = &#123; hi()&#123;&#125;&#125;person.hi.name // &#x27;hi&#x27; æƒ…å†µäºŒï¼šæ„é€ å‡½æ•°çš„ name ä¸º anonymousï¼š 1(new Function).name // &#x27;anonymous&#x27; æƒ…å†µä¸‰ï¼šç»‘å®šå‡½æ•°çš„ name å°†ä¼šåœ¨å‡½æ•°åå‰åŠ ä¸Š boundï¼š 12function foo() &#123;&#125; foo.bind(&#123;&#125;).name // &#x27;bound foo&#x27; æƒ…å†µå››ï¼šå¦‚æœå¯¹è±¡çš„æ–¹æ³•ä½¿ç”¨äº†å–å€¼å‡½æ•°ï¼ˆgetterï¼‰å’Œå­˜å€¼å‡½æ•°ï¼ˆsetterï¼‰ï¼Œåˆ™ name å±æ€§ä¸æ˜¯åœ¨è¯¥æ–¹æ³•ä¸Šé¢ï¼Œè€Œæ˜¯è¯¥æ–¹æ³•çš„å±æ€§çš„æè¿°å¯¹è±¡çš„ get å’Œ set å±æ€§ä¸Šé¢ï¼š 12345678let o = &#123; get foo()&#123;&#125;, set foo(x)&#123;&#125; &#125;o.foo.name // TypeError: Cannot read property &#x27;name&#x27; of undefinedlet descriptor = Object.getOwnPropertyDescriptor(o, &quot;foo&quot;) descriptor.get.name // &quot;get foo&quot; descriptor.set.name // &quot;set foo&quot; å‚è€ƒï¼šfunction_name å±æ€§çš„å¯æšä¸¾æ€§ å¯¹è±¡çš„æ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªæè¿°å¯¹è±¡ï¼ˆDescriptorï¼‰ï¼Œç”¨æ¥æ§åˆ¶è¯¥å±æ€§çš„è¡Œä¸ºã€‚å¯ä»¥é€šè¿‡ Object.getOwnPropertyDescriptor() æ¥è·å–å¯¹è±¡æŸä¸ªå±æ€§çš„æè¿°ï¼š 12345678let person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;Object.getOwnPropertyDescriptor(person, &#x27;name&#x27;)// &#123;// configurable: true,// enumerable: true,// value: &quot;å¸ƒå…°&quot;,// writable: true,// &#125; è¿™é‡Œçš„ enumerable å°±æ˜¯å¯¹è±¡æŸä¸ªå±æ€§çš„å¯æšä¸¾å±æ€§ï¼Œå¦‚æœæŸä¸ªå±æ€§çš„ enumerable å€¼ä¸º false åˆ™è¡¨ç¤ºè¯¥å±æ€§ä¸èƒ½è¢«æšä¸¾ï¼Œæ‰€ä»¥è¯¥å±æ€§ä¼šè¢«å¦‚ä¸‹ 4 ç§æ“ä½œå¿½ç•¥ï¼š for...in ï¼šåªéå†å¯¹è±¡è‡ªèº«çš„å’Œç»§æ‰¿çš„å¯æšä¸¾çš„å±æ€§ï¼› Object.keys()ï¼šè¿”å›å¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾çš„å±æ€§çš„é”®åï¼› JSON.stringify()ï¼šåªä¸²è¡ŒåŒ–å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ï¼› Object.assign()ï¼š åªæ‹·è´å¯¹è±¡è‡ªèº«çš„å¯æšä¸¾çš„å±æ€§ã€‚ 12345678910111213141516let person = &#123; name: &#x27;å¸ƒå…°&#x27; &#125;Object.defineProperty(person, &#x27;age&#x27;, &#123; configurable: true, enumerable: false, value: 12, writable: true&#125;)person // &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;// ä»¥ä¸‹æ“ä½œéƒ½å°†å¿½ç•¥ person å¯¹è±¡çš„ age å±æ€§for (let x in person) &#123; console.log(x) // &#x27;name&#x27;&#125;Object.keys(person) // [&#x27;name&#x27;]JSON.stringify(person) // &#x27;&#123;&quot;name&quot;: &quot;å¸ƒå…°&quot;&#125;&#x27;Object.assign(&#123;&#125;, person) // &#123; name: &#x27;å¸ƒå…°&#x27; &#125; Reflect.ownKeys(obj)ï¼š è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«å¯¹è±¡è‡ªèº«çš„ï¼ˆä¸å«ç»§æ‰¿çš„ï¼‰æ‰€æœ‰é”®åï¼Œä¸ç®¡é”®åæ˜¯ Symbol æˆ–å­—ç¬¦ä¸²ï¼Œä¹Ÿä¸ç®¡æ˜¯å¦å¯æšä¸¾ï¼š 12// åŸºäºä¸Šé¢çš„ä»£ç Reflect.ownKeys(person) // [&#x27;name&#x27;, &#x27;age&#x27;] super å…³é”®å­—ï¼ŒæŒ‡å‘å¯¹è±¡çš„åŸå‹å¯¹è±¡ï¼Œåªèƒ½ç”¨äºå¯¹è±¡çš„æ–¹æ³•ä¸­ï¼Œå…¶ä»–åœ°æ–¹å°†æŠ¥é”™ï¼š 123456789101112131415161718192021let person = &#123; name: &#x27;å¸ƒå…°&#x27;, getName() &#123; return super.name &#125;&#125;Object.setPrototypeOf(person, &#123;name: &#x27;hello&#x27;&#125;)person.getName() // &#x27;hello&#x27;// ä»¥ä¸‹å‡ ç§ super çš„ä½¿ç”¨å°†æŠ¥é”™const obj1 = &#123; foo: super.foo&#125;const obj2 = &#123; foo: () =&gt; super.foo&#125;const obj3 = &#123; foo: function () &#123; return super.foo &#125;&#125; Object.is() ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œè¡¨ç°åŸºæœ¬å’Œ === ä¸€æ ·ï¼Œé™¤äº†ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š 1234+0 === -0 //trueNaN === NaN // falseObject.is(+0, -0) // falseObject.is(NaN, NaN) // true Object.assign() ç”¨äºå¯¹è±¡çš„åˆå¹¶ï¼Œå°†æºå¯¹è±¡ï¼ˆsourceï¼‰çš„æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼Œå¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼ˆtargetï¼‰ï¼Œå¦‚æœæœ‰åŒåå±æ€§ï¼Œåˆ™åé¢çš„ä¼šç›´æ¥æ›¿æ¢å‰é¢çš„ï¼š 12345let target = &#123; a: 1 &#125;let source1 = &#123; a: 2, b: 3, d: &#123;e: 1, f: 2&#125; &#125;let source2 = &#123; a: 3, c: 4, d: &#123;g: 3&#125; &#125;Object.assign(target, source1, source2)target // &#123; a: 3, b: 3, c: 4, d: &#123;g: 3&#125; &#125; Object.assign() å®è¡Œçš„æ˜¯æµ…æ‹·è´ï¼Œå¦‚æœæºå¯¹è±¡æŸä¸ªå±æ€§æ˜¯å¯¹è±¡ï¼Œé‚£ä¹ˆæ‹·è´çš„æ˜¯è¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼š 12345let target = &#123;a: &#123;b: 1&#125;&#125;let source = &#123;a: &#123;b: 2&#125;&#125;Object.assign(target, source)target.a.b = 3source.a.b // 3 __proto__ å±æ€§æ˜¯ç”¨æ¥è¯»å–å’Œè®¾ç½®å½“å‰å¯¹è±¡çš„åŸå‹ï¼Œè€Œç”±äºå…¶ä¸‹åˆ’çº¿æ›´å¤šçš„æ˜¯è¡¨é¢å…¶æ˜¯ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œæ‰€ä»¥å»ºè®®ä¸åœ¨æ­£å¼åœºåˆä½¿ç”¨å®ƒï¼Œè€Œæ˜¯ç”¨ä¸‹é¢çš„ Object.setPrototypeOf()ï¼ˆå†™æ“ä½œï¼‰ã€Object.getPrototypeOf()ï¼ˆè¯»æ“ä½œï¼‰ã€Object.create()ï¼ˆç”Ÿæˆæ“ä½œï¼‰ä»£æ›¿ã€‚ Object.setPrototypeOf() ç”¨äºè®¾ç½®å¯¹è±¡åŸå‹ï¼ŒObject.getPrototypeOf() ç”¨äºè¯»å–å¯¹è±¡åŸå‹ï¼š 123let person = &#123;name: &#x27;å¸ƒå…°&#x27;&#125;Object.setPrototypeOf(person, &#123;name: &#x27;åŠ¨ç‰©&#x27;&#125;)Object.getPrototypeOf(person) // &#123;name: &#x27;åŠ¨ç‰©&#x27;&#125; æ­£åˆ™æ‰©å±• RegExp æ„é€ å‡½æ•°ï¼Œå…è®¸é¦–å‚ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¿®é¥°ç¬¦ï¼Œå¦‚æœæœ‰ç¬¬äºŒä¸ªå‚æ•°ï¼Œåˆ™ä¿®é¥°ç¬¦ä»¥ç¬¬äºŒä¸ªä¸ºå‡†ï¼š 12let reg = new RegExp(/xYz\\d+/gi, i)reg.flags // &#x27;i&#x27; æ­£åˆ™æ–¹æ³•è°ƒç”¨å˜æ›´ï¼šå­—ç¬¦ä¸²å¯¹è±¡çš„ match()ã€replace()ã€search()ã€split() å†…éƒ¨è°ƒç”¨è½¬ä¸ºè°ƒç”¨ RegExp å®ä¾‹å¯¹åº”çš„ RegExp.prototype[Symbol.æ–¹æ³•]ï¼› u ä¿®é¥°ç¬¦ï¼šå«ä¹‰ä¸º Unicode æ¨¡å¼ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº \\uFFFF çš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœå¾…åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­å¯èƒ½åŒ…å«æœ‰å¤§äº \\uFFFF çš„å­—ç¬¦ï¼Œå°±å¿…é¡»åŠ ä¸Š u ä¿®é¥°ç¬¦ï¼Œæ‰èƒ½æ­£ç¡®å¤„ç†ã€‚ 1234567891011// åŠ ä¸Š u ä¿®é¥°ç¬¦æ‰èƒ½è®© . å­—ç¬¦æ­£ç¡®è¯†åˆ«å¤§äº \\uFFFF çš„å­—ç¬¦/^.$/.test(&#x27;ğŸ¤£&#x27;) // false/^.$/u.test(&#x27;ğŸ¤£&#x27;) // true// å¤§æ‹¬å· Unicode å­—ç¬¦è¡¨ç¤ºæ³•å¿…é¡»åŠ ä¸Š u ä¿®é¥°ç¬¦/\\u&#123;61&#125;/.test(&#x27;a&#x27;) // false/\\u&#123;61&#125;/u.test(&#x27;a&#x27;) // true// æœ‰ u ä¿®é¥°ç¬¦ï¼Œé‡è¯æ‰èƒ½æ­£ç¡®åŒ¹é…å¤§äº \\uFFFF çš„å­—ç¬¦ /ğŸ¤£&#123;2&#125;/.test(&#x27;ğŸ¤£ğŸ¤£&#x27;) // false/ğŸ¤£&#123;2&#125;/u.test(&#x27;ğŸ¤£ğŸ¤£&#x27;) // true RegExp.prototype.unicode å±æ€§è¡¨ç¤ºæ­£åˆ™æ˜¯å¦è®¾ç½®äº† u ä¿®é¥°ç¬¦ï¼š 12/ğŸ¤£/.unicode // false/ğŸ¤£/u.unicode // true y ä¿®é¥°ç¬¦ï¼Œä¸ g ä¿®é¥°ç¬¦ç±»ä¼¼ä¹Ÿæ˜¯å…¨å±€åŒ¹é…ï¼›ä¸åŒçš„æ˜¯ g æ˜¯å‰©ä½™å­—ç¬¦ä¸­åŒ¹é…å³å¯ï¼Œè€Œ y åˆ™æ˜¯å¿…é¡»åœ¨å‰©ä½™çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…æ‰è¡Œï¼Œæ‰€ä»¥ y ä¿®é¥°ç¬¦ä¹Ÿå«é»è¿ä¿®é¥°ç¬¦ï¼š 123456789let s = &#x27;aaa_aa_a&#x27;let r1 = /a+/glet r2 = /a+/yr1.exec(s) // [&quot;aaa&quot;]r2.exec(s) // [&quot;aaa&quot;]r1.exec(s) // [&quot;aa&quot;]r2.exec(s) // null RegExp.prototype.sticky å±æ€§è¡¨ç¤ºæ˜¯å¦è®¾ç½®äº† y ä¿®é¥°ç¬¦ï¼š 1/abc/y.sticky // true RegExp.prototype.flags å±æ€§ä¼šè¿”å›å½“å‰æ­£åˆ™çš„æ‰€æœ‰ä¿®é¥°ç¬¦ï¼š 1/abcğŸ¤£/iuy.flags // &#x27;iuy&#x27; å‡½æ•°æ‰©å±• å‡½æ•°å‚æ•°é»˜è®¤å€¼ã€‚å‚æ•°ä¸èƒ½æœ‰åŒåçš„ï¼Œå‡½æ•°ä½“å†…ä¸èƒ½ç”¨ let å’Œ const å£°æ˜åŒå‚æ•°åçš„å˜é‡ï¼š 1function printInfo(name = &#x27;å¸ƒå…°&#x27;, age = 12) &#123;&#125; ä½¿ç”¨å‚æ•°é»˜è®¤å€¼çš„æ—¶å€™ï¼Œå‚æ•°ä¸èƒ½æœ‰åŒåçš„ï¼š 12function f(x, x, y) &#123;&#125; // ä¸æŠ¥é”™function f(x, x, y = 1) &#123;&#125; // æŠ¥é”™ å‡½æ•°ä½“å†…ä¸èƒ½ç”¨ let å’Œ const å£°æ˜åŒå‚æ•°åçš„å˜é‡ï¼š 1234// æŠ¥é”™function f(x, y) &#123; let x = 0&#125; å‡½æ•°çš„ length å±æ€§ä¼šè¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ï¼Œä¸”å¦‚æœè®¾ç½®é»˜è®¤å€¼çš„å‚æ•°ä¸æ˜¯å°¾å‚æ•°ï¼Œåˆ™ length ä¸å†è®¡å…¥åé¢çš„å‚æ•°ï¼š 123(function f(x, y)&#123;&#125;).length // 2(function f(x, y = 1)&#123;&#125;).length // 1(function f(x = 1, y)&#123;&#125;).length // 0 å‰©ä½™ï¼ˆrestï¼‰ å‚æ•°ï¼ˆâ€¦å˜é‡åï¼‰çš„å½¢å¼ï¼Œç”¨äºè·å–å‡½æ•°çš„å‰©ä½™å‚æ•°ï¼Œæ³¨æ„ rest å‚æ•°å¿…é¡»æ”¾åœ¨æœ€åä¸€ä¸ªä½ç½®ï¼Œå¯ä»¥å¾ˆå¥½çš„ä»£æ›¿ arguments å¯¹è±¡ï¼š 1234567function f(x, ...y) &#123; console.log(x) // 1 for (let val of y) &#123; coonsole.log(val) // 2 3 &#125;&#125;f(1, 2, 3) ä¸¥æ ¼æ¨¡å¼ï¼šåªè¦å‡½æ•°å‚æ•°ä½¿ç”¨äº†é»˜è®¤å€¼ã€è§£æ„èµ‹å€¼æˆ–è€…æ‰©å±•è¿ç®—ç¬¦ï¼Œé‚£ä¹ˆå‡½æ•°ä½“å†…å°±ä¸èƒ½æ˜¾ç¤ºçš„è®¾å®šä¸ºä¸¥æ ¼æ¨¡å¼ï¼Œå› ä¸ºä¸¥æ ¼æ¨¡å¼çš„ä½œç”¨èŒƒå›´åŒ…å«äº†å‡½æ•°å‚æ•°ï¼Œè€Œå‡½æ•°æ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆæ‰§è¡Œå‚æ•°ï¼Œç„¶åå†æ‰§è¡Œå‡½æ•°ä½“ï¼Œæ‰§è¡Œåˆ°å‡½æ•°ä½“é‡Œçš„ use strict çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ­¤æ—¶å› ä¸ºå‡½æ•°å‚æ•°å·²ç»æ‰§è¡Œå®Œæˆäº†ï¼Œé‚£å‡½æ•°å‚æ•°è¿˜è¦ä¸è¦å—åˆ°ä¸¥æ ¼æ¨¡å¼çš„é™åˆ¶å‘¢ï¼Ÿè¿™å°±å‡ºç°çŸ›ç›¾äº†ã€‚è§„é¿é™åˆ¶çš„åŠæ³•æœ‰ä¸¤ä¸ªï¼šè®¾ç½®å…¨å±€çš„ä¸¥æ ¼æ¨¡å¼æˆ–è€…åœ¨å‡½æ•°ä½“å¤–åœ¨åŒ…ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¸”å£°æ˜ä¸¥æ ¼æ¨¡å¼ï¼š 1234567891011// è§£æ³•ä¸€&#x27;use strict&#x27;function f(x, y = 2) &#123; &#125;// è§£æ³•äºŒlet f = (function()&#123; &#x27;use strict&#x27; return function(x, y = 2) &#123;&#125;&#125;)() ç®­å¤´å‡½æ•°è¯­æ³•æ¯”å‡½æ•°è¡¨è¾¾å¼æ›´ç®€æ´ï¼Œå¹¶ä¸”æ²¡æœ‰è‡ªå·±çš„ thisã€argumentsï¼Œä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°å’Œç”¨ä½œç”Ÿæˆå™¨ã€‚ å‡ ç§ç®­å¤´å‡½æ•°å†™æ³•ï¼š 1234567let f1 = () =&gt; &#123;&#125; // æ²¡æœ‰å‚æ•°let f2 = (x) =&gt; &#123;&#125; // 1ä¸ªå‚æ•°let f3 = x =&gt; &#123;&#125; // 1ä¸ªå‚æ•°å¯ä»¥çœç•¥åœ†æ‹¬å·let f4 = (x, y) =&gt; &#123;&#125; // 2ä¸ªå‚æ•°ä»¥ä¸Šå¿…é¡»åŠ ä¸Šåœ†æ‹¬å·let f5 = (x = 1, y = 2) =&gt; &#123;&#125; // æ”¯æŒå‚æ•°é»˜è®¤å€¼let f6 = (x, ...y) =&gt; &#123;&#125; // æ”¯æŒ rest å‚æ•°let f7 = (&#123;x = 1, y = 2&#125; = &#123;&#125;) // æ”¯æŒå‚æ•°è§£æ„ ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼š 1234567function Person()&#123; this.age = 0 setInterval(() =&gt; &#123; this.age++ &#125;, 1000)&#125;var p = new Person() // 1 ç§’å Person &#123;age: 1&#125; é€šè¿‡ call/apply è°ƒç”¨ç®­å¤´å‡½æ•°çš„æ—¶å€™å°†ä¸ä¼šç»‘å®šç¬¬ä¸€ä¸ªå‚æ•°çš„ä½œç”¨åŸŸï¼š 12345678910111213141516let adder = &#123; base: 1, add: function(a) &#123; let f = v =&gt; v + this.base return f(a) &#125;, addThruCall: function(a) &#123; let f = v =&gt; v + this.base let b = &#123; base: 2 &#125; return f.call(b, a) &#125;&#125;adder.add(1) // è¾“å‡º 2adder.addThruCall(1) // ä»ç„¶è¾“å‡º 2 ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ arguments å¯¹è±¡ï¼Œä¸è¿‡å¯ä»¥ä½¿ç”¨ rest å‚æ•°ä»£æ›¿ï¼š 12345678910let log = () =&gt; &#123; console.log(arguments) // ReferenceError&#125;log(2, 3)// å‰©ä½™å‚æ•°ä»£æ›¿å†™æ³•let restLog = (...arr) =&gt; &#123; console.log(arr) // [2, 3]&#125;restLog(2, 3) ç®­å¤´å‡½æ•°ä¸èƒ½ç”¨ä½œæ„é€ å™¨ï¼Œå’Œ new ä¸€èµ·ç”¨ä¼šæŠ›å‡ºé”™è¯¯ï¼š 123let Foo = () =&gt; &#123;&#125;let foo = new Foo()// TypeError: Foo is not a constructor ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡å­—é¢é‡ï¼Œéœ€è¦ç”¨åœ†æ‹¬å·åŒ…èµ·æ¥ï¼š 1let func2 = () =&gt; (&#123;foo: 1&#125;) å‚è€ƒï¼šArrow_functions å°¾è°ƒç”¨å’Œå°¾é€’å½’ é¦–å…ˆå¾—çŸ¥é“ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨ï¼šå‡½æ•°çš„æœ€åä¸€æ­¥è°ƒç”¨å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼š 123456789101112131415161718// æ˜¯å°¾è°ƒç”¨function f(x) &#123; return g(x)&#125;// ä»¥ä¸‹éƒ½ä¸æ˜¯å°¾è°ƒç”¨function f(x) &#123; let y = g(x) return y&#125;function f(x) &#123; let y = g(x) return g(x) + 1&#125;function f(x) &#123; g(x) // å› ä¸ºæœ€åä¸€æ­¥æ˜¯ return: undefined&#125; å°¾è°ƒç”¨æœ‰å•¥ç”¨ï¼Ÿæˆ‘ä»¬çŸ¥é“å‡½æ•°çš„ç›¸äº’è°ƒç”¨æ˜¯ä¼šç”Ÿæˆâ€œè°ƒç”¨å¸§â€çš„ï¼Œè€Œâ€œè°ƒç”¨å¸§â€é‡Œå­˜äº†å„ç§ä¿¡æ¯æ¯”å¦‚å‡½æ•°çš„å†…éƒ¨å˜é‡å’Œè°ƒç”¨å‡½æ•°çš„ä½ç½®ç­‰ï¼Œæ‰€æœ‰çš„â€œè°ƒç”¨å¸§â€ç»„æˆäº†ä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ã€‚å¦‚æœåœ¨å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œè°ƒç”¨äº†å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œå› ä¸ºå¤–å±‚å‡½æ•°é‡Œè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œæ‰€æœ‰å°±æ— éœ€ä¿ç•™å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å–ä»£å¤–å±‚å‡½æ•°çš„â€œè°ƒç”¨å¸§â€å³å¯ï¼š 123456789101112131415function f() &#123; let m = 1 let n = 2 return g(m + n)&#125;f()// ç­‰åŒäºfunction f() &#123; return g(3)&#125;f()// ç­‰åŒäºg(3) è¿™æ ·ä¸€æ¥å°±å¾ˆæ˜æ˜¾çš„å‡å°‘äº†è°ƒç”¨æ ˆä¸­çš„å¸§æ•°ï¼Œå†…å­˜å ç”¨å°±å°‘äº†ï¼Œæ‰€ä»¥è¿™å°±æ˜¯å°¾è°ƒç”¨çš„ä¼˜åŒ–ä½œç”¨ã€‚å°¾é€’å½’ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé€’å½’å¦‚æœæ¬¡æ•°å¤šé‚£å°±éœ€è¦ä¿ç•™éå¸¸å¤šçš„â€œè°ƒç”¨å¸§â€ï¼Œæ‰€ä»¥ç»å¸¸ä¼šå‡ºç°æ ˆæº¢å‡ºé”™è¯¯ï¼Œè€Œä½¿ç”¨äº†å°¾é€’å½’ä¼˜åŒ–åå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºçš„é”™è¯¯äº†ï¼š 12345678910111213// å¸¸è§„é€’å½’çš„æ–æ³¢é‚£å¥‘å‡½æ•°function Fibonacci(n) &#123; if ( n &lt;= 1 ) &#123;return 1&#125; return Fibonacci(n - 1) + Fibonacci(n - 2)&#125;Fibonacci(100) // è¶…æ—¶// å°¾é€’å½’ä¼˜åŒ–åçš„æ–æ³¢é‚£å¥‘å‡½æ•°function Fibonacci2(n, ac1 = 1, ac2 = 1) &#123; if( n &lt;= 1 ) &#123;return ac2&#125; return Fibonacci2(n - 1, ac2, ac1 + ac2)&#125;sFibonacci2(100) // 573147844013817200000 Symbol Symbol æ˜¯ä¸€ä¸ªæ–°çš„åŸå§‹ç±»å‹ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œå¯ä»¥é€šè¿‡ Symbol() å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ª Symbol ç±»å‹çš„å€¼ï¼Œä¸ºäº†åŠ ä»¥åŒºåˆ†ï¼Œå¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå…¶æè¿°ï¼š 123let s1 = Symbol(&#x27;foo&#x27;) let s2 = Symbol(&#x27;foo&#x27;)s1 === s2 // false Symbol ç±»å‹æ— æ³•é€šè¿‡æ•°å­¦è¿ç®—ç¬¦è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ String() æ˜¾ç¤ºè½¬æˆå­—ç¬¦ä¸²æˆ–è€…é€šè¿‡ Boolean() æ˜¾ç¤ºè½¬æˆå¸ƒå°”å€¼ï¼š 1234let s = Symbol(&#x27;foo&#x27;)String(s) // &quot;Symbol(&#x27;foo&#x27;)&quot;s.toString() // &quot;Symbol(&#x27;foo&#x27;)&quot;Boolean(s) // true å¼•å…¥ Symbol æœ€å¤§çš„åˆè¡·å…¶å®å°±æ˜¯ä¸ºäº†è®©å®ƒä½œä¸ºå¯¹è±¡çš„å±æ€§åè€Œä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…å±æ€§åçš„å†²çªäº†ï¼š 1234567let foo = Symbol(&#x27;foo&#x27;)let obj = &#123; [foo]: &#x27;foo1&#x27;, foo: &#x27;foo2&#x27;&#125;obj[foo] // &#x27;foo1&#x27;obj.foo // &#x27;foo2&#x27; Symbol å±æ€§çš„ä¸å¯æšä¸¾æ€§ï¼Œä¸ä¼šè¢« for...inã€for...ofã€Object.keys()ã€Object.getOwnPropertyNames()ã€JSON.stringify() ç­‰æšä¸¾ï¼š 12345678910let person = &#123; name: &#x27;å¸ƒå…°&#x27;, [Symbol(&#x27;age&#x27;)]: 12,&#125;for (let x in person) &#123; console.log(x) // &#x27;name&#x27;&#125;Object.keys(person) // [&#x27;name&#x27;]Object.getOwnPropertyNames(person) // [&#x27;name&#x27;]JSON.stringify(person) // &#x27;&#123;&quot;name&quot;:&quot;å¸ƒå…°&quot;&#125;&#x27; ä½†æ˜¯å¯ä»¥é€šè¿‡ Object.getOwnPropertySymbols() è·å–åˆ°å¯¹è±¡çš„æ‰€æœ‰ Symbol å±æ€§åï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼š 12// åŸºäºä¸Šé¢çš„ä»£ç Object.getOwnPropertySymbols(person) // [Symbol(age)] é™æ€æ–¹æ³•ï¼š Symbol.for() æŒ‰ç…§æè¿°å»å…¨å±€æŸ¥æ‰¾ Symbolï¼Œæ‰¾ä¸åˆ°åˆ™åœ¨å…¨å±€ç™»è®°ä¸€ä¸ªï¼š 123let s1 = Symbol.for(&#x27;foo&#x27;)let s2 = Symbol.for(&#x27;foo&#x27;)s1 === s2 // true Symbol.for() çš„è¿™ä¸ªå…¨å±€ç™»è®°ç‰¹æ€§ï¼Œå¯ä»¥ç”¨åœ¨ä¸åŒçš„ iframe æˆ– service worker ä¸­å–åˆ°åŒä¸€ä¸ªå€¼ã€‚ Symbol.keyFor() æ ¹æ®å·²ç»åœ¨å…¨å±€ç™»è®°çš„ Symbol æŸ¥æ‰¾å…¶æè¿°ï¼š 12let s = Symbol.for(&#x27;foo&#x27;)Symbol.keyFor(s) // &#x27;foo&#x27; Symbol çš„å†…ç½®å€¼ï¼š Symbol.hasInstanceï¼šæŒ‡å‘ä¸€ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œå½“å…¶ä»–å¯¹è±¡ä½¿ç”¨ instanceof è¿ç®—ç¬¦åˆ¤æ–­æ˜¯å¦ä¸ºæ­¤å¯¹è±¡çš„å®ä¾‹æ—¶ä¼šè°ƒç”¨æ­¤æ–¹æ³•ï¼› Symbol.isConcatSpreadableï¼šæŒ‡å‘ä¸€ä¸ªå¸ƒå°”ï¼Œå®šä¹‰å¯¹è±¡ç”¨äº Array.prototype.concat() æ—¶æ˜¯å¦å¯å±•å¼€ï¼› Symbol.speciesï¼šæŒ‡å‘ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡ä½¿ç”¨è‡ªèº«æ„é€ å‡½æ•°æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„æ„é€ å‡½æ•°ï¼› Symbol.matchï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« String.prototype.match() è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰match()çš„è¡Œä¸ºï¼› Symbol.replaceï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« String.prototype.replace() è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ replace() çš„è¡Œä¸ºï¼› Symbol.searchï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« String.prototype.search() è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ search() çš„è¡Œä¸ºï¼›s Symbol.splitï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« String.prototype.split() è°ƒç”¨æ—¶ä¼šé‡æ–°å®šä¹‰ split() çš„è¡Œä¸ºï¼› Symbol.iteratorï¼šæŒ‡å‘ä¸€ä¸ªé»˜è®¤éå†å™¨æ–¹æ³•ï¼Œå½“å®ä¾‹å¯¹è±¡æ‰§è¡Œ for...of æ—¶ä¼šè°ƒç”¨æŒ‡å®šçš„é»˜è®¤éå†å™¨ï¼› Symbol.toPrimitiveï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢«è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼æ—¶ä¼šè¿”å›æ­¤å¯¹è±¡å¯¹åº”çš„åŸå§‹ç±»å‹å€¼ï¼› Symbol.toStringTagï¼šæŒ‡å‘ä¸€ä¸ªå‡½æ•°ï¼Œå½“å®ä¾‹å¯¹è±¡è¢« Object.prototype.toString() è°ƒç”¨æ—¶å…¶è¿”å›å€¼ä¼šå‡ºç°åœ¨ toString() è¿”å›çš„å­—ç¬¦ä¸²ä¹‹ä¸­è¡¨ç¤ºå¯¹è±¡çš„ç±»å‹ï¼› Symbol.unscopablesï¼šæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šä½¿ç”¨ with æ—¶å“ªäº›å±æ€§ä¼šè¢« with ç¯å¢ƒæ’é™¤ï¼› Set Set æ˜¯ä¸€ç§æ–°çš„æ•°æ®ç»“æ„ï¼Œç±»ä¼¼æ•°ç»„ï¼Œä½†æ˜¯å®ƒæ²¡æœ‰é”®åªæœ‰å€¼ï¼Œä¸”å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚å¯ä»¥é€šè¿‡æ„é€ å‡½æ•°ç”Ÿæˆä¸€ä¸ªæ–°å®ä¾‹ï¼Œæ¥æ”¶ä¸€ä¸ªæ•°ç»„æˆ–è€…å¯è¿­ä»£æ•°æ®ç»“æ„ä½œä¸ºå‚æ•°ï¼š 12new Set([1, 2, 3]) // Set &#123;1, 2, 3&#125;new Set(&#x27;abc&#x27;) // Set &#123;&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;&#125; Set åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯ä¸æ˜¯ç›¸ç­‰ç”¨çš„æ˜¯ sameValueZero ç®—æ³•ï¼Œç±»ä¼¼äº ===ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨ Set é‡Œ NaN ä¹‹é—´è¢«è®¤ä¸ºæ˜¯ç›¸ç­‰çš„ï¼š 123456let set = new Set()let a = NaNlet b = NaNset.add(a)set.add(b)set.size // 1 ç›¸åŒå¯¹è±¡çš„ä¸åŒå®ä¾‹ä¹Ÿè¢« Set è®¤ä¸ºæ˜¯ä¸ç›¸ç­‰çš„ï¼š 123456let set = new Set()let a = &#123;a: 1&#125;let b = &#123;a: 1&#125;set.add(a)set.add(b)set.size // 2 Set æ˜¯æœ‰é¡ºåºçš„ï¼Œå°†æŒ‰ç…§æ’å…¥çš„é¡ºåºè¿›è¡Œè¿­ä»£ï¼Œå¯ä»¥ä½¿ç”¨ for...of è¿­ä»£ï¼š 123456let set = new Set([1, 3])set.add(5)set.add(7)for(let x of set) &#123; console.log(x)&#125; Set å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼š Set.prototype.constructorï¼šæ„é€ å‡½æ•°ï¼Œé»˜è®¤å°±æ˜¯ Set å‡½æ•°ï¼› Set.prototype.sizeï¼šè¿”å› Set å®ä¾‹çš„æˆå‘˜æ€»æ•°ï¼› Set.prototype.add(value)ï¼šæ·»åŠ æŸä¸ªå€¼ï¼Œè¿”å› Set ç»“æ„æœ¬èº«ï¼› Set.prototype.delete(value)ï¼šåˆ é™¤æŸä¸ªå€¼ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºåˆ é™¤æ˜¯å¦æˆåŠŸï¼› Set.prototype.has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥å€¼æ˜¯å¦ä¸ºSetçš„æˆå‘˜ï¼› Set.prototype.clear()ï¼šæ¸…é™¤æ‰€æœ‰æˆå‘˜ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼› Set.prototype.keys()ï¼šè¿”å›é”®åçš„éå†å™¨ï¼› Set.prototype.values()ï¼šè¿”å›é”®å€¼çš„éå†å™¨ï¼› Set.prototype.entries()ï¼šè¿”å›é”®å€¼å¯¹çš„éå†å™¨ï¼› Set.prototype.forEach()ï¼šä½¿ç”¨å›è°ƒå‡½æ•°éå†æ¯ä¸ªæˆå‘˜ï¼› 12345678let set = new Set([1, 3])set.add(5) // Set &#123;1, 3, 5&#125;set.size // 3set.delete(1) // trueï¼Œ1 å·²è¢«åˆ é™¤set.has(1) // falseset.keys() // SetIterator &#123;3, 5&#125;set.clear()set.size // 0 Set åº”ç”¨åœºæ™¯ï¼š æ•°ç»„å»é‡ï¼š 12[...new Set([1, 3, 6, 3, 1])] // [1, 3, 6]Array.from(new Set([1, 3, 6, 3, 1])) // [1, 3, 6] å­—ç¬¦ä¸²å»é‡ï¼š 1[...new Set(&#x27;abcbacd&#x27;)].join(&#x27;&#x27;) // &#x27;abcd&#x27; æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†/å¹¶é›†/å·®é›†ï¼š 1234567891011let a = new Set([1, 2, 3])let b = new Set([4, 3, 2])// å¹¶é›†let union = new Set([...a, ...b]) // Set &#123;1, 2, 3, 4&#125;// äº¤é›†let intersect = new Set([...a].filter(x =&gt; b.has(x))) // set &#123;2, 3&#125;// ï¼ˆa ç›¸å¯¹äº b çš„ï¼‰å·®é›†let difference = new Set([...a].filter(x =&gt; !b.has(x))) // Set &#123;1&#125; éå†ä¿®æ”¹é›†åˆæˆå‘˜çš„å€¼ï¼š 1234567let set = new Set([1, 2, 3])// æ–¹æ³•ä¸€let set1 = new Set([...set].map(val =&gt; val * 2)) // Set &#123;2, 3, 6&#125;// æ–¹æ³•äºŒlet set2 = new Set(Array.from(set, val =&gt; val * 2)) // Set &#123;2, 4, 6&#125; WeakSet WeakSet å¯¹è±¡å…è®¸å°†å¼±ä¿æŒå¯¹è±¡å­˜å‚¨åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼š 12345let ws = new WeakSet()let foo = &#123;&#125;ws.add(foo) // WeakSet &#123;&#123;&#125;&#125;ws.has(foo) // truews.delete(foo) // WeakSet &#123;&#125; å’Œ Set çš„åŒºåˆ«ï¼š WeakSet åªèƒ½æ˜¯å¯¹è±¡çš„é›†åˆï¼Œè€Œä¸èƒ½æ˜¯ä»»ä½•ç±»å‹çš„ä»»æ„å€¼ï¼› WeakSet æŒå¼±å¼•ç”¨ï¼šé›†åˆä¸­å¯¹è±¡çš„å¼•ç”¨ä¸ºå¼±å¼•ç”¨ã€‚å¦‚æœæ²¡æœ‰å…¶ä»–çš„å¯¹ WeakSet ä¸­å¯¹è±¡çš„å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™äº›å¯¹è±¡ä¼šè¢«å½“æˆåƒåœ¾å›æ”¶æ‰ã€‚è¿™ä¹Ÿæ„å‘³ç€ WeakSet ä¸­æ²¡æœ‰å­˜å‚¨å½“å‰å¯¹è±¡çš„åˆ—è¡¨ã€‚æ­£å› ä¸ºè¿™æ ·ï¼ŒWeakSet æ˜¯ä¸å¯æšä¸¾çš„ï¼Œä¹Ÿå°±æ²¡æœ‰ size å±æ€§ï¼Œæ²¡æœ‰ clear å’Œéå†çš„æ–¹æ³•ã€‚ å®ä¾‹æ–¹æ³•ï¼š WeakSet.prototype.add(value)ï¼šæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  valueï¼› WeakSet.prototype.delete(value)ï¼šä»è¯¥ WeakSet å¯¹è±¡ä¸­åˆ é™¤ value è¿™ä¸ªå…ƒç´ ï¼› WeakSet.prototype.has(value)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼, è¡¨ç¤ºç»™å®šçš„å€¼ value æ˜¯å¦å­˜åœ¨äºè¿™ä¸ª WeakSet ä¸­ï¼› Map Map æ˜¯ä¸€ç§ç±»ä¼¼äº Object çš„è¿™ç§é”®å€¼å¯¹çš„æ•°æ®ç»“æ„ï¼ŒåŒºåˆ«æ˜¯å¯¹è±¡çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–è€… Symbolï¼Œè€Œ Map çš„é”®å¯ä»¥æ˜¯ä»»ä½•ç±»å‹ï¼ˆåŸå§‹ç±»å‹ã€å¯¹è±¡æˆ–è€…å‡½æ•°ï¼‰ï¼Œå¯ä»¥é€šè¿‡ Map æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œå…¥å‚æ˜¯å…·æœ‰ Iterator æ¥å£ä¸”æ¯ä¸ªæˆå‘˜éƒ½æ˜¯ä¸€ä¸ªåŒå…ƒç´ æ•°ç»„ [key, value] çš„æ•°æ®ç»“æ„ï¼š 12345let map1 = new Map()map1.set(&#123;&#125;, &#x27;foo&#x27;)let arr = [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]]let map2 = new Map(arr) Map ä¸­çš„é”®å’Œ Set é‡Œçš„å€¼ä¸€æ ·ä¹Ÿå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œéµå¾ª sameValueZero ç®—æ³•ï¼Œå¯¹äºåŒä¸€ä¸ªé”®åé¢æ’å…¥çš„ä¼šè¦†ç›–å‰é¢çš„ï¼Œ 12345let map = new Map()let foo = &#123;foo: &#x27;foo&#x27;&#125;map.set(foo, &#x27;foo1&#x27;)map.set(foo, &#x27;foo2&#x27;)map.get(foo) // &#x27;foo2&#x27; å¯¹äºé”®ååŒä¸º NaN ä»¥åŠç›¸åŒå¯¹è±¡è€Œä¸åŒå®ä¾‹çš„å¤„ç†åŒ Set çš„å€¼ä¸€æ ·ï¼š 1234567891011121314let a = NaNlet b = NaNlet map = new Map()map.set(a, &#x27;a&#x27;)map.set(b, &#x27;b&#x27;)map.size // 1map.get(a) // &#x27;b&#x27;let c = &#123;c: &#x27;c&#x27;&#125;let d = &#123;c: &#x27;c&#x27;&#125;map.set(c, &#x27;c&#x27;)map.set(d, &#x27;d&#x27;)map.size // 3map.get(c) // &#x27;c&#x27; å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼š Map.prototype.sizeï¼šè¿”å› Map å¯¹è±¡çš„é”®å€¼å¯¹æ•°é‡ï¼› Map.prototype.set(key, value)ï¼šè®¾ç½® Map å¯¹è±¡ä¸­é”®çš„å€¼ã€‚è¿”å›è¯¥ Map å¯¹è±¡ï¼› Map.prototype.get(key)ï¼š è¿”å›é”®å¯¹åº”çš„å€¼ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› undefinedï¼› Map.prototype.has(key)ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤º Map å®ä¾‹æ˜¯å¦åŒ…å«é”®å¯¹åº”çš„å€¼ï¼› Map.prototype.delete(key)ï¼š å¦‚æœ Map å¯¹è±¡ä¸­å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™ç§»é™¤å®ƒå¹¶è¿”å› trueï¼› Map.prototype.clear()ï¼š ç§»é™¤ Map å¯¹è±¡çš„æ‰€æœ‰é”®/å€¼å¯¹ï¼› Map.prototype.keys()ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Iterator å¯¹è±¡ï¼Œ å®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† Map å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„é”®ï¼› Map.prototype.values()ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Iterator å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† Map å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼ï¼› Map.prototype.entries()ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Iterator å¯¹è±¡ï¼Œå®ƒæŒ‰æ’å…¥é¡ºåºåŒ…å«äº† Map å¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„ [key, value] æ•°ç»„ï¼› Map.prototype.forEach(callbackFn[, thisArg])ï¼šæŒ‰æ’å…¥é¡ºåºéå† Mapï¼› 123456789101112131415let map = new Map()map.set(&#123;a: 1&#125;, &#x27;a&#x27;)map.set(&#123;a: 2&#125;, &#x27;b&#x27;)for (let [key, value] of map) &#123; console.log(key, value)&#125;// &#123;a: 1&#125; &#x27;a&#x27;// &#123;a: 2&#125; &#x27;b&#x27;for (let key of map.keys()) &#123; console.log(key)&#125;// &#123;a: 1&#125;// &#123;a: 2&#125; WeakMap ç±»ä¼¼äº Map çš„ç»“æ„ï¼Œä½†æ˜¯é”®å¿…é¡»æ˜¯å¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œæ³¨æ„å¼±å¼•ç”¨çš„æ˜¯é”®åè€Œä¸æ˜¯é”®å€¼ï¼Œå› è€Œ WeakMap æ˜¯ä¸èƒ½è¢«è¿­ä»£çš„ï¼› 12345let wm = new WeakMap()let foo = &#123;name: &#x27;foo&#x27;&#125;wm.set(foo, &#x27;a&#x27;) // Weakwm.get(foo) // &#x27;a&#x27;wm.has(foo) // true è™½ç„¶ wm çš„é”®å¯¹ foo å¯¹è±¡æœ‰å¼•ç”¨ï¼Œä½†æ˜¯ä¸æ¯«ä¸ä¼šé˜»æ­¢ foo å¯¹è±¡è¢« GC å›æ”¶ã€‚å½“å¼•ç”¨å¯¹è±¡ foo è¢«åƒåœ¾å›æ”¶ä¹‹åï¼Œwm çš„ foo é”®å€¼å¯¹ä¹Ÿä¼šè‡ªåŠ¨ç§»é™¤ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨åˆ é™¤å¼•ç”¨ã€‚ å®ä¾‹æ–¹æ³•ï¼š WeakMap.prototype.delete(key)ï¼šç§»é™¤ key çš„å…³è”å¯¹è±¡ï¼› WeakMap.prototype.get(key)ï¼šè¿”å›keyå…³è”å¯¹è±¡, æˆ–è€… undefined(æ²¡æœ‰keyå…³è”å¯¹è±¡æ—¶)ï¼› WeakMap.prototype.has(key)ï¼šæ ¹æ®æ˜¯å¦æœ‰ key å…³è”å¯¹è±¡è¿”å›ä¸€ä¸ª Boolean å€¼ï¼› WeakMap.prototype.set(key, value)ï¼šåœ¨ WeakMap ä¸­è®¾ç½®ä¸€ç»„ key å…³è”å¯¹è±¡ï¼Œè¿”å›è¿™ä¸ª WeakMap å¯¹è±¡ï¼› Proxy Proxy ç”¨æ¥å®šä¹‰åŸºæœ¬æ“ä½œçš„çš„è‡ªå®šä¹‰è¡Œä¸ºï¼Œå¯ä»¥ç†è§£ä¸ºå½“å¯¹ç›®æ ‡å¯¹è±¡ target è¿›è¡ŒæŸä¸ªæ“ä½œä¹‹å‰ä¼šå…ˆè¿›è¡Œæ‹¦æˆªï¼ˆæ‰§è¡Œ handler é‡Œå®šä¹‰çš„æ–¹æ³•ï¼‰ï¼Œå¿…é¡»è¦å¯¹ Proxy å®ä¾‹è¿›è¡Œæ“ä½œæ‰èƒ½è§¦å‘æ‹¦æˆªï¼Œå¯¹ç›®æ ‡å¯¹è±¡æ“ä½œæ˜¯ä¸ä¼šæ‹¦æˆªçš„ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼å®šä¹‰ä¸€ä¸ªä»£ç†å®ä¾‹ 12345678let proxy = new Proxy(target, handler)let instance = new Proxy(&#123;name: &#x27;å¸ƒå…°&#x27;&#125;, &#123; get(target, propKey, receiver) &#123; return `hello, $&#123;target.name&#125;` &#125;,&#125;)instance.name // &#x27;hello, å¸ƒå…°&#x27; å¦‚æœ handle æ²¡æœ‰è®¾ç½®ä»»ä½•æ‹¦æˆªï¼Œé‚£ä¹ˆå¯¹å®ä¾‹çš„æ“ä½œå°±ä¼šè½¬å‘åˆ°ç›®æ ‡å¯¹è±¡èº«ä¸Šï¼š 1234let target = &#123;&#125;let proxy = new Proxy(target, &#123;&#125;)proxy.name = &#x27;å¸ƒå…°&#x27;target.name // &#x27;å¸ƒå…°&#x27; ç›®æ ‡å¯¹è±¡è¢« Proxy ä»£ç†çš„æ—¶å€™ï¼Œå†…éƒ¨çš„ this ä¼šæŒ‡å‘ä»£ç†çš„å®ä¾‹ï¼š 123456789const target = &#123; m: function () &#123; console.log(this === proxy) &#125;&#125;const handler = &#123;&#125;const proxy = new Proxy(target, handler)target.m() // falseproxy.m() // true é™æ€æ–¹æ³•ï¼š Proxy.revocable() ç”¨ä»¥å®šä¹‰ä¸€ä¸ªå¯æ’¤é”€çš„ Proxyï¼š 12345678let target = &#123;&#125;let handler = &#123;&#125;let &#123;proxy, revoke&#125; = Proxy.revocable(target, handler)proxy.foo = 123proxy.foo // 123revoke()proxy.foo // TypeError handle å¯¹è±¡çš„æ–¹æ³•ï¼š get(target, propKey, receiver)ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è¯»å–ï¼Œæ¯”å¦‚proxy.fooå’Œproxy[â€˜fooâ€™]ã€‚ set(target, propKey, value, receiver)ï¼šæ‹¦æˆªå¯¹è±¡å±æ€§çš„è®¾ç½®ï¼Œæ¯”å¦‚ proxy.foo = væˆ–proxy[&#39;foo&#39;] = vï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ has(target, propKey)ï¼šæ‹¦æˆª propKey in proxy çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚deleteProperty(target, propKey)ï¼šæ‹¦æˆª delete proxy[propKey] çš„æ“ä½œï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ ownKeys(target)ï¼šæ‹¦æˆª Object.getOwnPropertyNames(proxy)ã€Object.getOwnPropertySymbols(proxy)ã€Object.keys(proxy)ã€for...in å¾ªç¯ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ã€‚è¯¥æ–¹æ³•è¿”å›ç›®æ ‡å¯¹è±¡æ‰€æœ‰è‡ªèº«çš„å±æ€§çš„å±æ€§åï¼Œè€Œ Object.keys() çš„è¿”å›ç»“æœä»…åŒ…æ‹¬ç›®æ ‡å¯¹è±¡è‡ªèº«çš„å¯éå†å±æ€§ã€‚ getOwnPropertyDescriptor(target, propKey)ï¼šæ‹¦æˆªObject.getOwnPropertyDescriptor(proxy, propKey)ï¼Œè¿”å›å±æ€§çš„æè¿°å¯¹è±¡ã€‚ defineProperty(target, propKey, propDesc)ï¼šæ‹¦æˆª Object.defineProperty(proxy, propKey, propDesc)ã€Object.defineProperties(proxy, propDescs)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ preventExtensions(target)ï¼šæ‹¦æˆª Object.preventExtensions(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ getPrototypeOf(target)ï¼šæ‹¦æˆª Object.getPrototypeOf(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚ isExtensible(target)ï¼šæ‹¦æˆª Object.isExtensible(proxy)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚ setPrototypeOf(target, proto)ï¼šæ‹¦æˆª Object.setPrototypeOf(proxy, proto)ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ã€‚å¦‚æœç›®æ ‡å¯¹è±¡æ˜¯å‡½æ•°ï¼Œé‚£ä¹ˆè¿˜æœ‰ä¸¤ç§é¢å¤–æ“ä½œå¯ä»¥æ‹¦æˆªã€‚ apply(target, object, args)ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºå‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚proxy(...args)ã€proxy.call(object, ...args)ã€proxy.apply(...)ã€‚ construct(target, args)ï¼šæ‹¦æˆª Proxy å®ä¾‹ä½œä¸ºæ„é€ å‡½æ•°è°ƒç”¨çš„æ“ä½œï¼Œæ¯”å¦‚ new proxy(...args)ã€‚ Reflect Reflect æ˜¯ä¸€ä¸ªå†…ç½®çš„å¯¹è±¡ï¼Œå®ƒæä¾›æ‹¦æˆª JavaScript æ“ä½œçš„æ–¹æ³•ã€‚è¿™äº›æ–¹æ³•ä¸ proxy handlers çš„æ–¹æ³•ç›¸åŒã€‚Reflect ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå› æ­¤å®ƒæ˜¯ä¸å¯æ„é€ çš„ã€‚ è®¾è®¡çš„ç›®çš„ï¼š å°† Object å±äºè¯­è¨€å†…éƒ¨çš„æ–¹æ³•æ”¾åˆ° Reflect ä¸Šï¼› ä¿®æ”¹æŸäº› Object æ–¹æ³•çš„è¿”å›ç»“æœï¼Œè®©å…¶å˜å¾—æ›´åˆç†ï¼› è®© Object æ“ä½œå˜æˆå‡½æ•°è¡Œä¸ºï¼› Proxy handles ä¸ Reflect æ–¹æ³•ä¸€ä¸€å¯¹åº”ï¼Œå‰è€…ç”¨äºå®šä¹‰è‡ªå®šä¹‰è¡Œä¸ºï¼Œè€Œåè€…ç”¨äºæ¢å¤é»˜è®¤è¡Œä¸ºï¼› é™æ€æ–¹æ³•ï¼š Reflect.apply(target, thisArgument, argumentsList) å¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡Œè°ƒç”¨æ“ä½œï¼ŒåŒæ—¶å¯ä»¥ä¼ å…¥ä¸€ä¸ªæ•°ç»„ä½œä¸ºè°ƒç”¨å‚æ•°ã€‚å’Œ Function.prototype.apply() åŠŸèƒ½ç±»ä¼¼ï¼› Reflect.construct(target, argumentsList[, newTarget]) å¯¹æ„é€ å‡½æ•°è¿›è¡Œ new æ“ä½œï¼Œç›¸å½“äºæ‰§è¡Œ new target(...args)ï¼› Reflect.defineProperty(target, propertyKey, attributes) å’Œ Object.defineProperty() ç±»ä¼¼ã€‚å¦‚æœè®¾ç½®æˆåŠŸå°±ä¼šè¿”å› trueï¼› Reflect.deleteProperty(target, propertyKey) ä½œä¸ºå‡½æ•°çš„ delete æ“ä½œç¬¦ï¼Œç›¸å½“äºæ‰§è¡Œ delete target[name]ï¼› Reflect.get(target, propertyKey[, receiver]) è·å–å¯¹è±¡èº«ä¸ŠæŸä¸ªå±æ€§çš„å€¼ï¼Œç±»ä¼¼äº target[name]ï¼› Reflect.getOwnPropertyDescriptor(target, propertyKey) ç±»ä¼¼äº Object.getOwnPropertyDescriptor()ã€‚å¦‚æœå¯¹è±¡ä¸­å­˜åœ¨è¯¥å±æ€§ï¼Œåˆ™è¿”å›å¯¹åº”çš„å±æ€§æè¿°ç¬¦, å¦åˆ™è¿”å› undefinedï¼› Reflect.getPrototypeOf(target) ç±»ä¼¼äº Object.getPrototypeOf()ï¼› Reflect.has(target, propertyKey) åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨æŸä¸ªå±æ€§ï¼Œå’Œ in è¿ç®—ç¬¦ çš„åŠŸèƒ½å®Œå…¨ç›¸åŒï¼› Reflect.isExtensible(target) ç±»ä¼¼äº Object.isExtensible()ï¼› Reflect.ownKeys(target) è¿”å›ä¸€ä¸ªåŒ…å«æ‰€æœ‰è‡ªèº«å±æ€§ï¼ˆä¸åŒ…å«ç»§æ‰¿å±æ€§ï¼‰çš„æ•°ç»„ã€‚(ç±»ä¼¼äº Object.keys(), ä½†ä¸ä¼šå— enumerable å½±å“)ï¼› Reflect.preventExtensions(target) ç±»ä¼¼äº Object.preventExtensions()ã€‚è¿”å›ä¸€ä¸ª Booleanï¼› Reflect.set(target, propertyKey, value[, receiver]) å°†å€¼åˆ†é…ç»™å±æ€§çš„å‡½æ•°ã€‚è¿”å›ä¸€ä¸ª Booleanï¼Œå¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› trueï¼› Reflect.setPrototypeOf(target, prototype) è®¾ç½®å¯¹è±¡åŸå‹çš„å‡½æ•°. è¿”å›ä¸€ä¸ª Booleanï¼Œ å¦‚æœæ›´æ–°æˆåŠŸï¼Œåˆ™è¿”å› trueï¼› Class å¯ä»¥ç”¨ class å…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªç±»ï¼Œç±»æ˜¯å¯¹ä¸€ç±»å…·æœ‰å…±åŒç‰¹å¾çš„äº‹ç‰©çš„æŠ½è±¡ï¼Œå°±æ¯”å¦‚å¯ä»¥æŠŠå°ç‹—å®šä¹‰ä¸ºä¸€ä¸ªç±»ï¼Œå°ç‹—æœ‰åå­—ä¼šå«ä¹Ÿä¼šè·³ï¼›ç±»æ˜¯ç‰¹æ®Šçš„å‡½æ•°ï¼Œå°±åƒå‡½æ•°å®šä¹‰çš„æ—¶å€™æœ‰å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ä¸€æ ·ï¼Œç±»çš„å®šä¹‰ä¹Ÿæœ‰ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼ï¼Œä¸è¿‡ç±»å£°æ˜ä¸åŒäºå‡½æ•°å£°æ˜ï¼Œå®ƒæ˜¯æ— æ³•æå‡çš„ï¼›ç±»ä¹Ÿæœ‰ name å±æ€§ 123456789101112131415// ç±»å£°æ˜class Dog &#123; constructor(name) &#123; this.name = name &#125; bark() &#123;&#125; jump() &#123;&#125;&#125;Dog.name // &#x27;Dog&#x27;// ç±»è¡¨è¾¾å¼ï¼šå¯ä»¥å‘½åï¼ˆç±»çš„ name å±æ€§å–ç±»åï¼‰ï¼Œä¹Ÿå¯ä»¥ä¸å‘½åï¼ˆç±»çš„ name å±æ€§å–å˜é‡åï¼‰let Animal2 = class &#123; // xxx&#125;Animal2.name // &#x27;Animal2&#x27; JS ä¸­çš„ç±»å»ºç«‹åœ¨åŸå‹çš„åŸºç¡€ä¸Šï¼ˆé€šè¿‡å‡½æ•°æ¥æ¨¡æ‹Ÿç±»ï¼Œå…¶å®ç±»å°±æ˜¯æ„é€ å‡½æ•°çš„è¯­æ³•ç³–ï¼‰ï¼Œå’Œ ES5 ä¸­æ„é€ å‡½æ•°ç±»ä¼¼ï¼Œä½†æ˜¯ä¹Ÿæœ‰åŒºåˆ«ï¼Œæ¯”å¦‚ç±»çš„å†…éƒ¨æ–¹æ³•æ˜¯ä¸å¯è¢«è¿­ä»£çš„ï¼š 12345678910111213141516class Dog &#123; constructor() &#123;&#125; bark() &#123;&#125; jump() &#123;&#125;&#125;Object.keys(Dog.prototype) // []// ç±»ä¼¼äºfunction Dog2()&#123;&#125;Dog2.prototype = &#123; constructor() &#123;&#125;, bark() &#123;&#125;, jump() &#123;&#125;,&#125;Object.keys(Dog2.prototype) // [&#x27;constructor&#x27;, &#x27;bark&#x27;, &#x27;jump&#x27;] åŸºäºåŸå‹ç»™ç±»æ·»åŠ æ–°æ–¹æ³•ï¼š 123Object.assign(Dog.prototype, &#123; wag() &#123;&#125; // æ‘‡å°¾å·´&#125;) ç±»å£°æ˜å’Œç±»è¡¨è¾¾å¼çš„ä¸»ä½“éƒ½æ‰§è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ã€‚æ¯”å¦‚ï¼Œæ„é€ å‡½æ•°ï¼Œé™æ€æ–¹æ³•ï¼ŒåŸå‹æ–¹æ³•ï¼Œgetterå’Œ setter éƒ½åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰§è¡Œã€‚ ç±»å†…éƒ¨çš„ this é»˜è®¤æŒ‡å‘ç±»å®ä¾‹ï¼Œæ‰€ä»¥å¦‚æœç›´æ¥è°ƒç”¨åŸå‹æ–¹æ³•æˆ–è€…é™æ€æ–¹æ³•ä¼šå¯¼è‡´ this æŒ‡å‘è¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œè€Œç±»å†…éƒ¨æ˜¯ä¸¥æ ¼æ¨¡å¼ï¼Œæ‰€ä»¥æ­¤æ—¶çš„ this ä¼šæ˜¯ undefinedï¼š 12345678910111213141516class Dog &#123; constructor(name) &#123; this.name = name &#125; bark() &#123; console.log( `$&#123;this.name&#125; is bark.` ) &#125; static jump() &#123; console.log( `$&#123;this.name&#125; is jump.` ) &#125;&#125;let dog = new Dog(&#x27;å¤§é»„&#x27;)let &#123; bark &#125; = doglet &#123; jump &#125; = Dogbark() // TypeError: Cannot read property &#x27;name&#x27; of undefinedjump() // TypeError: Cannot read property &#x27;name&#x27; of undefined æ–¹æ³•å’Œå…³é”®å­—ï¼š constructor æ–¹æ³•æ˜¯ç±»çš„é»˜è®¤æ–¹æ³•ï¼Œé€šè¿‡ new å…³é”®å­—ç”Ÿæˆå®ä¾‹çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ï¼›ä¸€ä¸ªç±»å¿…é¡»æœ‰constructor æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾ç¤ºå®šä¹‰ï¼Œåˆ™ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªç©ºçš„ï¼›constructor é»˜è®¤ä¼šè¿”å›å®ä¾‹å¯¹è±¡ï¼š 12345678910111213141516171819 class Point &#123;&#125; // ç­‰åŒäº class Point &#123; constructor() &#123;&#125; &#125; ``` - é€šè¿‡ `get` å’Œ `set` å…³é”®å­—æ‹¦æˆªæŸä¸ªå±æ€§çš„è¯»å†™æ“ä½œï¼š ```js class Dog &#123; get age()&#123; return 1 &#125; set age(val)&#123; this.age = val &#125; &#125; ç”¨ static å…³é”®å­—ç»™ç±»å®šä¹‰é™æ€æ–¹æ³•ï¼Œé™æ€æ–¹æ³•ä¸ä¼šå­˜åœ¨ç±»çš„åŸå‹ä¸Šï¼Œæ‰€ä»¥ä¸èƒ½é€šè¿‡ç±»å®ä¾‹è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡ç±»åæ¥è°ƒç”¨ï¼Œé™æ€æ–¹æ³•å’ŒåŸå‹æ–¹æ³•å¯ä»¥åŒåï¼š 12345678910111213class Dog &#123; bark() &#123;&#125; jump() &#123; console.log(&#x27;åŸå‹æ–¹æ³•&#x27;) &#125; static jump() &#123; console.log(&#x27;é™æ€æ–¹æ³•&#x27;) &#125;&#125;Object.getOwnPropertyNames(Dog.prototype) // [&#x27;constructor&#x27;, &#x27;bark&#x27;, &#x27;jump&#x27;]Dog.jump() // &#x27;é™æ€æ–¹æ³•&#x27;let dog = new Dog()dog.jump() // &#x27;åŸå‹æ–¹æ³•&#x27; å…¬æœ‰å­—æ®µå’Œç§æœ‰å­—æ®µï¼š é™æ€å…¬æœ‰å­—æ®µå’Œé™æ€æ–¹æ³•ä¸€æ ·åªèƒ½é€šè¿‡ç±»åè°ƒç”¨ï¼›ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•åªèƒ½åœ¨ç±»çš„å†…éƒ¨è°ƒç”¨ï¼Œå¤–éƒ¨è°ƒç”¨å°†æŠ¥é”™ï¼š 1234567891011class Dog &#123; age = 12 // å…¬æœ‰å­—æ®µ static sex = &#x27;male&#x27; // é™æ€å…¬æœ‰å­—æ®µ #secret = &#x27;æˆ‘æ˜¯äººç±»çš„å¥½æœ‹å‹&#x27; // ç§æœ‰å­—æ®µ #getSecret() &#123; // ç§æœ‰æ–¹æ³• return this.#secret &#125;&#125;Dog.sex // &#x27;male&#x27;let dog = new Dog()dog.#getSecret() // SyntaxError å…¬å…±å’Œç§æœ‰å­—æ®µå£°æ˜æ˜¯ JavaScript æ ‡å‡†å§”å‘˜ä¼š TC39 æå‡ºçš„å®éªŒæ€§åŠŸèƒ½ï¼ˆç¬¬ 3 é˜¶æ®µï¼‰ã€‚æµè§ˆå™¨ä¸­çš„æ”¯æŒæ˜¯æœ‰é™çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ Babel ç­‰ç³»ç»Ÿæ„å»ºåä½¿ç”¨æ­¤åŠŸèƒ½ã€‚ new.target å±æ€§å…è®¸ä½ æ£€æµ‹å‡½æ•°ã€æ„é€ æ–¹æ³•æˆ–è€…ç±»æ˜¯å¦æ˜¯é€šè¿‡ new è¿ç®—ç¬¦è¢«è°ƒç”¨çš„ã€‚åœ¨é€šè¿‡ new è¿ç®—ç¬¦è¢«åˆå§‹åŒ–çš„å‡½æ•°æˆ–æ„é€ æ–¹æ³•ä¸­ï¼Œnew.target è¿”å›ä¸€ä¸ªæŒ‡å‘æ„é€ æ–¹æ³•æˆ–å‡½æ•°çš„å¼•ç”¨ã€‚åœ¨æ™®é€šçš„å‡½æ•°è°ƒç”¨ä¸­ï¼Œnew.target çš„å€¼æ˜¯ undefinedï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»çš„æ—¶å€™ä¼šè¿”å›å­ç±»ï¼š 123456789101112class Dog &#123; constructor() &#123; console.log(new.target.name) &#125;&#125;function fn()&#123; if (!new.target) return &#x27;new target is undefined&#x27; console.log(&#x27;fn is called by new&#x27;)&#125;let dog = new Dog() // &#x27;Dog&#x27;fn() // &#x27;new target is undefined&#x27;new fn() // &#x27;fn is called by new&#x27; ç±»çš„ç»§æ‰¿ï¼š ç±»å¯ä»¥é€šè¿‡ extends å…³é”®å­—å®ç°ç»§æ‰¿ï¼Œå¦‚æœå­ç±»æ˜¾ç¤ºçš„å®šä¹‰äº† constructor åˆ™å¿…é¡»åœ¨å†…éƒ¨è°ƒç”¨ super() æ–¹æ³•ï¼Œå†…éƒ¨çš„ this æŒ‡å‘å½“å‰å­ç±»ï¼š 1234567891011121314151617181920class Animal &#123; constructor(name) &#123; this.name = name &#125; run() &#123; console.log(`$&#123;this.name&#125; is running.`) &#125;&#125; class Dog extends Animal&#123; constructor(name)&#123; super(name) // å¿…é¡»è°ƒç”¨ this.name = name &#125; bark() &#123; console.log(`$&#123;this.name&#125; is barking.`) &#125;&#125;let dog = new Dog(&#x27;å¤§é»„&#x27;)dog.run() // &#x27;å¤§é»„ is running.&#x27; é€šè¿‡ super() è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æˆ–è€…é€šè¿‡ super è°ƒç”¨çˆ¶ç±»çš„åŸå‹æ–¹æ³•ï¼›å¦å¤–ä¹Ÿå¯ä»¥åœ¨å­ç±»çš„é™æ€æ–¹æ³•é‡Œé€šè¿‡ super è°ƒç”¨çˆ¶ç±»çš„é™æ€æ–¹æ³•ï¼š 12345678910111213141516171819202122232425 // åŸºäºä¸Šé¢çš„ä»£ç æ”¹é€  class Dog extends Animal&#123; constructor(name)&#123; super(name) // è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•° this.name = name &#125; bark() &#123; super.run() // è°ƒç”¨çˆ¶ç±»åŸå‹æ–¹æ³• console.log(`$&#123;this.name&#125; is barking.`) &#125; &#125; let dog = new Dog() dog.bark()s // &#x27;å¤§é»„ is running.&#x27; // &#x27;å¤§é»„ is barking.&#x27; ``` - å­ç±»çš„ `__proto__` å±æ€§ï¼Œè¡¨ç¤ºæ„é€ å‡½æ•°çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»ï¼›å­ç±» `prototype` å±æ€§çš„ `__proto__` å±æ€§ï¼Œè¡¨ç¤ºæ–¹æ³•çš„ç»§æ‰¿ï¼Œæ€»æ˜¯æŒ‡å‘çˆ¶ç±»çš„prototypeå±æ€§ï¼š ```js class Animal &#123;&#125; class Dog extends Animal &#123;&#125; Dog.__proto__ === Animal // true Dog.prototype.__proto__ === Animal.prototype // true å­ç±»åŸå‹çš„åŸå‹æŒ‡å‘çˆ¶ç±»çš„åŸå‹ï¼š 1234// åŸºäºä¸Šé¢çš„ä»£ç let animal = new Animal()let dog = new Dog()dog.__proto__.__proto__ === animal.__proto__ // true ä½¿ç”¨ extends è¿˜å¯ä»¥å®ç°ç»§æ‰¿åŸç”Ÿçš„æ„é€ å‡½æ•°ï¼Œå¦‚ä¸‹è¿™äº›æ„é€ å‡½æ•°éƒ½å¯ä»¥è¢«ç»§æ‰¿ï¼š String() Number() Boolean() Array() Object() Function() Date() RegExp() Error() 12345678910111213class MyString extends String &#123; constructor(name)&#123; super(name) this.name = name &#125; welcome() &#123; return `hello $&#123;this.name&#125;` &#125;&#125;let ms = new MyString(&#x27;å¸ƒå…°&#x27;)ms.welcome() // &#x27;hello å¸ƒå…°&#x27;ms.length // 2ms.indexOf(&#x27;å…°&#x27;) // 1 Module æµè§ˆå™¨ä¼ ç»ŸåŠ è½½æ¨¡å—æ–¹å¼ï¼š 12345678// åŒæ­¥åŠ è½½&lt;script src=&quot;test.js&quot;&gt;&lt;/script&gt;// deferå¼‚æ­¥åŠ è½½ï¼šé¡ºåºæ‰§è¡Œï¼Œæ–‡æ¡£è§£æå®Œæˆåæ‰§è¡Œï¼›&lt;script src=&quot;test.js&quot; defer&gt;&lt;/script&gt;// asyncå¼‚æ­¥åŠ è½½ï¼šä¹±åºåŠ è½½ï¼Œä¸‹è½½å®Œå°±æ‰§è¡Œã€‚&lt;script src=&quot;test.js&quot; async&gt;&lt;/script&gt; æµè§ˆå™¨ç°åœ¨å¯ä»¥æŒ‰ç…§æ¨¡å—ï¼ˆåŠ ä¸Š type=&quot;module&quot;ï¼‰æ¥åŠ è½½è„šæœ¬ï¼Œé»˜è®¤å°†æŒ‰ç…§ defer çš„æ–¹å¼å¼‚æ­¥åŠ è½½ï¼›ES6 çš„æ¨¡å—åŠ è½½ä¾èµ–äº import å’Œ export è¿™ 2 ä¸ªå‘½ä»¤ï¼›æ¨¡å—å†…éƒ¨è‡ªåŠ¨é‡‡ç”¨ä¸¥æ ¼æ¨¡å¼ï¼š 12// æ¨¡å—åŠ è½½&lt;script type=&quot;module&quot; src=&quot;test.js&quot;&gt;&lt;/script&gt; export ç”¨äºè¾“å‡ºæ¨¡å—çš„å¯¹å¤–æ¥å£ï¼Œä¸€ä¸ªæ¨¡å—å†…åªèƒ½å…è®¸ä¸€ä¸ª export default å­˜åœ¨ï¼Œä»¥ä¸‹æ˜¯å‡ ç§è¾“å‡ºæ¨¡å—æ¥å£çš„å†™æ³•ï¼š 12345678910111213141516// person.js// å†™æ³•ä¸€ï¼šå•ç‹¬å¯¼å‡ºexport const name = &#x27;å¸ƒå…°&#x27;export const age = 12// å†™æ³•äºŒï¼šæŒ‰éœ€å¯¼å‡ºconst name = &#x27;å¸ƒå…°&#x27;, age = 12export &#123; name, age &#125;// å†™æ³•ä¸‰ï¼šé‡å‘½ååå¯¼å‡ºconst name = &#x27;å¸ƒå…°&#x27;, age = 12export &#123; name as name1, age as age1 &#125;// å†™æ³•å››ï¼šé»˜è®¤å¯¼å‡ºconst name = &#x27;å¸ƒå…°&#x27;export default name import ç”¨äºè¾“å…¥å…¶ä»–æ¨¡å—çš„æ¥å£ï¼š 1234567891011121314// æŒ‰éœ€å¯¼å…¥import &#123; name, age &#125; &#x27;./person.js&#x27;// å¯¼å…¥åé‡å‘½åimport &#123; name1 as name, age1 as age &#125; from &#x27;./person.js&#x27;// é»˜è®¤å¯¼å…¥import person from &#x27;./person.js&#x27;// æ•´ä½“å¯¼å…¥import * as person from &#x27;./person.js&#x27;// æ··åˆå¯¼å…¥import _, &#123; each &#125; from &#x27;lodash&#x27; import å¯¼å…¥çš„ç»†èŠ‚ï¼š å¯¼å…¥çš„å˜é‡åå¿…é¡»ä¸å¯¼å‡ºæ¨¡å—çš„åå­—ä¸€è‡´ï¼Œå¯ä»¥ä½¿ç”¨ as è¿›è¡Œé‡å‘½åï¼› å¯¼å…¥çš„å˜é‡éƒ½æ˜¯åªè¯»çš„ï¼Œä¸èƒ½æ”¹å†™ï¼› import å‘½ä»¤å…·æœ‰æå‡æ•ˆæœï¼Œä¼šæå‡åˆ°æ•´ä¸ªæ¨¡å—çš„å¤´éƒ¨ï¼Œé¦–å…ˆæ‰§è¡Œï¼› import æ˜¯ç¼–è¯‘æ—¶å¯¼å…¥ï¼Œæ‰€ä»¥ä¸èƒ½å°†å…¶å†™åˆ°ä»£ç å—ï¼ˆæ¯”å¦‚ if åˆ¤æ–­å—é‡Œï¼‰æˆ–è€…å‡½æ•°å†…éƒ¨ï¼› import ä¼šæ‰§è¡Œæ‰€åŠ è½½çš„æ¨¡å—çš„ä»£ç ï¼Œå¦‚æœé‡å¤å¯¼å…¥åŒä¸€ä¸ªæ¨¡å—åˆ™åªä¼šæ‰§è¡Œä¸€æ¬¡æ¨¡å—ï¼› import å’Œ export çš„å¤åˆå†™æ³•ï¼šexport å’Œ import è¯­å¥å¯ä»¥ç»“åˆåœ¨ä¸€èµ·å†™æˆä¸€è¡Œï¼Œç›¸å½“äºæ˜¯åœ¨å½“å‰æ¨¡å—ç›´æ¥è½¬å‘å¤–éƒ¨æ¨¡å—çš„æ¥å£ï¼Œå¤åˆå†™æ³•ä¹Ÿæ”¯æŒç”¨ as é‡å‘½åã€‚ä»¥ä¸‹ä¾‹å­ä¸­éœ€è¦åœ¨ hub.js æ¨¡å—ä¸­è½¬å‘ person.js çš„æ¥å£ï¼š 1234567891011121314151617// person.jsconst name = &#x27;å¸ƒå…°&#x27;, age = 12export &#123; name, age &#125;// æŒ‰éœ€è½¬å‘æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰export &#123; name, age &#125; from &#x27;./person.js&#x27;// ç›¸å½“äºimport &#123; name, age &#125; from &#x27;./person.js&#x27;export &#123; name, age &#125;// person.jsconst name = &#x27;å¸ƒå…°&#x27;, age = 12export default &#123; name, age &#125;// è½¬å‘é»˜è®¤æ¥å£ï¼ˆä¸­è½¬æ¨¡å—ï¼šhub.jsï¼‰export &#123; default &#125; from &#x27;./person.js&#x27;// ç›¸å½“äºimport person from &#x27;./person.js&#x27;export default person ES6 æ¨¡å—å’Œ CommonJS æ¨¡å—çš„å·®å¼‚ï¼š CommonJS æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼ˆä¸€æ—¦è¾“å‡ºä¸€ä¸ªå€¼ï¼Œæ¨¡å—å†…éƒ¨çš„å˜åŒ–å°±å½±å“ä¸åˆ°è¿™ä¸ªå€¼ï¼‰ï¼ŒES6 æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼ˆæ˜¯åŠ¨æ€å¼•ç”¨ä¸”ä¸ä¼šç¼“å­˜å€¼ï¼Œæ¨¡å—é‡Œçš„å˜é‡ç»‘å®šå…¶æ‰€åœ¨çš„æ¨¡å—ï¼Œç­‰åˆ°è„šæœ¬çœŸæ­£æ‰§è¡Œæ—¶ï¼Œå†æ ¹æ®è¿™ä¸ªåªè¯»å¼•ç”¨åˆ°è¢«åŠ è½½çš„é‚£ä¸ªæ¨¡å—é‡Œå»å–å€¼ï¼‰ï¼› CommonJS æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼ŒES6 æ¨¡å—æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼› CommonJS æ¨¡å—çš„ require() æ˜¯åŒæ­¥åŠ è½½æ¨¡å—ï¼ŒES6 æ¨¡å—çš„ import å‘½ä»¤æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæœ‰ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ä¾èµ–çš„è§£æé˜¶æ®µï¼› Iteratorå’Œforâ€¦of Iterator è¿­ä»£å™¨åè®®ï¼Œä¸ºå„ç§æ•°æ®ç»“æ„æä¾›äº†ä¸€ç§ç»Ÿä¸€æŒ‰ç…§æŸç§é¡ºåºè¿›è¡Œè®¿é—®çš„æœºåˆ¶ã€‚é€šå¸¸éƒ¨ç½²åœ¨ä¸€ä¸ªå¯è¿­ä»£æ•°æ®ç»“æ„å†…éƒ¨æˆ–å…¶åŸå‹ä¸Šã€‚ä¸€ä¸ªå¯¹è±¡è¦èƒ½å¤Ÿæˆä¸ºè¿­ä»£å™¨ï¼Œå®ƒå¿…é¡»æœ‰ä¸€ä¸ª next() æ–¹æ³•ï¼Œæ¯æ¬¡æ‰§è¡Œ next() æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€ä¸ª done å±æ€§ï¼ˆæ˜¯ä¸ªå¸ƒå°”å€¼ï¼Œtrue è¡¨ç¤ºå¯ä»¥ç»§ç»­ä¸‹æ¬¡è¿­ä»£ï¼‰å’Œä¸€ä¸ª value å±æ€§ï¼ˆæ¯æ¬¡è¿­ä»£çš„å€¼ï¼‰ï¼š 123456789101112// ç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨let makeIterator = (arr) =&gt; &#123; let index = 0 return &#123; next()&#123; return index &lt; arr.length ? &#123; value: arr[index++], done: false &#125; : &#123; done: true &#125; &#125; &#125;&#125; iterable å¯è¿­ä»£æ•°æ®ç»“æ„ï¼šå†…éƒ¨æˆ–è€…åŸå‹ä¸Šå¿…é¡»æœ‰ä¸€ä¸ª Symbol.iterator å±æ€§ï¼ˆå¦‚æœæ˜¯å¼‚æ­¥çš„åˆ™æ˜¯ Symbol.asyncIteratorï¼‰ï¼Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œåä¼šç”Ÿæˆä¸€ä¸ªè¿­ä»£å™¨ï¼š 1234567891011121314151617let obj = &#123; [Symbol.iterator]() &#123; return &#123; index: 0, next() &#123; if (this.index &lt; 3) &#123; return &#123;value: this.index++, done: false&#125; &#125; else &#123; return &#123;done: true&#125; &#125; &#125; &#125; &#125;&#125;for (let x of obj) &#123; console.log(x) // 0 1 2&#125; å†…ç½®çš„ä¸€äº›å¯è¿­ä»£æ•°æ®ç»“æ„æœ‰ï¼šStringã€Arrayã€TypedArrayã€Map å’Œ Setã€argumentsã€NodeListï¼š 12345let si = &#x27;hi&#x27;[Symbol.iterator]()si // StringIteratorsi.next() // &#123;value: &#x27;h&#x27;, done: false&#125;si.next() // &#123;value: &#x27;i&#x27;, done: false&#125;si.next() // &#123;value: undefined, done: true&#125; for...ofï¼šç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼š éå†å­—ç¬¦ä¸²ï¼šfor...in è·å–ç´¢å¼•ï¼Œfor...of è·å–å€¼ï¼› éå†æ•°ç»„ï¼šfor...in è·å–ç´¢å¼•ï¼Œfor...of è·å–å€¼ï¼› éå†å¯¹è±¡ï¼šfor...in è·å–é”®ï¼Œfor...of éœ€è‡ªè¡Œéƒ¨ç½² [Symbol.iterator] æ¥å£ï¼› éå† Setï¼šfor...of è·å–å€¼ï¼Œ for (const v of set)ï¼› éå† Mapï¼šfor...of è·å–é”®å€¼å¯¹ï¼Œfor (const [k, v] of map)ï¼› éå†ç±»æ•°ç»„ï¼šåŒ…å« length çš„å¯¹è±¡ã€arguments å¯¹è±¡ã€NodeListå¯¹è±¡(æ—  Iterator æ¥å£çš„ç±»æ•°ç»„å¯ç”¨ Array.from() è½¬æ¢)ï¼› 123456789101112131415161718192021// è¿­ä»£å­—ç¬¦ä¸²for (let x of &#x27;abc&#x27;) &#123; console.log(x) // &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;&#125;// è¿­ä»£æ•°ç»„for (let x of [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]) &#123; console.log(x) // &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;&#125;// éå† Setlet set = new Set([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;])for (let x of set) &#123; console.log(x) // &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27;&#125;// éå† Maplet map = new Map([[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]])for (let [key, value] of map) &#123; console.log(key + &#x27;: &#x27; + value) // &#x27;name: å¸ƒå…°&#x27; &#x27;age: 12&#x27; &#125; for...of å’Œ for...in å¯¹æ¯” å…±åŒç‚¹ï¼šèƒ½å¤Ÿé€šè¿‡ breakã€continue å’Œ return è·³å‡ºå¾ªç¯ï¼› ä¸åŒç‚¹ï¼š - `for...in` çš„ç‰¹ç‚¹ï¼šåªèƒ½éå†é”®ï¼Œä¼šéå†åŸå‹ä¸Šå±æ€§ï¼Œéå†æ— é¡ºåºï¼Œé€‚åˆäºå¯¹è±¡çš„éå†ï¼› - `for...of` çš„ç‰¹ç‚¹ï¼šèƒ½å¤Ÿéå†å€¼ï¼ˆæŸäº›æ•°æ®ç»“æ„èƒ½éå†é”®å’Œå€¼ï¼Œæ¯”å¦‚ `Map`ï¼‰ï¼Œä¸ä¼šéå†åŸå‹ä¸Šçš„é”®å€¼ï¼Œéå†é¡ºåºä¸ºæ•°æ®çš„æ·»åŠ é¡ºåºï¼Œé€‚ç”¨äºéå†å¯è¿­ä»£æ•°æ®ç»“æ„ï¼› PromisePromise è¿™å—çŸ¥è¯†å¯ä»¥ç›´æ¥çœ‹æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡æ–‡ç« ï¼šæ·±å…¥ç†è§£Promise éå¸¸å®Œæ•´ã€‚ Generator function* ä¼šå®šä¹‰ä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°ï¼Œè°ƒç”¨ç”Ÿæˆå™¨å‡½æ•°ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä¼šè¿”å›ä¸€ä¸ª Generator å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯ç¬¦åˆå¯è¿­ä»£åè®®å’Œè¿­ä»£å™¨åè®®çš„ï¼Œæ¢å¥è¯è¯´è¿™ä¸ª Generator æ˜¯å¯ä»¥è¢«è¿­ä»£çš„ã€‚ ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨é€šè¿‡ yield æ¥æ§åˆ¶æš‚åœï¼Œè€Œ next() å°†æŠŠå®ƒæ¢å¤æ‰§è¡Œï¼Œå®ƒçš„è¿è¡Œé€»è¾‘æ˜¯å¦‚ä¸‹è¿™æ ·çš„ï¼š é‡åˆ° yield è¡¨è¾¾å¼ï¼Œå°±æš‚åœæ‰§è¡Œåé¢çš„æ“ä½œï¼Œå¹¶å°†ç´§è·Ÿåœ¨ yield åé¢çš„é‚£ä¸ªè¡¨è¾¾å¼çš„å€¼ä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ value å±æ€§å€¼ï¼› ä¸‹ä¸€æ¬¡è°ƒç”¨ next æ–¹æ³•æ—¶ï¼Œå†ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield è¡¨è¾¾å¼ï¼› å¦‚æœæ²¡æœ‰å†é‡åˆ°æ–°çš„ yield è¡¨è¾¾å¼ï¼Œå°±ä¸€ç›´è¿è¡Œåˆ°å‡½æ•°ç»“æŸï¼Œç›´åˆ° return è¯­å¥ä¸ºæ­¢ï¼Œå¹¶å°† return è¯­å¥åé¢çš„è¡¨è¾¾å¼çš„å€¼ï¼Œä½œä¸ºè¿”å›çš„å¯¹è±¡çš„ value å±æ€§å€¼ï¼› å¦‚æœè¯¥å‡½æ•°æ²¡æœ‰ return è¯­å¥ï¼Œåˆ™è¿”å›çš„å¯¹è±¡çš„ value å±æ€§å€¼ä¸º undefinedï¼› 123456789function* gen() &#123; yield &#x27;hello&#x27; yield &#x27;world&#x27; return &#x27;end&#x27;&#125;let g = gen()g.next() // &#123;value: &#x27;hello&#x27;, done: false&#125;g.next() // &#123;value: &#x27;world&#x27;, done: false&#125;g.next() // &#123;value: &#x27;end&#x27;, done: true&#125; åœ¨ç”Ÿæˆå™¨å‡½æ•°å†…éƒ¨å¯ä»¥ä½¿ç”¨ yield* è¡¨è¾¾å¼å§”æ‰˜ç»™å¦ä¸€ä¸ª Generator æˆ–å¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚æ•°ç»„ã€å­—ç¬¦ä¸²ç­‰ï¼›yield* è¡¨è¾¾å¼æœ¬èº«çš„å€¼æ˜¯å½“è¿­ä»£å™¨å…³é—­æ—¶è¿”å›çš„å€¼ï¼ˆå³ done ä¸º true æ—¶ï¼‰ï¼š 123456789101112function* inner() &#123; yield* [1, 2] return &#x27;foo&#x27;&#125;function* gen() &#123; let result = yield* inner() console.log(result)&#125;let g = gen()g.next()g.next()g.next() å®ä¾‹æ–¹æ³•ï¼š Generator.prototype.next()ï¼šè¿”å›ä¸€ä¸ªåŒ…å«å±æ€§ done å’Œ value çš„å¯¹è±¡ã€‚è¯¥æ–¹æ³•ä¹Ÿå¯ä»¥é€šè¿‡æ¥å—ä¸€ä¸ªå‚æ•°ç”¨ä»¥å‘ç”Ÿæˆå™¨ä¼ å€¼ã€‚å¦‚æœä¼ å…¥äº†å‚æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°ä¼šä¼ ç»™ä¸Šä¸€æ¡æ‰§è¡Œçš„ yield è¯­å¥å·¦è¾¹çš„å˜é‡ï¼š 123456789101112131415function* f() &#123; let a = yield 12 console.log(a) let b = yield a console.log(b)&#125;let g = f()console.log(g.next(&#x27;a&#x27;))console.log(g.next(&#x27;b&#x27;))console.log(g.next(&#x27;c&#x27;))// &#123;value: 12, done: false&#125;// &#x27;b&#x27;// &#123;value: &#x27;b&#x27;, done: false&#125;// &#x27;c&#x27;// &#123;value: undefined, done: true&#125; Generator.prototype.throw()ï¼šç”¨æ¥å‘ç”Ÿæˆå™¨æŠ›å‡ºå¼‚å¸¸ï¼Œå¦‚æœå†…éƒ¨æ•è·äº†åˆ™ä¼šæ¢å¤ç”Ÿæˆå™¨çš„æ‰§è¡Œï¼ˆå³æ‰§è¡Œä¸‹ä¸€æ¡ yield è¡¨è¾¾å¼ï¼‰ï¼Œå¹¶ä¸”è¿”å›å¸¦æœ‰ done åŠ value ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š 1234567891011121314151617function* gen() &#123; try &#123; yield &#x27;a&#x27; &#125; catch(e) &#123; console.log(e) &#125; yiele &#x27;b&#x27; yield &#x27;c&#x27;&#125;let g = gen()g.next()g.throw(&#x27;error a&#x27;)g.next()// &#123;value: &quot;a&quot;, done: false&#125;// &#x27;error a&#x27; // &#123;value: &quot;b&quot;, done: false&#125;// &#123;value: &quot;c&quot;, done: false&#125; å¦‚æœå†…éƒ¨æ²¡æœ‰æ•è·å¼‚å¸¸ï¼Œå°†ä¸­æ–­å†…éƒ¨ä»£ç çš„ç»§ç»­æ‰§è¡Œï¼ˆç±»ä¼¼ throw æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰æ•è·ï¼Œåˆ™åé¢çš„ä»£ç å°†ä¸ä¼šæ‰§è¡Œï¼‰ï¼Œæ­¤æ—¶å¼‚å¸¸ä¼šæŠ›åˆ°å¤–éƒ¨ï¼Œå¯ä»¥è¢«å¤–éƒ¨çš„ try...catch å—æ•è·ï¼Œæ­¤æ—¶å¦‚æœå†æ‰§è¡Œä¸€æ¬¡ next()ï¼Œä¼šè¿”å›ä¸€ä¸ªå€¼ä¸º done å±æ€§ä¸º true çš„å¯¹è±¡ï¼š 12345678910111213141516function* gen() &#123; yield &#x27;a&#x27; yield &#x27;b&#x27; yield &#x27;c&#x27;&#125;let g = gen()g.next()try &#123; g.throw(&#x27;error a&#x27;)&#125; catch(e) &#123; console.log(e)&#125;g.next()// &#123;value: &quot;a&quot;, done: false&#125;// &#x27;error a&#x27;// &#123;value: undefined, done: true&#125; Generator.prototype.return()ï¼šè¿”å›ç»™å®šçš„å€¼å¹¶ç»“æŸç”Ÿæˆå™¨ï¼š 123456789function* gen() &#123; yield 1 yield 2 yield 3&#125; let g = gen()g.next() // &#123; value: 1, done: false &#125;g.return(&#x27;foo&#x27;) // &#123; value: &quot;foo&quot;, done: true &#125;g.next() // &#123; value: undefined, done: true &#125; åº”ç”¨ï¼š å°†å¼‚æ­¥æ“ä½œåŒæ­¥åŒ–ï¼Œæ¯”å¦‚åŒæ—¶æœ‰å¤šä¸ªè¯·æ±‚ï¼Œå¤šä¸ªè¯·æ±‚ä¹‹é—´æ˜¯æœ‰é¡ºåºçš„ï¼Œåªèƒ½ç­‰å‰é¢çš„è¯·æ±‚å®Œæˆäº†æ‰è¯·æ±‚åé¢çš„ï¼š 12345678910111213141516function* main() &#123; let res1 = yield request(&#x27;a&#x27;) console.log(res1) let res2 = yield request(&#x27;b&#x27;) console.log(res2) let res3 = yield request(&#x27;c&#x27;) console.log(res3)&#125;function request(url) &#123; setTimeout(function()&#123; // æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚ it.next(url) &#125;, 300)&#125;let it = main()it.next()// &#x27;a&#x27; &#x27;b&#x27; &#x27;c&#x27; ç»™å¯¹è±¡éƒ¨ç½² Iterator æ¥å£ï¼š 12345678910111213function* iterEntries(obj) &#123; let keys = Object.keys(obj) for (let i = 0; i &lt; keys.length; i++) &#123; let key = keys[i] yield [key, obj[key]] &#125;&#125;let obj = &#123; foo: 3, bar: 7 &#125;for (let [key, value] of iterEntries(myObj)) &#123; console.log(key, value)&#125;// &#x27;foo&#x27; 3// &#x27;bar&#x27; 7 ES2016 Array.prototype.includesåˆ¤æ–­ä¸€ä¸ªæ•°ç»„æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ ï¼Œä¹‹å‰ä¸€èˆ¬æ˜¯è¿™ä¹ˆåšçš„ï¼š 1234if (arr.indexOf(el) &gt;= 0) &#123;&#125;// æˆ–è€…if (~arr.indexOf(el)) &#123;&#125; è€Œç°åœ¨ä½ å¯ä»¥è¿™ä¹ˆåšäº†ï¼š 1if (arr.includes(el)) &#123;&#125; indexOf ä¼šè¿”å›æ‰¾åˆ°å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œåˆ¤æ–­çš„é€»è¾‘æ˜¯æ˜¯å¦ä¸¥æ ¼ç›¸ç­‰ï¼Œæ‰€ä»¥ä»–åœ¨é‡åˆ° NaN çš„æ—¶å€™ä¸èƒ½æ­£ç¡®è¿”å›ç´¢å¼•ï¼Œä½†æ˜¯ includes è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š 12[1, NaN, 3].indexOf(NaN) // -1[1, NaN, 3].includes(NaN) // true æ±‚å¹‚è¿ç®—ç¬¦ï¼ˆ**ï¼‰x ** y æ˜¯æ±‚ x çš„ y æ¬¡å¹‚ï¼Œå’Œ Math.pow(x, y) åŠŸèƒ½ä¸€è‡´ï¼š 123// x ** ylet squared = 2 ** 2 // 2 * 2 = 4let cubed = 2 ** 3 // 2 * 2 * 2 = 8 x **= y è¡¨ç¤ºæ±‚ x çš„ y æ¬¡å¹‚ï¼Œå¹¶ä¸”æŠŠç»“æœèµ‹å€¼ç»™ xï¼š 123// x **= ylet x = 2;x **= 3 // x æœ€åç­‰äº 8 ES2017 Object.values()è¿”å›ä¸€ä¸ªç”±å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯éå†å±æ€§çš„å±æ€§å€¼ç»„æˆçš„æ•°ç»„ï¼š 123456789const person = &#123; name: &#x27;å¸ƒå…°&#x27; &#125;;Object.defineProperty(person, &#x27;age&#x27;, &#123; value: 12, enumrable: false // age å±æ€§å°†ä¸å¯éå†&#125;)console.log(Object.values(person)) // [&#x27;å¸ƒå…°&#x27;]// ç±»ä¼¼ str.split(&#x27;&#x27;) æ•ˆæœconsole.log(Object.values(&#x27;abc&#x27;)) // [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;] Object.entries()è¿”å›ä¸€ä¸ªç”±å¯¹è±¡è‡ªèº«æ‰€æœ‰å¯éå†å±æ€§çš„é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„ï¼š 12const person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;console.log(Object.entries(person)) // [[&quot;name&quot;, &quot;å¸ƒå…°&quot;], [&quot;age&quot;, 12]] åˆ©ç”¨è¿™ä¸ªæ–¹æ³•å¯ä»¥å¾ˆå¥½çš„å°†å¯¹è±¡è½¬æˆæ­£åœ¨çš„ Map ç»“æ„ï¼š 123const person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;const map = new Map(Object.entries(person))console.log(map) // Map &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; Object.getOwnPropertyDescriptors()Object.getOwnPropertyDescriptor() ä¼šè¿”å›æŒ‡å®šå¯¹è±¡æŸä¸ªè‡ªèº«å±æ€§çš„çš„æè¿°å¯¹è±¡ï¼Œè€Œ Object.getOwnPropertyDescriptors() åˆ™æ˜¯è¿”å›æŒ‡å®šå¯¹è±¡è‡ªèº«æ‰€æœ‰å±æ€§çš„æè¿°å¯¹è±¡ï¼š 12345678910const person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;console.log(Object.getOwnPropertyDescriptor(person, &#x27;name&#x27;))// &#123; configurable: true, enumerable: true, value: &quot;å¸ƒå…°&quot;, writable: true &#125;console.log(Object.getOwnPropertyDescriptors(person))//&#123; // name: &#123; configurable: true, enumerable: true, value: &quot;å¸ƒå…°&quot;, writable: true &#125;,// age: &#123;configurable: false, enumerable: false, value: 12, writable: false&#125;//&#125; é…åˆ Object.create() å¯ä»¥å®ç°æµ…å…‹éš†ï¼š 1234const shallowClone = (obj) =&gt; Object.create( Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj)) String.prototype.padStart()str.padStart(length [, padStr]) ä¼šè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å°†ä» str å­—ç¬¦ä¸²çš„å·¦ä¾§å¼€å§‹å¡«å……æŸä¸ªå­—ç¬¦ä¸² padStrï¼ˆéå¿…å¡«ï¼Œå¦‚æœä¸æ˜¯å­—ç¬¦ä¸²åˆ™ä¼šè½¬æˆå­—ç¬¦ä¸², ä¼ å…¥ undefined å’Œä¸ä¼ è¿™ä¸ªå‚æ•°æ•ˆæœä¸€è‡´ï¼‰ç›´åˆ°è¾¾åˆ°æŒ‡å®šä½æ•° length ä¸ºæ­¢ï¼š 12345&#x27;abc&#x27;.padStart(5, 2) // &#x27;22abc&#x27;&#x27;abc&#x27;.padStart(5, undefined) // &#x27; abc&#x27;&#x27;abc&#x27;.padStart(5, &#123;&#125;) // &#x27;[oabc&#x27;&#x27;abc&#x27;.padStart(5) // &#x27; abc&#x27;&#x27;abcde&#x27;.padStart(2, &#x27;f&#x27;) // &#x27;abcde&#x27; String.prototype.padEnd()è§„åˆ™å’Œ padStart ç±»ä¼¼ï¼Œä½†æ˜¯æ˜¯ä»å­—ç¬¦ä¸²å³ä¾§å¼€å§‹å¡«å……ï¼š 1&#x27;abc&#x27;.padEnd(5, 2) // &#x27;abc22&#x27; å‡½æ•°å‚æ•°å°¾é€—å·å…è®¸å‡½æ•°åœ¨å®šä¹‰å’Œè°ƒç”¨çš„æ—¶å€™æ—¶å€™æœ€åä¸€ä¸ªå‚æ•°ååŠ ä¸Šé€—å·ï¼š 123456function init( param1, param2, ) &#123; &#125;init(&#x27;a&#x27;, &#x27;b&#x27;,) Asyncå‡½æ•° ä½¿ç”¨ async å¯ä»¥å£°æ˜ä¸€ä¸ª async å‡½æ•°ï¼Œç»“åˆ await å¯ä»¥ç”¨ä¸€ç§å¾ˆç®€ä»‹çš„æ–¹æ³•å†™æˆåŸºäº Promise çš„å¼‚æ­¥è¡Œä¸ºï¼Œè€Œä¸éœ€è¦åˆ»æ„çš„é“¾å¼è°ƒç”¨ã€‚await è¡¨è¾¾å¼ä¼šæš‚åœæ•´ä¸ª async å‡½æ•°çš„æ‰§è¡Œè¿›ç¨‹å¹¶å‡ºè®©å…¶æ§åˆ¶æƒï¼Œåªæœ‰å½“å…¶ç­‰å¾…çš„åŸºäº Promise çš„å¼‚æ­¥æ“ä½œè¢«å…‘ç°æˆ–è¢«æ‹’ç»ä¹‹åæ‰ä¼šæ¢å¤è¿›ç¨‹ã€‚async å‡½æ•°æœ‰å¦‚ä¸‹å‡ ç§å®šä¹‰å½¢å¼ï¼š 123456789101112131415161718// å‡½æ•°å£°æ˜async function foo() &#123;&#125;// å‡½æ•°è¡¨è¾¾å¼let foo = async function() &#123;&#125;// ç®­å¤´å‡½æ•°let foo = async () =&gt; &#123;&#125;// å¯¹è±¡æ–¹æ³•lef obj = &#123; async foo() &#123;&#125;&#125;// ç±»æ–¹æ³•class Dog &#123; async bark() &#123;&#125;&#125; async å‡½æ•°ä¸€å®šä¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½¿ç”¨ then æ·»åŠ å¤„ç†å‡½æ•°ã€‚å¦‚æœä¸€ä¸ª async å‡½æ•°çš„è¿”å›å€¼çœ‹èµ·æ¥ä¸æ˜¯Promiseï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¢«éšå¼åœ°åŒ…è£…åœ¨ä¸€ä¸ª Promise ä¸­ï¼š 123456async function foo() &#123; return &#x27;a&#x27;&#125;foo().then(res =&gt; &#123; console.log(res) // &#x27;a&#x27;&#125;) å†…éƒ¨å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œæˆ–è€…æ˜¾ç¤ºæŠ›å‡ºé”™è¯¯ï¼Œé‚£ä¹ˆ async å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª rejected çŠ¶æ€çš„ Promsieï¼š 123456async function foo() &#123; throw new Error(&#x27;error&#x27;)&#125;foo().catch(err =&gt; &#123; console.log(err) // Error: error&#125;) è¿”å›çš„ Promise å¯¹è±¡å¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰ await å‘½ä»¤ Promise å¯¹è±¡æ‰§è¡Œå®Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ° return è¯­å¥æˆ–æŠ›å‡ºé”™è¯¯ï¼›ä»»ä½•ä¸€ä¸ª await å‘½ä»¤è¿”å›çš„ Promise å¯¹è±¡å˜ ä¸ºrejected çŠ¶æ€ï¼Œæ•´ä¸ª Async å‡½æ•°éƒ½ä¼šä¸­æ–­åç»­æ‰§è¡Œï¼š 12345678910111213async function fn() &#123; let a = await Promise.resolve(&#x27;success&#x27;) console.log(&#x27;a_&#x27; + a) let b = await Promise.reject(&#x27;fail&#x27;) console.log(&#x27;b_&#x27; + b) // ä¸ä¼šæ‰§è¡Œ&#125;fn().then(res =&gt; &#123; console.log(res) // ä¸ä¼šæ‰§è¡Œ&#125;, err =&gt; &#123; console.log(err)&#125;)// &#x27;a_success&#x27;// &#x27;fail&#x27; æ‰€ä»¥ä¸ºäº†ä¿è¯ async é‡Œçš„å¼‚æ­¥æ“ä½œéƒ½èƒ½å®Œæˆï¼Œæˆ‘ä»¬éœ€è¦å°†ä»–ä»¬æ”¾åˆ° try...catch() å—é‡Œæˆ–è€…åœ¨ await è¿”å›çš„ Promise åè·Ÿä¸€ä¸ª catch å¤„ç†å‡½æ•°ï¼š 123456789101112131415161718async function fn() &#123; try &#123; let a = await Promise.reject(&#x27;a fail&#x27;) console.log(&#x27;a_&#x27; + a) // ä¸ä¼šæ‰§è¡Œ &#125; catch (e) &#123; console.log(e) // &#x27;a fail&#x27; &#125; let b = await Promise.reject(&#x27;b fail&#x27;) .catch(e =&gt; &#123; console.log(e) // &#x27;b fail&#x27; &#125;) console.log(&#x27;b_&#x27; + b) // &#x27;bundefined&#x27;&#125;fn().then(res =&gt; &#123; console.log(res) // undefined&#125;, err =&gt; &#123; console.log(err) // ä¸ä¼šæ‰§è¡Œ&#125;) å¦‚æœ async å‡½æ•°é‡Œçš„å¤šä¸ªå¼‚æ­¥æ“ä½œä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œå»ºè®®å°†ä»–ä»¬å†™åˆ°ä¸€èµ·å‡å°‘æ‰§è¡Œæ—¶é—´ï¼š 12345678// å†™æ³•ä¸€let [foo, bar] = await Promise.all([getFoo(), getBar()])// å†™æ³•äºŒlet fooPromise = getFoo()let barPromise = getBar()let foo = await fooPromiselet bar = await barPromise await å‘½ä»¤åªèƒ½ç”¨åœ¨ async å‡½æ•°ä¹‹ä¸­ï¼Œå¦‚æœç”¨åœ¨æ™®é€šå‡½æ•°ï¼Œå°±ä¼šæŠ¥é”™ã€‚ å…±äº«å†…å­˜å’ŒAtomicså¯¹è±¡ SharedArrayBuffer Atomics ES2018 Promise.prototype.finally()Promise.prototype.finally() ç”¨äºç»™ Promise å¯¹è±¡æ·»åŠ  onFinally å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯åšä¸€äº›æ¸…ç†çš„å·¥ä½œï¼Œåªæœ‰çŠ¶æ€å˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œè¯¥ onFinally å‡½æ•°ã€‚ 123456function onFinally() &#123; console.log(888) // å¹¶ä¸ä¼šæ‰§è¡Œ &#125;new Promise((resolve, reject) =&gt; &#123; &#125;).finally(onFinally) finally() ä¼šç”Ÿæˆä¸€ä¸ª Promise æ–°å®ä¾‹ï¼Œfinally ä¸€èˆ¬ä¼šåŸæ ·åä¼ çˆ¶ Promiseï¼Œæ— è®ºçˆ¶çº§å®ä¾‹æ˜¯ä»€ä¹ˆçŠ¶æ€ï¼š 123456789let p1 = new Promise(() =&gt; &#123;&#125;)let p2 = p1.finally(() =&gt; &#123;&#125;)setTimeout(console.log, 0, p2) // Promise &#123;&lt;pending&gt;&#125;let p3 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p4 = p3.finally(() =&gt; &#123;&#125;)setTimeout(console.log, 0, p3) // Promise &#123;&lt;fulfilled&gt;: 3&#125; ä¸Šé¢è¯´çš„æ˜¯ä¸€èˆ¬ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ finally é‡Œè¿”å›äº†ä¸€ä¸ªé fulfilled çš„ Promise æˆ–è€…æŠ›å‡ºäº†å¼‚å¸¸çš„æ—¶å€™ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çŠ¶æ€çš„æ–°å®ä¾‹ï¼š 12345678910111213let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.finally(() =&gt; new Promise(() =&gt; &#123;&#125;))setTimeout(console.log, 0, p2) // Promise &#123;&lt;pending&gt;&#125;let p3 = p1.finally(() =&gt; Promise.reject(6))setTimeout(console.log, 0, p3) // Promise &#123;&lt;rejected&gt;: 6&#125;let p4 = p1.finally(() =&gt; &#123; throw new Error(&#x27;error&#x27;)&#125;)setTimeout(console.log, 0, p4) // Promise &#123;&lt;rejected&gt;: Error: error&#125; å‚è€ƒï¼šæ·±å…¥ç†è§£Promise å¼‚æ­¥è¿­ä»£å™¨æƒ³è¦äº†è§£å¼‚æ­¥è¿­ä»£å™¨æœ€å¥½çš„æ–¹å¼å°±æ˜¯å’ŒåŒæ­¥è¿­ä»£å™¨è¿›è¡Œå¯¹æ¯”ã€‚æˆ‘ä»¬çŸ¥é“å¯è¿­ä»£æ•°æ®çš„å†…éƒ¨éƒ½æ˜¯æœ‰ä¸€ä¸ª Symbol.iterator å±æ€§ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡Œåä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œè¿™ä¸ªè¿­ä»£å™¨å¯¹è±¡æœ‰ä¸€ä¸ª next() æ–¹æ³•å¯ä»¥å¯¹æ•°æ®è¿›è¡Œè¿­ä»£ï¼Œnext() æ‰§è¡Œåä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«äº†å½“å‰è¿­ä»£å€¼ value å’Œ æ ‡è¯†æ˜¯å¦å®Œæˆè¿­ä»£çš„ done å±æ€§ï¼š 1234let iterator = [1, 2][Symbol.iterator]()iterator.next() // &#123; value: 1, done: false &#125;iterator.next() // &#123; value: 2, done: false &#125;iterator.next() // &#123; value: undefinde, done: true &#125; ä¸Šé¢è¿™é‡Œçš„ next() æ‰§è¡Œçš„æ˜¯åŒæ­¥æ“ä½œï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯åŒæ­¥è¿­ä»£å™¨ï¼Œä½†æ˜¯å¦‚æœ next() é‡Œéœ€è¦æ‰§è¡Œå¼‚æ­¥æ“ä½œï¼Œé‚£å°±éœ€è¦å¼‚æ­¥è¿­ä»£äº†ï¼Œå¯å¼‚æ­¥è¿­ä»£æ•°æ®çš„å†…éƒ¨æœ‰ä¸€ä¸ª Symbol.asyncIterator å±æ€§ï¼ŒåŸºäºæ­¤æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªå¼‚æ­¥è¿­ä»£å™¨ï¼š 12345678910111213141516171819class Emitter &#123; constructor(iterable) &#123; this.data = iterable &#125; [Symbol.asyncIterator]() &#123; let length = this.data.length, index = 0; return &#123; next:() =&gt; &#123; const done = index &gt;= length const value = !done ? this.data[index++] : undefined return new Promise((resolve, reject) =&gt; &#123; resolve(&#123;value, done&#125;) &#125;) &#125; &#125; &#125;&#125; å¼‚æ­¥è¿­ä»£å™¨çš„ next() ä¼šè¿›è¡Œå¼‚æ­¥çš„æ“ä½œï¼Œé€šå¸¸æ˜¯è¿”å›ä¸€ä¸ª Promiseï¼Œæ‰€ä»¥éœ€è¦å¯¹åº”çš„å¤„ç†å‡½æ•°å»å¤„ç†ç»“æœï¼š 1234567891011let emitter = new Emitter([1, 2, 3])let asyncIterator = emitter[Symbol.asyncIterator]()asyncIterator.next().then(res =&gt; &#123; console.log(res) // &#123; value: 1, done: false &#125;&#125;)asyncIterator.next().then(res =&gt; &#123; console.log(res) // &#123; value: 2, done: false &#125;&#125;)asyncIterator.next().then(res =&gt; &#123; console.log(res) // &#123; value: 3, done: false &#125;&#125;) å¦å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨ for await...of æ¥è¿­ä»£å¼‚æ­¥å¯è¿­ä»£æ•°æ®ï¼š 12345678let asyncIterable = new Emitter([1, 2, 3])async function asyncCount() &#123; for await (const x of asyncIterable ) &#123; console.log(x) &#125;&#125;asyncCount()// 1 2 3 å¦å¤–è¿˜å¯ä»¥é€šè¿‡å¼‚æ­¥ç”Ÿæˆå™¨æ¥åˆ›å»ºå¼‚æ­¥è¿­ä»£å™¨ï¼š 12345678910111213141516171819202122class Emitter &#123; constructor(iterable) &#123; this.data = iterable &#125; async *[Symbol.asyncIterator]() &#123; let length = this.data.length, index = 0; while (index &lt; length) &#123; yield this.data[index++] &#125; &#125;&#125;async function asyncCount() &#123; let emitter = new Emitter([1, 2, 3]) const asyncIterable = emitter[Symbol.asyncIterator]() for await (const x of asyncIterable ) &#123; console.log(x) &#125;&#125;asyncCount()// 1 2 3 å‚è€ƒï¼š Iteration_protocols for-awaitâ€¦of sä¿®é¥°ç¬¦(dotAllæ¨¡å¼)æ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†ä¸€ä¸ª s ä¿®é¥°ç¬¦ï¼Œä½¿å¾— . å¯ä»¥åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ï¼š 12/foo.bar/.test(&#x27;foo\\nbar&#x27;) // false/foo.bar/s.test(&#x27;foo\\nbar&#x27;) // true ä¸Šé¢è¿™åˆè¢«ç§°ä¸º dotAll æ¨¡å¼ï¼Œè¡¨ç¤ºç‚¹ï¼ˆdotï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚æ‰€ä»¥ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ï¼š 1/foo.bar/s.dotAll // true å…·åç»„åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨æ•è·ç»„æ¥åŒ¹é…å­—ç¬¦ä¸²ï¼Œä½†æ˜¯æƒ³è¦è·å–æŸä¸ªç»„çš„ç»“æœåªèƒ½é€šè¿‡å¯¹åº”çš„ç´¢å¼•æ¥è·å–ï¼š 123456let re = /(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)/let result = re.exec(&#x27;2015-01-02&#x27;)// result[0] === &#x27;2015-01-02&#x27;// result[1] === &#x27;2015&#x27;// result[2] === &#x27;01&#x27;// result[3] === &#x27;02&#x27; è€Œç°åœ¨æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™æ•è·ç»„ (?&lt;name&gt;...) åŠ ä¸Šåå­— name ï¼Œé€šè¿‡åå­—æ¥è·å–å¯¹åº”ç»„çš„ç»“æœï¼š 12345let re = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/let result = re.exec(&#x27;2015-01-02&#x27;)// result.groups.year === &#x27;2015&#x27;// result.groups.month === &#x27;01&#x27;// result.groups.day === &#x27;02&#x27; é…åˆè§£æ„èµ‹å€¼å¯ä»¥å†™å‡ºéå¸¸ç²¾ç®€çš„ä»£ç ï¼š 12let &#123;groups: &#123;year, month, day&#125;&#125; = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/.exec(&#x27;2015-01-02&#x27;)console.log(year, month, day) // 2015 01 02 å…·åç»„ä¹Ÿå¯ä»¥é€šè¿‡ä¼ é€’ç»™ String.prototype.replace çš„æ›¿æ¢å€¼ä¸­è¿›è¡Œå¼•ç”¨ã€‚å¦‚æœè¯¥å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ $&lt;name&gt; è·å–åˆ°å¯¹åº”ç»„çš„ç»“æœï¼š 123let re = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/let result = &#x27;2015-01-02&#x27;.replace(re, &#x27;$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;&#x27;)// result === &#x27;02/01/2015&#x27; å‚è€ƒï¼šproposal-regexp-named-groups åè¡Œæ–­è¨€åè¡Œæ–­è¨€ï¼š (?&lt;=y)xï¼Œx åªæœ‰åœ¨ y åé¢æ‰èƒ½åŒ¹é…ï¼š 1/(?&lt;=\\$)\\d+/.exec(&#x27;I have $100.&#x27;) // [&#x27;100&#x27;] åè¡Œå¦å®šæ–­è¨€ï¼š (?&lt;!y)xï¼Œx åªæœ‰ä¸åœ¨ y åé¢æ‰èƒ½åŒ¹é…ï¼š 1/(?&lt;!\\$)\\d+/.exec(&#x27;I have $100.&#x27;) // [&#x27;00&#x27;] Unicodeå±æ€§è½¬ä¹‰å…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ï¼Œ\\p&#123;...&#125; æ˜¯åŒ¹é…åŒ…å«ï¼Œ\\P&#123;...&#125; æ˜¯åŒ¹é…ä¸åŒ…å«çš„å­—ç¬¦ï¼Œä¸”å¿…é¡»æ­é… /u ä¿®é¥°ç¬¦æ‰ä¼šç”Ÿæ•ˆï¼š 12/\\p&#123;Emoji&#125;+/u.exec(&#x27;ğŸ˜ğŸ˜­ç¬‘æ­»æˆ‘äº†ğŸ¤£ğŸ˜‚ä¸è¡Œäº†&#x27;) // [&#x27;ğŸ˜ğŸ˜­&#x27;]/\\P&#123;Emoji&#125;+/u.exec(&#x27;ğŸ˜ğŸ˜­ç¬‘æ­»æˆ‘äº†ğŸ¤£ğŸ˜‚ä¸è¡Œäº†&#x27;) // [&#x27;ç¬‘æ­»æˆ‘äº†&#x27;] è¿™é‡Œå¯ä»¥æŸ¥è¯¢åˆ°æ›´å¤šçš„ Unicode çš„å±æ€§ Full_Properties å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦å¯¹è±¡çš„æ‰©å±•è¿ç®—ç¬¦å¯ä»¥ç”¨åˆ°è§£æ„èµ‹å€¼ä¸Šï¼Œä¸”åªèƒ½åº”ç”¨åˆ°æœ€åä¸€ä¸ªå˜é‡ä¸Šï¼š 12let &#123;x, ...y&#125; = &#123;x: 1, a: 2, b: 3&#125;console.log(y) // &#123;a: 2, b: 3&#125; å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦ä¸èƒ½è§£æ„åŸå‹ä¸Šçš„å±æ€§ï¼š 1234let obj = &#123; x: 1 &#125;obj.__proto__ = &#123; y: 2 &#125;let &#123;...a&#125; = objconsole.log(a.y) // undefined åº”ç”¨ä¸€ï¼šå¯ä»¥å®ç°æµ…æ‹·è´ï¼Œä½†æ˜¯ä¸ä¼šæ‹·è´åŸå§‹å±æ€§ï¼š 123456789101112let person = Object.create(&#123; name: &#x27;å¸ƒå…°&#x27; &#125;)person.age = 12// æµ…æ‹·è´å†™æ³•ä¸€let &#123; ...pClone1 &#125; = personconsole.log(pClone1) // &#123; age: 12 &#125;console.log(pClone1.name) // undefined// æµ…æ‹·è´å†™æ³•äºŒlet pClone2 = &#123;...person&#125;console.log(pClone2) // &#123; age: 12 &#125;console.log(pClone2.name) // undefined åº”ç”¨äºŒï¼šåˆå¹¶ä¸¤ä¸ªå¯¹è±¡ï¼š 1234let ab = &#123;...a, ...b&#125;// ç­‰åŒäºlet ab = Object.assign(&#123;&#125;, a, b); åº”ç”¨ä¸‰ï¼šé‡å†™å¯¹è±¡å±æ€§ 1let aWithOverrides = &#123; ...a, x: 1, y: 2 &#125;; åº”ç”¨å››ï¼šç»™æ–°å¯¹è±¡è®¾ç½®é»˜è®¤å€¼ 1let aWithDefaults = &#123; x: 1, y: 2, ...a &#125;; åº”ç”¨äº”ï¼šåˆ©ç”¨æ‰©å±•è¿ç®—ç¬¦çš„è§£æ„èµ‹å€¼å¯ä»¥æ‰©å±•å‡½æ•°å‚æ•°ï¼š 123456function baseFunction(&#123; a, b &#125;) &#123;&#125;function wrapperFunction(&#123; x, y, ...restConfig &#125;) &#123; // ä½¿ç”¨ x å’Œ y å‚æ•°è¿›è¡Œæ“ä½œ // å…¶ä½™å‚æ•°ä¼ ç»™åŸå§‹å‡½æ•° return baseFunction(restConfig)&#125; å‚è€ƒï¼š Object Spread Initializer Object Rest Destructuring æ”¾æ¾å¯¹æ ‡ç­¾æ¨¡æ¿é‡Œå­—ç¬¦ä¸²è½¬ä¹‰çš„é™åˆ¶ECMAScript 6 å…¥é—¨ ES2019 å…è®¸çœç•¥catché‡Œçš„å‚æ•°å¼‚å¸¸è¢«æ•è·çš„æ—¶å€™å¦‚æœä¸éœ€è¦åšæ“ä½œï¼Œç”šè‡³å¯ä»¥çœç•¥ catch(err) é‡Œçš„å‚æ•°å’Œåœ†æ‹¬å·ï¼š 12345try &#123;&#125; catch &#123; &#125; JSON.stringify()å˜åŠ¨UTF-8 æ ‡å‡†è§„å®šï¼Œ0xD800 åˆ° 0xDFFF ä¹‹é—´çš„ç ç‚¹ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»é…å¯¹ä½¿ç”¨ã€‚æ‰€ä»¥ JSON.stringify() å¯¹å•ä¸ªç ç‚¹è¿›è¡Œæ“ä½œï¼Œå¦‚æœç ç‚¹ç¬¦åˆ UTF-8 æ ‡å‡†ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çš„å­—ç¬¦ï¼Œå¦åˆ™ä¼šè¿”å›å¯¹åº”çš„ç ç‚¹ï¼š 12JSON.stringify(&#x27;\\u&#123;1f600&#125;&#x27;) // &quot;&quot;ğŸ˜€&quot;&quot;JSON.stringify(&#x27;\\u&#123;D834&#125;&#x27;) // &quot;&quot;\\ud834&quot;&quot; Symbol.prototype.descriptionSymbol å®ä¾‹æ–°å¢äº†ä¸€ä¸ªæè¿°å±æ€§ descriptionï¼š 12let symbol = Symbol(&#x27;foo&#x27;)symbol.description // &#x27;foo&#x27; Function.prototype.toString()å‡½æ•°çš„ toString() ä¼šåŸæ ·è¾“å‡ºå‡½æ•°å®šä¹‰æ—¶å€™çš„æ ·å­ï¼Œä¸ä¼šçœç•¥æ³¨é‡Šå’Œç©ºæ ¼ã€‚ Object.fromEntries()Object.fromEntries() æ–¹æ³•æ˜¯ Object.entries() çš„é€†æ“ä½œï¼Œç”¨äºå°†ä¸€ä¸ªé”®å€¼å¯¹æ•°ç»„è½¬ä¸ºå¯¹è±¡ï¼š 123let person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;let keyValueArr = Object.entries(person) // [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]]let obj = Object.fromEntries(arr) // &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; å¸¸ç”¨å¯è¿­ä»£æ•°æ®ç»“æ„ä¹‹é—´çš„è£…æ¢ï¼š 12345678910111213let person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;// å¯¹è±¡ -&gt; é”®å€¼å¯¹æ•°ç»„let keyValueArr = Object.entries(person) // [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]]// é”®å€¼å¯¹æ•°ç»„ -&gt; Maplet map = new Map(keyValueArr) // Map &#123;&quot;name&quot;: &quot;å¸ƒå…°&quot;, &quot;age&quot;: 12&#125;// Map -&gt; é”®å€¼å¯¹æ•°ç»„let arr = Array.from(map) // [[&#x27;name&#x27;, &#x27;å¸ƒå…°&#x27;], [&#x27;age&#x27;, 12]] // é”®å€¼å¯¹æ•°ç»„ -&gt; å¯¹è±¡let obj = Array.from(arr).reduce((acc, [ key, val ]) =&gt; Object.assign(acc, &#123; [key]: val &#125;), &#123;&#125;) // &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; å‚è€ƒï¼šObject.fromEntries å­—ç¬¦ä¸²å¯ç›´æ¥è¾“å…¥è¡Œåˆ†éš”ç¬¦å’Œæ®µåˆ†éš”ç¬¦JavaScript è§„å®šæœ‰ 5 ä¸ªå­—ç¬¦ï¼Œä¸èƒ½åœ¨å­—ç¬¦ä¸²é‡Œé¢ç›´æ¥ä½¿ç”¨ï¼Œåªèƒ½ä½¿ç”¨è½¬ä¹‰å½¢å¼ã€‚ U+005Cï¼šåæ–œæ ï¼ˆreverse solidus) U+000Dï¼šå›è½¦ï¼ˆcarriage returnï¼‰ U+2028ï¼šè¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰ U+2029ï¼šæ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰ U+000Aï¼šæ¢è¡Œç¬¦ï¼ˆline feedï¼‰ ä½†æ˜¯ç”±äº JSON å…è®¸å­—ç¬¦ä¸²é‡Œå¯ä»¥ä½¿ç”¨ U+2028 å’Œ U+2029ï¼Œæ‰€ä»¥ä½¿å¾— JSON.parse() å»è§£æå­—ç¬¦ä¸²çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ ES2019 å…è®¸æ¨¡æ¿å­—ç¬¦ä¸²é‡Œå¯ä»¥ç›´æ¥è¿™ä¸¤ä¸ªå­—ç¬¦ï¼š 123JSON.parse(&#x27;&quot;\\u2028&quot;&#x27;) // &quot;&quot;JSON.parse(&#x27;&quot;\\u2029&quot;&#x27;) // &quot;&quot;JSON.parse(&#x27;&quot;\\u005C&quot;&#x27;) // SyntaxError String.prototype.trimStartæ¶ˆé™¤å­—ç¬¦ä¸²å¤´éƒ¨ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼›æµè§ˆå™¨è¿˜é¢å¤–å¢åŠ äº†å®ƒçš„åˆ«åå‡½æ•° trimLeft()ï¼š 1234let str = &#x27; hello world &#x27;let newStr = str.trimStart()console.log(newStr, newStr === str) // &#x27;hello world &#x27; false String.prototype.trimEndæ¶ˆé™¤å­—ç¬¦ä¸²å°¾éƒ¨ç©ºæ ¼ï¼Œè¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼›æµè§ˆå™¨è¿˜é¢å¤–å¢åŠ äº†å®ƒçš„åˆ«åå‡½æ•° trimRight()ï¼š 1234let str = &#x27; hello world &#x27;let newStr = str.trimEnd()console.log(newStr, newStr === str) // &#x27; hello world&#x27; false Array.prototype.flat()arr.flat(depth) æŒ‰ç…§ depth ï¼ˆä¸ä¼ å€¼çš„è¯é»˜è®¤æ˜¯ 1ï¼‰æ·±åº¦æ‹å¹³ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”å°†ç»“æœä»¥æ–°æ•°ç»„å½¢å¼è¿”å›ï¼š 12345678// depth é»˜è®¤æ˜¯ 1const arr1 = [1, 2, [3, 4]]console.log(arr1.flat()) // [1, 2, 3, 4]// ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„ï¼›è‡ªåŠ¨è·³è¿‡ç©ºæ•°ç»„ï¼›const arr2 = [1, , [2, [3, [4]]]]console.log(arr2.flat(Infinity))// [1, 2, 3, 4] ç”¨ reduce å®ç°æ‹å¹³ä¸€å±‚æ•°ç»„ï¼š 123456789const arr = [1, 2, [3, 4]]// æ–¹æ³•ä¸€let newStr = arr.reduce((acc, cur) =&gt; acc.concat(cur), [])// æ–¹æ³•äºŒconst flattened = arr =&gt; [].concat(...arr)flattened(arr) å‚è€ƒï¼šflat Array.prototype.flatMap()flatMap(callback) ä½¿ç”¨æ˜ å°„å‡½æ•° callback æ˜ å°„æ¯ä¸ªå…ƒç´ ï¼Œcallback æ¯æ¬¡çš„è¿”å›å€¼ç»„æˆä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ•°ç»„æ‰§è¡Œç±»ä¼¼ arr.flat(1) çš„æ“ä½œè¿›è¡Œæ‹å¹³ä¸€å±‚åæœ€åè¿”å›ç»“æœï¼š 1234const arr1 = [1, 2, 3, 4]arr1.flatMap(x =&gt; [x * 2])// å°† [[2], [4], [6], [8]] æ•°ç»„æ‹å¹³ä¸€å±‚å¾—åˆ°æœ€ç»ˆç»“æœï¼š[2, 4, 6, 8] å‚è€ƒï¼šflatMap ES2020 String.prototype.matchAll()String.prototype.matchAll() æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ª RegExpStringIterator è¿­ä»£å™¨åŒæ˜¯ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ for...of è¿›è¡Œè¿­ä»£ï¼š 12345678let str = &#x27;test1test2&#x27;let regexp = /t(e)(st(\\d?))/glet iterable = str.matchAll(regexp)for (const x of iterable) &#123; console.log(x)&#125;// [&#x27;test1&#x27;, &#x27;e&#x27;, &#x27;st1&#x27;, &#x27;1&#x27;, index: 0, input: &#x27;test1test1&#x27;, groups: undefined]// [&#x27;test2&#x27;, &#x27;e&#x27;, &#x27;st2&#x27;, &#x27;2&#x27;, index: 5, input: &#x27;test1test2&#x27;, groups: undefined] æ³¨æ„å½“ä½¿ç”¨ matchAll(regexp) çš„æ—¶å€™ï¼Œæ­£åˆ™è¡¨è¾¾å¼å¿…é¡»åŠ ä¸Š /g ä¿®é¥°ç¬¦ã€‚ ä¹Ÿå¯ä»¥å°†è¿™ä¸ªå¯è¿­ä»£æ•°æ®è½¬æˆæ•°ç»„å½¢å¼ï¼š 12345// æ–¹æ³•ä¸€[...str.matchAll(regexp)]// æ–¹æ³•äºŒArray.from(str.matchAll(regexp)) åŠ¨æ€import()æ ‡å‡†ç”¨æ³•çš„ import å¯¼å…¥çš„æ¨¡å—æ˜¯é™æ€çš„ï¼Œä¼šä½¿æ‰€æœ‰è¢«å¯¼å…¥çš„æ¨¡å—ï¼Œåœ¨åŠ è½½æ—¶å°±è¢«ç¼–è¯‘ï¼ˆæ— æ³•åšåˆ°æŒ‰éœ€ç¼–è¯‘ï¼Œé™ä½é¦–é¡µåŠ è½½é€Ÿåº¦ï¼‰ã€‚æœ‰äº›åœºæ™¯ä¸­ï¼Œä½ å¯èƒ½å¸Œæœ›æ ¹æ®æ¡ä»¶å¯¼å…¥æ¨¡å—æˆ–è€…æŒ‰éœ€å¯¼å…¥æ¨¡å—ï¼Œè¿™æ—¶ä½ å¯ä»¥ä½¿ç”¨åŠ¨æ€å¯¼å…¥ä»£æ›¿é™æ€å¯¼å…¥ã€‚ æ¯”å¦‚æŒ‰éœ€åŠ è½½ä¸€ä¸ªæ¨¡å—å¯ä»¥è¿™æ ·ï¼š 123if (xxx) &#123; import(&#x27;./module.js&#x27;)&#125; import() æ˜¯å¼‚æ­¥å¯¼å…¥çš„ï¼Œç»“æœä¼šè¿”å›ä¸€ä¸ª Promiseï¼š 1234import(&#x27;/module.js&#x27;).then((module) =&gt; &#123; // Do something with the module.&#125;) åŠ¨æ€ import() çš„åº”ç”¨åœºæ™¯æŒºå¤šçš„ï¼Œæ¯”å¦‚ Vue ä¸­çš„è·¯ç”±æ‡’åŠ è½½å°±æ˜¯ä½¿ç”¨çš„åŠ¨æ€å¯¼å…¥ç»„ä»¶ã€‚å¦å¤–ç”±äºåŠ¨æ€æ€§ä¸ä¾¿äºé™æ€åˆ†æå·¥å…·å’Œ tree-shaking å·¥ä½œï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨ã€‚ BigIntBigInt æ˜¯ä¸€ç§å†…ç½®å¯¹è±¡ï¼Œå®ƒæä¾›äº†ä¸€ç§æ–¹æ³•æ¥è¡¨ç¤ºå¤§äº $2^{53}$ - 1 çš„æ•´æ•°ã€‚è¿™åŸæœ¬æ˜¯ Javascript ä¸­å¯ä»¥ç”¨ Number è¡¨ç¤ºçš„æœ€å¤§æ•°å­—ã€‚BigInt å¯ä»¥è¡¨ç¤ºä»»æ„å¤§çš„æ•´æ•°ã€‚ ä¸ºäº†åŒºåˆ† Numberï¼Œå®šä¹‰ä¸€ä¸ª BigInt éœ€è¦åœ¨æ•´æ•°åé¢åŠ ä¸Šä¸€ä¸ª nï¼Œæˆ–è€…ç”¨å‡½æ•°ç›´æ¥å®šä¹‰ï¼š 12const num1 = 10nconst num2 = BigInt(20) Number å’Œ BigInt ä¹‹é—´èƒ½è¿›è¡Œæ¯”è¾ƒï¼Œä½†ä»–ä»¬ä¹‹é—´æ˜¯å®½æ¾ç›¸ç­‰ï¼›ä¸”ç”±äºä»–ä»¬è¡¨ç¤ºçš„æ˜¯ä¸åŒç±»å‹çš„æ•°å­—ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è¿›è¡Œå››åˆ™è¿ç®—ï¼š 1234510n == 10 // true10n === 10 // false10n &gt; 8 // true10 + Number(10n) // 2010 + 10n // TypeError Promise.allSettledPromise.allSettled(iterable) å½“æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç» settledï¼Œå³çŠ¶æ€å˜åŒ–è¿‡äº†ï¼Œé‚£ä¹ˆå°†è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¯¥æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰å®ä¾‹çš„å€¼å’ŒçŠ¶æ€ç»„åˆæˆçš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯é¡¹æ˜¯ç”±æ¯ä¸ªå®ä¾‹çš„çŠ¶æ€å’Œå†…éƒ¨å€¼ç»„æˆçš„å¯¹è±¡ã€‚ 12345678910111213141516171819202122function init()&#123; return 3&#125;let p1 = Promise.allSettled([ new Promise((resolve, reject) =&gt; &#123; resolve(9) &#125;).then(res =&gt; &#123;&#125;), new Promise((resolve, reject) =&gt; &#123; reject(6) &#125;), init()])let p2 = p1.then(res =&gt; &#123; console.log(res)&#125;, err =&gt; &#123; console.log(err)&#125;)// [// &#123;status: &quot;fulfilled&quot;, value: undefined&#125;, // &#123;status: &quot;rejected&quot;, reason: 6&#125;, // &#123;status: &quot;fulfilled&quot;, value: 3&#125;// ] åªè¦æ‰€æœ‰å®ä¾‹ä¸­åŒ…å«ä¸€ä¸ª pending çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆ Promise.allSettled() çš„ç»“æœä¸ºè¿”å›ä¸€ä¸ªè¿™æ · Promise &#123;&lt;pending&gt;&#125; çš„å®ä¾‹ã€‚ globalThisåœ¨ä»¥å‰ï¼Œä»ä¸åŒçš„ JavaScript ç¯å¢ƒä¸­è·å–å…¨å±€å¯¹è±¡éœ€è¦ä¸åŒçš„è¯­å¥ã€‚åœ¨ Web ä¸­ï¼Œå¯ä»¥é€šè¿‡ windowã€self æˆ–è€… frames å–åˆ°å…¨å±€å¯¹è±¡ï¼Œä½†æ˜¯åœ¨ Web Workers ä¸­ï¼Œåªæœ‰ self å¯ä»¥ã€‚åœ¨ Node.js ä¸­ï¼Œå®ƒä»¬éƒ½æ— æ³•è·å–ï¼Œå¿…é¡»ä½¿ç”¨ globalã€‚ è€Œç°åœ¨åªéœ€è¦ä½¿ç”¨ globalThis å³å¯è·å–åˆ°é¡¶å±‚å¯¹è±¡ï¼Œè€Œä¸ç”¨æ‹…å¿ƒç¯å¢ƒé—®é¢˜ã€‚ 12// åœ¨æµè§ˆå™¨ä¸­globalThis === window // true import.metaimport.meta æ˜¯ä¸€ä¸ªç»™ JavaScript æ¨¡å—æš´éœ²ç‰¹å®šä¸Šä¸‹æ–‡çš„å…ƒæ•°æ®å±æ€§çš„å¯¹è±¡ã€‚å®ƒåŒ…å«äº†è¿™ä¸ªæ¨¡å—çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¯´è¿™ä¸ªæ¨¡å—çš„ URLï¼Œimport.meta å¿…é¡»åœ¨ä¸€ä¸ªæ¨¡å—é‡Œä½¿ç”¨ï¼š 123456// æ²¡æœ‰å£°æ˜ type=&quot;module&quot;ï¼Œå°±ä½¿ç”¨ import.meta ä¼šæŠ¥é”™&lt;script type=&quot;module&quot; src=&quot;./js/module.js&quot;&gt;&lt;/script&gt;// åœ¨module.jsé‡Œconsole.log(import.meta) // &#123;url: &quot;http://localhost/3ag/js/module.js&quot;&#125; å¦‚æœéœ€è¦åœ¨é…ç½®äº† Webpack çš„é¡¹ç›®ï¼Œæ¯”å¦‚ Vue é‡Œä½¿ç”¨ import.meta éœ€è¦åŠ ä¸€ä¸ªåŒ…ä¸”é…ç½®ä¸€ä¸‹å‚æ•°ï¼Œå¦åˆ™é¡¹ç›®ç¼–è¯‘é˜¶æ®µä¼šæŠ¥é”™ã€‚ åŒ…é…ç½®è¯¦æƒ…å‚è€ƒï¼š@open-wc/webpack-import-meta-loader æ¯”å¦‚æˆ‘ç”¨çš„æ˜¯ 4.x ç‰ˆæœ¬çš„ vue-cliï¼Œé‚£æˆ‘éœ€è¦åœ¨ vue.config.js é‡Œé…ç½®ï¼š 12345678910module.exports = &#123; chainWebpack: config =&gt; &#123; config.module .rule(&#x27;js&#x27;) .test(/\\.js$/) .use(&#x27;@open-wc/webpack-import-meta-loader&#x27;) .loader(&#x27;@open-wc/webpack-import-meta-loader&#x27;) .end() &#125;&#125; å¯é€‰é“¾æ“ä½œç¬¦ï¼ˆ?.ï¼‰é€šå¸¸æˆ‘ä»¬è·å–ä¸€ä¸ªæ·±å±‚å¯¹è±¡çš„å±æ€§ä¼šéœ€è¦å†™å¾ˆå¤šåˆ¤æ–­æˆ–è€…ä½¿ç”¨é€»è¾‘ä¸ &amp;&amp; æ“ä½œç¬¦ï¼Œå› ä¸ºå¯¹è±¡çš„æŸä¸ªå±æ€§å¦‚æœä¸º null æˆ–è€… undefined å°±æœ‰å¯èƒ½æŠ¥é”™ï¼š 12345678910111213141516let obj = &#123; first: &#123; second: &#x27;å¸ƒå…°&#x27; &#125;&#125;// å†™æ³•ä¸€let name1 = &#x27;&#x27;if (obj) &#123; if (obj.first) &#123; name1 = obj.first.second &#125;&#125;// å†™æ³•äºŒlet name2 = obj &amp;&amp; obj.first &amp;&amp; obj.first.second ?. æ“ä½œç¬¦å…è®¸è¯»å–ä½äºè¿æ¥å¯¹è±¡é“¾æ·±å¤„çš„å±æ€§çš„å€¼ï¼Œè€Œä¸å¿…æ˜ç¡®éªŒè¯é“¾ä¸­çš„æ¯ä¸ªå¼•ç”¨æ˜¯å¦æœ‰æ•ˆã€‚å¦‚æœæŸä¸ªå±æ€§ä¸º null æˆ–è€… undefined åˆ™ç»“æœç›´æ¥ä¸º undefinedã€‚æœ‰äº†å¯é€‰é“¾æ“ä½œç¬¦å°±å¯ä»¥ä½¿å¾—è¡¨è¾¾å¼æ›´åŠ ç®€æ˜äº†ï¼Œå¯¹äºä¸Šé¢ä¾‹å­ç”¨å¯é€‰é“¾æ“ä½œç¬¦å¯ä»¥è¿™ä¹ˆå†™ï¼š 1let name3 = obj?.first?.second ç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼ˆ??ï¼‰å¯¹äºé€»è¾‘æˆ– || è¿ç®—ç¬¦ï¼Œå½“å¯¹è¿ç®—ç¬¦å·¦ä¾§çš„æ“ä½œæ•°è¿›è¡Œè£…æ¢ä¸º Boolean å€¼çš„æ—¶å€™ï¼Œå¦‚æœä¸º trueï¼Œåˆ™å–å·¦è¾¹çš„æ“ä½œæ•°ä¸ºç»“æœï¼Œå¦åˆ™å–å³è¾¹çš„æ“ä½œæ•°ä¸ºç»“æœï¼š 12let name = &#x27;&#x27; || &#x27;å¸ƒå…°&#x27;console.log(name) // &#x27;å¸ƒå…°&#x27; æˆ‘ä»¬éƒ½çŸ¥é“ &#39;&#39;ã€0ã€nullã€undefinedã€falseã€NaN ç­‰è½¬æˆ Boolean å€¼çš„æ—¶å€™éƒ½æ˜¯ falseï¼Œæ‰€ä»¥éƒ½ä¼šå–å³è¾¹çš„æ“ä½œæ•°ã€‚è¿™ä¸ªæ—¶å€™å¦‚æœè¦ç»™å˜é‡è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚æœé‡åˆ°æœ¬èº«å€¼å°±å¯èƒ½æ˜¯ &#39;&#39; æˆ– 0 çš„æƒ…å†µé‚£å°±ä¼šå‡ºé”™äº†ï¼Œä¼šè¢«é”™è¯¯çš„è®¾ç½®ä¸ºé»˜è®¤å€¼äº†ã€‚ è€Œ ?? æ“ä½œç¬¦å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œå‡ºç°çš„ï¼Œx ?? y åªæœ‰å·¦ä¾§çš„æ“ä½œæ•°ä¸º null æˆ– undefined çš„æ—¶å€™æ‰å–å³ä¾§æ“ä½œæ•°ï¼Œå¦åˆ™å–å·¦ä¾§æ“ä½œæ•°ï¼š 12let num = 0 ?? 1console.log(num) // 0 ES2021 å¦‚ä¸‹è¿™å‡ ä¸ªææ¡ˆå·²ç»ç¡®å®šäº†ä¼šåœ¨ 2021 å¹´å‘å¸ƒï¼Œæ‰€ä»¥æŠŠä»–ä»¬å½’åˆ° ES2021 ä¸­ã€‚ String.prototype.replaceAllä¹‹å‰éœ€è¦æ›¿æ¢ä¸€ä¸ªå­—ç¬¦ä¸²é‡Œçš„å…¨éƒ¨åŒ¹é…å­—ç¬¦å¯ä»¥è¿™æ ·åšï¼š 1234567const queryString = &#x27;q=query+string+parameters&#x27;// æ–¹æ³•ä¸€const withSpaces1 = queryString.replace(/\\+/g, &#x27; &#x27;)// æ–¹æ³•äºŒconst withSpaces2 = queryString.split(&#x27;+&#x27;).join(&#x27; &#x27;) è€Œç°åœ¨åªéœ€è¦è¿™ä¹ˆåšï¼š 1const withSpace3 = queryString.replaceAll(&#x27;+&#x27;, &#x27; &#x27;) replaceAll çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå½“æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå¿…é¡»åŠ ä¸Šå…¨å±€ä¿®é¥°ç¬¦ /gï¼Œå¦åˆ™æŠ¥é”™ã€‚ å‚è€ƒï¼šstring-replaceall Promise.any()Promsie.any() å’Œ Promise.all() ä¸€æ ·æ¥å—ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼Œç„¶åä¾æ®ä¸åŒçš„å…¥å‚ä¼šè¿”å›ä¸åŒçš„æ–°å®ä¾‹ï¼š ä¼ ä¸€ä¸ªç©ºçš„å¯è¿­ä»£å¯¹è±¡æˆ–è€…å¯è¿­ä»£å¯¹è±¡æ‰€æœ‰ Promise éƒ½æ˜¯ rejected çŠ¶æ€çš„ï¼Œåˆ™ä¼šæŠ›å‡ºä¸€ä¸ª AggregateError ç±»å‹çš„é”™è¯¯ï¼ŒåŒæ—¶è¿”å›ä¸€ä¸ª rejected çŠ¶æ€çš„æ–°å®ä¾‹ï¼š 1234let p1 = Promise.any([])let p2.catch(err =&gt; &#123;&#125;)setTimeout(console.log, 0, p1)// Promise &#123;&lt;rejected&gt;: AggregateError: All promises were rejected&#125; åªè¦å¯è¿­ä»£å¯¹è±¡é‡ŒåŒ…å«ä»»ä½•ä¸€ä¸ª fulfilled çŠ¶æ€çš„ Promiseï¼Œåˆ™ä¼šè¿”å›ç¬¬ä¸€ä¸ª fulfilled çš„å®ä¾‹ï¼Œå¹¶ä¸”ä»¥å®ƒçš„å€¼ä½œä¸ºæ–°å®ä¾‹çš„å€¼ï¼š 12345678let p = Promise.any([ 1, Promise.reject(2), new Promise((resolve, reject) =&gt; &#123;&#125;), Promise.resolve(3),])setTimeout(console.log, 0, p)// Promise &#123;&lt;fulfilled&gt;: 1&#125; å…¶ä»–æƒ…å†µä¸‹ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ª pending çŠ¶æ€çš„å®ä¾‹ï¼š 1234567let p = Promise.any([ Promise.reject(2), Promise.reject(3), new Promise((resolve, reject) =&gt; &#123;&#125;),])setTimeout(console.log, 0, p)// Promise &#123;&lt;pending&gt;: undefined&#125; WeakRefæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªæ™®é€šçš„å¼•ç”¨ï¼ˆé»˜è®¤æ˜¯å¼ºå¼•ç”¨ï¼‰ä¼šå°†ä¸ä¹‹å¯¹åº”çš„å¯¹è±¡ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚åªæœ‰å½“è¯¥å¯¹è±¡æ²¡æœ‰ä»»ä½•çš„å¼ºå¼•ç”¨æ—¶ï¼ŒJavaScript å¼•æ“ GC æ‰ä¼šé”€æ¯è¯¥å¯¹è±¡å¹¶ä¸”å›æ”¶è¯¥å¯¹è±¡æ‰€å çš„å†…å­˜ç©ºé—´ã€‚ WeakRef å¯¹è±¡å…è®¸ä½ ä¿ç•™å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å¼±å¼•ç”¨ï¼Œè€Œä¸ä¼šé˜»æ­¢è¢«å¼±å¼•ç”¨çš„å¯¹è±¡è¢« GC å›æ”¶ã€‚WeakRef çš„å®ä¾‹æ–¹æ³• deref() å¯ä»¥è¿”å›å½“å‰å®ä¾‹çš„ WeakRef å¯¹è±¡æ‰€ç»‘å®šçš„ target å¯¹è±¡ï¼Œå¦‚æœè¯¥ target å¯¹è±¡å·²è¢« GC å›æ”¶åˆ™è¿”å› undefinedï¼š 1234let person = &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125;let wr = new WeakRef(person)console.log(wr.deref()) // &#123; name: &#x27;å¸ƒå…°&#x27;, age: 12 &#125; æ­£ç¡®ä½¿ç”¨ WeakRef å¯¹è±¡éœ€è¦ä»”ç»†çš„è€ƒè™‘ï¼Œæœ€å¥½å°½é‡é¿å…ä½¿ç”¨ã€‚è¿™é‡Œé¢æœ‰è¯¸å¤šåŸå› ï¼Œæ¯”å¦‚ï¼šGC åœ¨ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºæœ‰å¯èƒ½åœ¨å¦ä¸€ä¸ª JavaScript å¼•æ“ä¸­çš„è¡Œä¸ºå¤§ç›¸å¾„åº­ï¼Œæˆ–è€…ç”šè‡³åœ¨åŒä¸€ç±»å¼•æ“ï¼Œä¸åŒç‰ˆæœ¬ä¸­ GC çš„è¡Œä¸ºéƒ½æœ‰å¯èƒ½æœ‰è¾ƒå¤§çš„å·®è·ã€‚GC ç›®å‰è¿˜æ˜¯ JavaScript å¼•æ“å®ç°è€…ä¸æ–­æ”¹è¿›å’Œæ”¹è¿›è§£å†³æ–¹æ¡ˆçš„ä¸€ä¸ªéš¾é¢˜ã€‚ å‚è€ƒï¼š WeakRef å†…å­˜ç®¡ç† é€»è¾‘èµ‹å€¼ç¬¦é€»è¾‘èµ‹å€¼ç¬¦åŒ…å« 3 ä¸ªï¼š x &amp;&amp;= yï¼šé€»è¾‘ä¸èµ‹å€¼ç¬¦ï¼Œç›¸å½“äº x &amp;&amp; (x = y) x ||= yï¼šé€»è¾‘æˆ–èµ‹å€¼ç¬¦ï¼Œç›¸å½“äº x || (x = y) x ??= yï¼šé€»è¾‘ç©ºèµ‹å€¼ç¬¦ï¼Œç›¸å½“äº x ?? (x = y) çœ‹å¦‚ä¸‹ç¤ºä¾‹ï¼ŒåŠ æ·±ç†è§£ï¼š 123456789let x = 0x &amp;&amp;= 1 // x: 0x ||= 1 // x: 1x ??= 2 // x: 1let y = 1y &amp;&amp;= 0 // y: 0y ||= null // y: nully ??= 2 // y: 2 æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ_ï¼‰å¯¹äºä¸‹é¢ä¸€ä¸²æ•°å­—ï¼Œä½ ä¸€çœ¼çœ‹ä¸Šå»ä¸ç¡®å®šå®ƒåˆ°åº•æ˜¯å¤šå°‘å§ï¼Ÿ 1const num = 1000000000 é‚£ç°åœ¨å‘¢ï¼Ÿæ˜¯ä¸æ˜¯å¯ä»¥å¾ˆæ¸…æ¥šçš„çœ‹å‡ºæ¥å®ƒæ˜¯ 10 äº¿ï¼š 1const num = 1_000_000_000 æ•°å€¼åˆ†éš”ç¬¦ï¼ˆ_ï¼‰çš„ä½œç”¨å°±æ˜¯ä¸ºäº†è®©æ•°å€¼çš„å¯è¯»æ€§æ›´å¼ºã€‚é™¤äº†èƒ½ç”¨äºåè¿›åˆ¶ï¼Œè¿˜å¯ä»¥ç”¨äºäºŒçº§åˆ¶ï¼Œåå…­è¿›åˆ¶ç”šè‡³æ˜¯ BigInt ç±»å‹ï¼š 123let binarary = 0b1010_0001_1000_0101let hex = 0xA0_B0_C0let budget = 1_000_000_000_000n ä½¿ç”¨æ—¶å¿…é¡»æ³¨æ„ _ çš„ä¸¤è¾¹å¿…é¡»è¦æœ‰ç±»å‹çš„æ•°å€¼ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼Œä»¥ä¸‹è¿™äº›éƒ½æ˜¯æ— æ•ˆçš„å†™æ³•ï¼š 1234let num = 10_let binarary = 0b1011_let hex = 0x_0A0Blet budget = 1_n å‚è€ƒæ–‡ç«  ECMAScript6å…¥é—¨ 1.5ä¸‡å­—æ¦‚æ‹¬ES6å…¨éƒ¨ç‰¹æ€§(å·²æ›´æ–°ES2020) è¿‘ä¸€ä¸‡å­—çš„ES6è¯­æ³•çŸ¥è¯†ç‚¹è¡¥å…… æ·±å…¥ç†è§£Promise for-awaitâ€¦of Iteration_protocols Object.fromEntries WeakRef å†…å­˜ç®¡ç† jshistory-cn sameValueZero","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"æ·±å…¥ç†è§£Promise","slug":"promise","date":"2020-10-22T02:11:30.000Z","updated":"2020-10-22T02:16:34.031Z","comments":true,"path":"2020/10/22/promise/","link":"","permalink":"https://bubuzou.com/2020/10/22/promise/","excerpt":"ä»å¼‚æ­¥ç¼–ç¨‹è¯´èµ·æˆ‘ä»¬éƒ½çŸ¥é“ JavaScript çš„ä»£ç æ‰§è¡Œçš„æ—¶å€™æ˜¯è·‘åœ¨å•çº¿ç¨‹ä¸Šçš„ï¼Œå¯ä»¥ç†è§£ä¸ºåªèƒ½æŒ‰ç…§ä»£ç çš„å‡ºç°é¡ºåºï¼Œä»ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡Œçš„æ‰§è¡Œï¼Œä½†æ˜¯é‡åˆ°äº†å¼‚æ­¥çš„è¡Œä¸ºï¼Œæ¯”å¦‚å®šæ—¶å™¨ï¼ˆä¸€å®šæ—¶é—´ä¹‹åæ‰å»æ‰§è¡Œï¼‰ï¼Œé‚£å°±éœ€è¦ç­‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåçš„ä¸€æ®µæ—¶é—´é‡Œå†å»æ‰§è¡Œå¼‚æ­¥ä»£ç ã€‚ å¯¹äºåŒæ­¥è¡Œä¸ºï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆæ¸…æ¥šçš„çŸ¥é“æ¯ä¸€è¡Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Œè¿™æ˜¯å› ä¸ºåé¢çš„æŒ‡ä»¤æ€»æ˜¯ç­‰åˆ°å‰é¢çš„æŒ‡ä»¤æ‰§è¡Œå®Œæˆåæ‰å»æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œçš„ç¬¬äºŒè¡Œé‡Œçš„å˜é‡ x åœ¨å†…å­˜é‡Œå·²ç»æ˜¯å®šä¹‰è¿‡çš„ã€‚ 12let x = 10;let y = x + 5;","text":"ä»å¼‚æ­¥ç¼–ç¨‹è¯´èµ·æˆ‘ä»¬éƒ½çŸ¥é“ JavaScript çš„ä»£ç æ‰§è¡Œçš„æ—¶å€™æ˜¯è·‘åœ¨å•çº¿ç¨‹ä¸Šçš„ï¼Œå¯ä»¥ç†è§£ä¸ºåªèƒ½æŒ‰ç…§ä»£ç çš„å‡ºç°é¡ºåºï¼Œä»ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡Œçš„æ‰§è¡Œï¼Œä½†æ˜¯é‡åˆ°äº†å¼‚æ­¥çš„è¡Œä¸ºï¼Œæ¯”å¦‚å®šæ—¶å™¨ï¼ˆä¸€å®šæ—¶é—´ä¹‹åæ‰å»æ‰§è¡Œï¼‰ï¼Œé‚£å°±éœ€è¦ç­‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåçš„ä¸€æ®µæ—¶é—´é‡Œå†å»æ‰§è¡Œå¼‚æ­¥ä»£ç ã€‚ å¯¹äºåŒæ­¥è¡Œä¸ºï¼Œå¦‚ä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾ˆæ¸…æ¥šçš„çŸ¥é“æ¯ä¸€è¡Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Œè¿™æ˜¯å› ä¸ºåé¢çš„æŒ‡ä»¤æ€»æ˜¯ç­‰åˆ°å‰é¢çš„æŒ‡ä»¤æ‰§è¡Œå®Œæˆåæ‰å»æ‰§è¡Œï¼Œæ‰€ä»¥è¿™é‡Œçš„ç¬¬äºŒè¡Œé‡Œçš„å˜é‡ x åœ¨å†…å­˜é‡Œå·²ç»æ˜¯å®šä¹‰è¿‡çš„ã€‚ 12let x = 10;let y = x + 5; ä½†æ˜¯å¯¹äºå¼‚æ­¥ä»£ç ï¼Œæˆ‘ä»¬å°±ä¸å¥½æ¨æ–­åˆ°åº•ä»€ä¹ˆæ—¶å€™ä¼šæ‰§è¡Œå®Œæˆäº†ã€‚æ¯”å¦‚ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œæˆ‘ä»¬å»åŠ¨æ€åŠ è½½æŸä¸ªè„šæœ¬ï¼Œä¼šè¿™æ ·åšï¼š 12345function loadScript(src) &#123; let script = document.createElement(&#x27;script&#x27;) script.src = src document.head.append(script)&#125; è¿™ä¸ªè„šæœ¬åŠ è½½å®Œæˆçš„æ—¶å€™ä¼šå»æ‰§è¡Œå®šä¹‰åœ¨è„šæœ¬é‡Œçš„ä¸€äº›å‡½æ•°ï¼Œæ¯”å¦‚åˆå§‹åŒ–å‡½æ•° initï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä¼šè¿™æ ·å†™ï¼š 1234567function loadScript(src) &#123; let script = document.createElement(&#x27;script&#x27;) script.src = src document.head.append(script)&#125;loadScript(&#x27;./js/script.js&#x27;)init() // å®šä¹‰åœ¨ ./js/script.js é‡Œçš„å‡½æ•° ä½†æ˜¯å®é™…æ‰§è¡Œåå´å‘ç°ï¼Œè¿™æ ·æ ¹æœ¬ä¸è¡Œï¼Œå› ä¸ºåŠ è½½è„šæœ¬æ˜¯éœ€è¦èŠ±æ—¶é—´çš„ï¼Œæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„è¡Œä¸ºï¼Œæµè§ˆå™¨æ‰§è¡Œ JavaScript çš„æ—¶å€™å¹¶ä¸ä¼šç­‰åˆ°è„šæœ¬åŠ è½½å®Œæˆçš„æ—¶å€™å†å»è°ƒç”¨ init å‡½æ•°ã€‚ ä»¥å¾€ï¼Œå¯¹äºè¿™ç§å¼‚æ­¥ç¼–ç¨‹çš„åšæ³•é€šå¸¸å°±æ˜¯é€šè¿‡ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°æ¥å¤„ç†ï¼Œä¸Šé¢é‚£ä¸ªä¾‹å­å¯ä»¥è¿™æ ·åšï¼š 123456789101112131415function loadScript(src, success, fail) &#123; let script = document.createElement(&#x27;script&#x27;) script.src = src script.onload = success script.onerror = fail document.head.append(script)&#125;loadScript(&#x27;./js/script.js&#x27;, success, fail)function success() &#123; console.log(&#x27;success&#x27;) init() // å®šä¹‰åœ¨ ./js/script.js ä¸­çš„å‡½æ•°&#125;function fail() &#123; console.log(&#x27;fail&#x27;)&#125; ä¸Šé¢è¿™æ ·åšèƒ½å¤Ÿä¿è¯åœ¨è„šæœ¬åŠ è½½å®Œæˆçš„æ—¶å€™ï¼Œå†å»æ‰§è¡Œè„šæœ¬é‡Œçš„å‡½æ•°ã€‚ä½†æ˜¯å¤šè€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœ success é‡Œåˆéœ€è¦åŠ è½½åˆ«çš„ js æ–‡ä»¶å‘¢ï¼Œé‚£å²‚ä¸æ˜¯éœ€è¦å¤šå±‚åµŒå¥—äº†ã€‚æ˜¯çš„ï¼Œè¿™æ ·çš„å¤šå±‚åµŒå¥—ä¼šä½¿å¾—ä»£ç å±‚æ¬¡å˜å¾—æ›´åŠ æ·±å…¥ï¼Œéš¾ä»¥é˜…è¯»ä»¥åŠåæœŸç»´æŠ¤æˆæœ¬éå¸¸é«˜ï¼Œå°¤å…¶æ˜¯å½“é‡Œé¢åŠ ä¸Šäº†å¾ˆå¤šçš„åˆ¤æ–­é€»è¾‘çš„æ—¶å€™æƒ…å†µä¼šæ›´åŠ ç³Ÿç³•ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„ â€œå›è°ƒåœ°ç‹±â€ï¼Œä¸”åˆå› ä¸ºå®ƒçš„ä»£ç å½¢çŠ¶å¾ˆåƒèººç€çš„é‡‘å­—å¡”ï¼Œæ‰€ä»¥æœ‰çš„äººä¹Ÿå–œæ¬¢å«å®ƒ â€œå™©è¿é‡‘å­—å¡”â€ã€‚ è€Œä¸ºäº†é¿å…è¿™ç±» â€œå›è°ƒåœ°ç‹±â€ é—®é¢˜ï¼Œç›®å‰æœ€å¥½çš„åšæ³•ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ Promiseã€‚ Promiseæ­£ç¯‡ä½¿ç”¨ Promise å¯ä»¥å¾ˆå¥½çš„è§£å†³ä¸Šé¢æåˆ°çš„ â€œå›è°ƒåœ°ç‹±â€ é—®é¢˜ï¼Œç›´æ¥æ¥çœ‹ç»“æœï¼š 123456789101112131415function loadScript(src) &#123; return new Promise(function(resolve, reject) &#123; let script = document.createElement(&#x27;script&#x27;); script.src = src; script.onload = () =&gt; resolve(script); script.onerror = () =&gt; reject(new Error(`Script load error for $&#123;src&#125;`)); document.head.append(script); &#125;);&#125;loadScript(&#x27;./scripts.js&#x27;).then(res =&gt; &#123; console.log(&#x27;success&#x27;, res); init()&#125;).catch(err =&gt; &#123; console.log(err);&#125;) è¿™é‡Œé€šè¿‡ä½¿ç”¨ Promise å®ä¾‹çš„ then å’Œ catch å‡½æ•°å°†å¤šå±‚åµŒå¥—çš„ä»£ç æ”¹æˆäº†åŒæ­¥å¤„ç†æµç¨‹ï¼Œçœ‹èµ·æ¥æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œé‚£ä»€ä¹ˆæ˜¯ Promise å‘¢ï¼Ÿ Promise é¦–å…ˆæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒé€šå¸¸ç”¨äºæè¿°ç°åœ¨å¼€å§‹æ‰§è¡Œï¼Œä¸€æ®µæ—¶é—´åæ‰èƒ½è·å¾—ç»“æœçš„è¡Œä¸ºï¼ˆå¼‚æ­¥è¡Œä¸ºï¼‰ï¼Œå†…éƒ¨ä¿å­˜äº†è¯¥å¼‚æ­¥è¡Œä¸ºçš„ç»“æœã€‚ç„¶åï¼Œå®ƒè¿˜æ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„å¯¹è±¡ï¼š pendingï¼šå¾…å®š fulfilledï¼šå…‘ç°ï¼Œæœ‰æ—¶å€™ä¹Ÿå«è§£å†³ï¼ˆresolvedï¼‰ rejectedï¼šæ‹’ç» ä¸€ä¸ª Promise åªæœ‰è¿™ 3 ç§çŠ¶æ€ï¼Œä¸”çŠ¶æ€çš„è½¬æ¢è¿‡ç¨‹æœ‰ä¸”ä»…æœ‰ 2 ç§ï¼š pending åˆ° fulfilled pending åˆ° rejected å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ Promise å¯¹è±¡æ„é€ å™¨æ¥åˆ›å»ºä¸€ä¸ª Promiseï¼š 1let promise = new Promise((resolve, reject) =&gt; &#123;&#125;) ä¼ é€’ç»™ new Promise çš„æ˜¯ executor æ‰§è¡Œå™¨ã€‚å½“ Promise è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œexecutor ä¼šç«‹å³åŒæ­¥æ‰§è¡Œã€‚executor å‡½æ•°é‡Œé€šå¸¸åšäº† 2 ä»¶äº‹æƒ…ï¼šåˆå§‹åŒ–ä¸€ä¸ªå¼‚æ­¥è¡Œä¸ºå’Œæ§åˆ¶çŠ¶æ€çš„æœ€ç»ˆè½¬æ¢ã€‚ 12345new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve() &#125;, 1000)&#125;) å¦‚ä¸Šä»£ç æ‰€ç¤ºï¼ŒsetTimeout å‡½æ•°ç”¨æ¥æè¿°ä¸€ä¸ªå¼‚æ­¥è¡Œä¸ºï¼Œè€Œ resolve ç”¨æ¥æ”¹å˜çŠ¶æ€ã€‚executor å‡½æ•°åŒ…å« 2 ä¸ªå‚æ•°ï¼Œä»–ä»¬éƒ½æ˜¯å›è°ƒå‡½æ•°ï¼Œç”¨äºæ§åˆ¶ Promise çš„çŠ¶æ€è½¬æ¢ï¼š resolveï¼šç”¨æ¥å°†çŠ¶æ€ pending è½¬æ¢æˆ fulfilled rejectï¼šç”¨æ¥å°†çŠ¶æ€ pending è½¬æ¢æˆ rejected ä¸€ä¸ª Promise çš„çŠ¶æ€ä¸€æ—¦è¢«è½¬æ¢è¿‡ï¼Œåˆ™æ— æ³•å†å˜æ›´ï¼š 12345678let p = new Promise((resolve, reject) =&gt; &#123; setTimeout(() =&gt; &#123; resolve(&#x27;ç¬¬ä¸€æ¬¡ resolve&#x27;) resolve(&#x27;ç¬¬äºŒæ¬¡ resolve&#x27;) // å°†è¢«å¿½ç•¥ reject(&#x27;ç¬¬ä¸€æ¬¡ reject&#x27;) // å°†è¢«å¿½ç•¥ &#125;, 0)&#125;)setTimeout(console.log, 1000, p) // Promise &#123;&lt;fulfilled&gt;: &quot;ç¬¬ä¸€æ¬¡ resolve&quot;&#125; å¯ä»¥çœ‹åˆ°æ‰§è¡Œäº† 2 æ¬¡ resolve å‡½æ•°å’Œ 1 æ¬¡ reject å‡½æ•°ï¼Œä½†æ˜¯ promise çš„æœ€ç»ˆç»“æœæ˜¯å–çš„ç¬¬ä¸€æ¬¡ resolve çš„ç»“æœï¼Œå°è¯äº†ä¸Šé¢çš„ç»“è®ºã€‚ ç”± new Promise æ„é€ å™¨è¿”å›çš„ Promise å¯¹è±¡å…·æœ‰å¦‚ä¸‹å†…éƒ¨å±æ€§ï¼š PromiseStateï¼šæœ€åˆæ˜¯ pendingï¼Œresolve è¢«è°ƒç”¨çš„æ—¶å€™å˜ä¸º fulfilledï¼Œæˆ–è€… reject è¢«è°ƒç”¨æ—¶ä¼šå˜ä¸º rejectedï¼› PromiseResultï¼šæœ€åˆæ˜¯ undefinedï¼Œresolve(value) è¢«è°ƒç”¨æ—¶å˜ä¸º valueï¼Œæˆ–è€…åœ¨ reject(error) è¢«è°ƒç”¨æ—¶å˜ä¸º errorã€‚ æ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­æ‰“å°å‡ºæ¥çš„ Promise å¯¹è±¡ç»“æœä¸­ï¼Œfulfilled æ˜¯å…¶å†…éƒ¨çš„ PromiseStateï¼Œè€Œ â€œç¬¬ä¸€æ¬¡ resolveâ€ æ˜¯å…¶ PromiseResultã€‚ 1// Promise &#123;&lt;fulfilled&gt;: &quot;ç¬¬ä¸€æ¬¡ resolve&quot;&#125; Promiseå®ä¾‹æ–¹æ³•Promise.prototype.then()Promise.prototype.then() å°†ç”¨äºä¸º Promise å®ä¾‹æ·»åŠ å¤„ç†ç¨‹åºçš„å‡½æ•°ã€‚å®ƒæ¥å— 2 ä¸ªå¯é€‰çš„å‚æ•°ï¼š onResolvedï¼šçŠ¶æ€ç”± pending è½¬æ¢æˆ fulfilled æ—¶æ‰§è¡Œï¼› onRejectedï¼šçŠ¶æ€ç”± pending è½¬æ¢æˆ rejected æ—¶æ‰§è¡Œã€‚ å®ƒå¯ä»¥å†™æˆè¿™æ ·ï¼š 123456789function onResolved(res) &#123; console.log(&#x27;resolved&#x27; + res) // resolved3&#125;function onRejected(err) &#123; console.log(&#x27;rejected&#x27; + err)&#125;new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;).then(onResolved, onRejected) æˆ–è€…å†™æˆæ›´ç®€å•çš„æ–¹å¼ï¼š 1234567new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;).then(res =&gt; &#123; console.log(&#x27;resolved&#x27; + res) // resolved3&#125;, err =&gt; &#123; console.log(&#x27;rejected&#x27; + err)&#125;) å› ä¸ºçŠ¶æ€çš„å˜åŒ–åªæœ‰ 2 ç§ï¼Œæ‰€ä»¥ onResolved å’Œ onRejected åœ¨æ‰§è¡Œçš„æ—¶å€™å¿…å®šæ˜¯äº’æ–¥ã€‚ ä¸Šé¢ä»‹ç»åˆ°äº† then() çš„å‚æ•°æ˜¯å¯é€‰çš„ï¼Œå½“åªæœ‰ onResolved çš„æ—¶å€™å¯ä»¥è¿™æ ·å†™ï¼š 123new Promise((resolve, reject) =&gt; &#123; resolve()&#125;).then(res =&gt; &#123;&#125;) å½“å‚æ•°åªæœ‰ onRejected çš„æ—¶å€™ï¼Œéœ€è¦æŠŠç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®ä¸º nullï¼š 123new Promise((resolve, reject) =&gt; &#123; reject()&#125;).then(null, err =&gt; &#123;&#125;) å¦‚æœç»™ then() å‡½æ•°ä¼ é€’æ¥äº†éå‡½æ•°å‚æ•°ï¼Œåˆ™ä¼šé»˜è®¤å¿½ç•¥ã€‚ Promise.prototype.catch()Promise.prototype.catch() ç”¨äºç»™ Promise å¯¹è±¡æ·»åŠ æ‹’ç»å¤„ç†ç¨‹åºã€‚åªæ¥å—ä¸€ä¸ªå‚æ•°ï¼šonRejected å‡½æ•°ã€‚å®é™…ä¸Šï¼Œä¸‹é¢è¿™ä¸¤ç§å†™æ³•æ˜¯ç­‰æ•ˆçš„ï¼š 1234567function onRejected(err)&#123;&#125;new Promise((resolve, reject) =&gt; &#123; reject()&#125;).catch(onRejected)new Promise((resolve, reject) =&gt; &#123; reject()&#125;).then(null, onRejected) Promise.prototype.finally()Promise.prototype.finally() ç”¨äºç»™ Promise å¯¹è±¡æ·»åŠ  onFinally å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯åšä¸€äº›æ¸…ç†çš„å·¥ä½œï¼Œåªæœ‰çŠ¶æ€å˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œè¯¥ onFinally å‡½æ•°ã€‚ 123456function onFinally() &#123; console.log(888) // å¹¶ä¸ä¼šæ‰§è¡Œ &#125;new Promise((resolve, reject) =&gt; &#123; &#125;).finally(onFinally) å› ä¸º onFinally å‡½æ•°æ˜¯æ²¡æœ‰ä»»ä½•å‚æ•°çš„ï¼Œæ‰€ä»¥åœ¨å…¶å†…éƒ¨å…¶å®å¹¶ä¸çŸ¥é“è¯¥ Promise çš„çŠ¶æ€æ˜¯æ€ä¹ˆæ ·çš„ã€‚ é“¾å¼è°ƒç”¨é“¾å¼è°ƒç”¨é‡Œæ¶‰åŠåˆ°çš„çŸ¥è¯†ç‚¹å¾ˆå¤šï¼Œæˆ‘ä»¬ä¸å¦¨å…ˆçœ‹çœ‹ä¸‹é¢è¿™é“é¢˜ï¼Œä½ èƒ½æ­£ç¡®è¾“å‡ºå…¶æ‰“å°é¡ºåºå˜›ï¼Ÿ 1234567891011121314new Promise((resolve, reject) =&gt; &#123; resolve()&#125;).then(() =&gt; &#123; console.log(&#x27;A&#x27;) new Promise((resolve, reject) =&gt; &#123; resolve() &#125;).then(() =&gt; &#123; console.log(&#x27;B&#x27;) &#125;).then(() =&gt; &#123; console.log(&#x27;C&#x27;) &#125;)&#125;).then(() =&gt; &#123; console.log(&#x27;D&#x27;)&#125;) è¿™é‡Œæˆ‘ä¸ç»™å‡ºç­”æ¡ˆï¼Œå¸Œæœ›ä½ èƒ½åŠ¨æ‰‹æ•²ä¸€æ•²ä»£ç ï¼Œç„¶åæ€è€ƒä¸‹ä¸ºä»€ä¹ˆï¼Ÿå®¹æˆ‘è®²å®Œè¿™éƒ¨åˆ†çŸ¥è¯†ï¼Œç›¸ä¿¡ä½ èƒ½è‡ªå·±ç†è§£å…¶ä¸­ç¼˜ç”±ã€‚ ä»ä¸Šé¢è¿™ä¸²ä»£ç é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ° new Promise åé¢æ¥äº†å¾ˆå¤šçš„ .then() å¤„ç†ç¨‹åºï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯ Promise çš„é“¾å¼è°ƒç”¨ï¼Œé‚£å®ƒä¸ºä»€ä¹ˆèƒ½é“¾å¼è°ƒç”¨å‘¢ï¼Ÿ åŸºäºonResolvedç”Ÿæˆä¸€ä¸ªæ–°çš„Promiseå› ä¸º Promise.prototype.then() ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œæ¥çœ‹ä¸‹ï¼š 123456let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.then(() =&gt; 6)setTimeout(console.log, 0, p1) // Promise &#123;&lt;fulfilled&gt;: 3&#125;setTimeout(console.log, 0, p2) // Promise &#123;&lt;fulfilled&gt;: 6&#125; å¯ä»¥çœ‹åˆ° p1 å’Œ p2 çš„å†…éƒ¨ PromiseResult æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¯´æ˜ p2 æ˜¯ä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ã€‚ æ–°äº§ç”Ÿçš„ Promise ä¼šåŸºäº onResolved çš„è¿”å›å€¼è¿›è¡Œæ„å»ºï¼Œæ„å»ºçš„æ—¶å€™å…¶å®æ˜¯æŠŠè¿”å›å€¼ä¼ é€’ç»™ Promise.resolve() ç”Ÿæˆçš„æ–°å®ä¾‹ï¼Œæ¯”å¦‚ä¸Šé¢é‚£ä¸²ä»£ç é‡Œ p1.then(() =&gt; 6) è¿™é‡Œçš„ onResolved å‡½æ•°è¿”å›äº†ä¸€ä¸ª 6 ï¼Œæ‰€ä»¥æ–°çš„ Promise çš„å†…éƒ¨å€¼ä¼šæ˜¯ 6ã€‚ å¦‚æœ .then() æ²¡æœ‰æä¾› onResolved è¿™ä¸ªå¤„ç†ç¨‹åºï¼Œåˆ™ Promise.resolve() ä¼šåŸºäºä¸Šä¸€ä¸ªå®ä¾‹ resolve åçš„å€¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å®ä¾‹ï¼š 12345let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.then()setTimeout(console.log, 0, p2) // Promise &#123;&lt;fulfilled&gt;: 3&#125; å¦‚æœ onResolved å¤„ç†ç¨‹åºæ²¡æœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿”å›çš„æ–°å®ä¾‹çš„å†…éƒ¨å€¼ä¼šæ˜¯ undefinedï¼š 12345let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.then(() =&gt; &#123;&#125;)setTimeout(console.log, 0, p2) // Promise &#123;&lt;fulfilled&gt;: undefined&#125; å¦‚æœåœ¨ onResolved å¤„ç†ç¨‹åºé‡ŒæŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ rejected çŠ¶æ€çš„ Promiseï¼š 1234567let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.then(() =&gt; &#123; throw new Error(&#x27;è¿™æ˜¯ä¸€ä¸ªé”™è¯¯&#x27;)&#125;)setTimeout(console.log, 0, p2) // Promise &#123;&lt;rejected&gt;: è¿™æ˜¯ä¸€ä¸ªé”™è¯¯&#125; åŸºäºonRejectedç”Ÿæˆä¸€ä¸ªæ–°çš„PromiseåŸºäº onRejected çš„è¿”å›å€¼ä¹Ÿä¼šè¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œè€Œä¸”å¤„ç†é€»è¾‘ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡æŠŠè¿”å›å€¼ä¼ é€’ç»™ Promise.resolve() äº§ç”Ÿä¸€ä¸ªæ–°çš„å®ä¾‹ï¼š 1234567891011121314151617181920212223242526272829let p1 = new Promise((resolve, reject) =&gt; &#123; reject(3)&#125;)// æ²¡æœ‰ `onRejected` å¤„ç†ç¨‹åºæ—¶ï¼Œä¼šåŸæ ·å‘åä¼ ï¼Œä¸è¿‡æ˜¯æ–°å®ä¾‹let p2 = p1.then(() =&gt; &#123;&#125;) ssetTimeout(console.log, 0, p2) // Promise &#123;&lt;rejected&gt;: 3&#125;// è¿”å›å€¼ä¸ºundefinedæ—¶let p3 = p1.then(null, () =&gt; &#123;&#125;) setTimeout(console.log, 0, p3) // Promise &#123;&lt;fulfilled&gt;: undefined&#125; // è¿”å›å€¼æœ‰å®é™…å€¼çš„æ—¶å€™let p4 = p1.then(null, () =&gt; 6) setTimeout(console.log, 0, p4) // Promise &#123;&lt;fulfilled&gt;: 6&#125;// å½“è¿”å›å€¼æ˜¯Promiseæ—¶ï¼Œä¼šä¿ç•™å½“å‰Promiselet p5 = p1.then(null, () =&gt; Promise.reject()) setTimeout(console.log, 0, p5) // Promise &#123;&lt;rejected&gt;: undefined&#125; // å½“é‡åˆ°ä¸€ä¸ªé”™è¯¯çš„æ—¶å€™let p6 = p1.then(null, () =&gt; &#123; throw new Error(&#x27;error&#x27;)&#125;) setTimeout(console.log, 0, p6) // Promise &#123;&lt;rejected&gt;: error&#125; // å½“è¿”å›å€¼æ˜¯ä¸€ä¸ªé”™è¯¯æ—¶let p7 = p1.then(null, () =&gt; new Error(&#x27;error&#x27;)) setTimeout(console.log, 0, p7) // Promise &#123;&lt;fulfilled&gt;: Error: error&#125; è¿™é‡Œä½ ä¼šä¸ä¼šæœ‰ä¸ªç–‘æƒ‘ï¼Ÿå®ä¾‹ resolve() çš„æ—¶å€™ï¼ŒçŠ¶æ€ç”± pending å˜æˆ rejectedï¼Œä»è€Œè°ƒç”¨ onRejected è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™ä¼šè¿”å›ä¸€ä¸ª fulfilled çš„æ–°å®ä¾‹å‘¢ï¼Ÿè¯•ç€æƒ³ä¸€ä¸‹ï¼Œå¦‚æœ onRejected è¿”å›äº†ä¸€ä¸ª pending çš„æˆ–è€… rejected çŠ¶æ€çš„æ–°å®ä¾‹ï¼Œé‚£åç»­çš„é“¾å¼è°ƒç”¨å°±è¿›è¡Œä¸ä¸‹å»äº†ï¼Œçœ‹ä¸‹é¢ä¾‹å­ï¼š 1234567891011new Promise((resolve, reject) =&gt; &#123; reject()&#125;).then(null, () =&gt; &#123; console.log(&#x27;A&#x27;)&#125;).then(() =&gt; &#123; console.log(&#x27;B&#x27;)&#125;).then(() =&gt; &#123; console.log(&#x27;C&#x27;)&#125;).catch(() =&gt; &#123; console.log(&#x27;D&#x27;)&#125;) å¦‚æœ A å¤„ç†å‡½æ•°è¿™é‡Œè¿”å›äº†ä¸€ä¸ª pending çŠ¶æ€çš„æ–°å®ä¾‹ï¼Œé‚£ä¹ˆåç»­æ‰€æœ‰çš„é“¾å¼æ“ä½œéƒ½æ— æ³•æ‰§è¡Œï¼›æˆ–è€…è¿”å›çš„æ˜¯ä¸€ä¸ª rejected çŠ¶æ€çš„æ–°å®ä¾‹ï¼Œé‚£ä¹ˆåç»­çš„ B å’Œ C ä¹Ÿå°±æ— æ³•æ‰§è¡Œäº†ï¼Œé‚£å±…ç„¶éƒ½ä¸èƒ½æ‰§è¡Œ B å’Œ C æ‰€åœ¨å¤„ç†ç¨‹åºï¼Œé‚£å®šä¹‰æ¥å¹²å˜›å‘¢ï¼Ÿé“¾å¼æ“ä½œå°±æ¯«æ— é“¾å¼å¯è¨€ã€‚åˆï¼ŒonRejected çš„å­˜åœ¨çš„æ ¹æœ¬æ„ä¹‰æ— éå°±æ˜¯ç”¨äºæ•è· Promise äº§ç”Ÿçš„é”™è¯¯ï¼Œä»è€Œä¸å½±å“ç¨‹åºçš„æ­£å¸¸æ‰§è¡Œï¼Œæ‰€ä»¥é»˜è®¤æƒ…å†µä¸‹ç†åº”è¿”å›ä¸€ä¸ª fulfilled çš„æ–°å®ä¾‹ã€‚ Promise.prototype.catch() ä¹Ÿä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ Promiseï¼Œå…¶ç”Ÿæˆè§„åˆ™å’Œ onRejected æ˜¯ä¸€æ ·çš„ã€‚ finallyç”Ÿæˆä¸€ä¸ªæ–°çš„Promiseæ²¡æƒ³åˆ°å§ï¼ŒPromise.prototype.finally() ä¹Ÿèƒ½ç”Ÿæˆä¸€ä¸ª Promiseã€‚finally é‡Œçš„æ“ä½œæ˜¯å’ŒçŠ¶æ€æ— å…³çš„ï¼Œä¸€èˆ¬ç”¨æ¥åšåç»­ä»£ç çš„å¤„ç†å·¥ä½œï¼Œæ‰€ä»¥ finally ä¸€èˆ¬ä¼šåŸæ ·åä¼ çˆ¶ Promiseï¼Œæ— è®ºçˆ¶çº§å®ä¾‹æ˜¯ä»€ä¹ˆçŠ¶æ€ã€‚ 123456789let p1 = new Promise(() =&gt; &#123;&#125;)let p2 = p1.finally(() =&gt; &#123;&#125;)setTimeout(console.log, 0, p2) // Promise &#123;&lt;pending&gt;&#125;let p3 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p4 = p3.finally(() =&gt; &#123;&#125;)setTimeout(console.log, 0, p3) // Promise &#123;&lt;fulfilled&gt;: 3&#125; ä¸Šé¢è¯´çš„æ˜¯ä¸€èˆ¬ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç‰¹æ®Šæƒ…å†µï¼Œæ¯”å¦‚ finally é‡Œè¿”å›äº†ä¸€ä¸ªé fulfilled çš„ Promise æˆ–è€…æŠ›å‡ºäº†å¼‚å¸¸çš„æ—¶å€™ï¼Œåˆ™ä¼šè¿”å›å¯¹åº”çŠ¶æ€çš„æ–°å®ä¾‹ï¼š 12345678910111213let p1 = new Promise((resolve, reject) =&gt; &#123; resolve(3)&#125;)let p2 = p1.finally(() =&gt; new Promise(() =&gt; &#123;&#125;))setTimeout(console.log, 0, p2) // Promise &#123;&lt;pending&gt;&#125;let p3 = p1.finally(() =&gt; Promise.reject(6))setTimeout(console.log, 0, p3) // Promise &#123;&lt;rejected&gt;: 6&#125;let p4 = p1.finally(() =&gt; &#123; throw new Error(&#x27;error&#x27;)&#125;)setTimeout(console.log, 0, p4) // Promise &#123;&lt;rejected&gt;: Error: error&#125; æ‰§è¡Œé¡ºåºå…ˆæ¥çœ‹ä¸€æ®µç®€å•çš„ä»£ç ï¼š 123456789new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;A&#x27;) resolve(3) console.log(&#x27;B&#x27;)&#125;).then(res =&gt; &#123; console.log(&#x27;C&#x27;)&#125;)console.log(&#x27;D&#x27;)// æ‰“å°ç»“æœï¼šA B D C ä¸Šé¢è¿™ä¸²ä»£ç çš„è¾“å‡ºé¡ºåºæ˜¯ï¼šA B D Cã€‚ä»ä¸Šé¢ç« èŠ‚ä»‹ç»çš„çŸ¥è¯†ç‚¹æˆ‘ä»¬çŸ¥é“ï¼Œexecutor æ‰§è¡Œå™¨ä¼šåœ¨ new Promise è°ƒç”¨çš„æ—¶å€™ç«‹å³åŒæ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥å…ˆåæ‰“å° A B æ˜¯æ²¡é—®é¢˜çš„ã€‚å½“æ‰§è¡Œ resolve()/reject() çš„æ—¶å€™ï¼Œä¼šå°† Promise å¯¹åº”çš„å¤„ç†ç¨‹åºæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¨ç­‰è¿™é‡Œæåˆ°çš„å¯¹åº”çš„å¤„ç†ç¨‹åºå…·ä½“æ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ resolve() å¯¹åº” .then() é‡Œçš„ç¬¬ä¸€ä¸ªå…¥å‚ï¼Œå³ onResolved å‡½æ•°ï¼› reject() å¯¹åº” .then() é‡Œçš„ç¬¬äºŒä¸ªå…¥å‚ï¼Œå³ onRejected å‡½æ•°ï¼›æˆ–è€… Promise.prototype.catch() é‡Œçš„å›è°ƒå‡½æ•°ï¼› æ‰€ä»¥å½“æ‰§è¡Œ resolve(3) çš„æ—¶å€™ï¼ˆæ­¤æ—¶ä¸‹é¢å®šä¹‰çš„è¿™ä¸ªç®­å¤´å‡½æ•°å…¶å®å°±æ˜¯ onResolved å‡½æ•°ï¼‰ï¼ŒonResolved å‡½æ•°å°†è¢«æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç„¶åæ‰“å° Dï¼Œæ­¤æ—¶æ‰€æœ‰åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæµè§ˆå™¨ä¼šå»æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå‘ç°å­˜åœ¨ä¸€ä¸ªï¼Œæ‰€ä»¥æœ€åä¼šå»è°ƒç”¨ onResolved å‡½æ•°ï¼Œæ‰“å°å‡º Cã€‚ 123let onResolved = res =&gt; &#123; console.log(&#x27;C&#x27;)&#125; å…¶å®é™¤äº† onResolvedã€onRejected ä»¥åŠ Promise.prototype.catch() é‡Œçš„å¤„ç†ç¨‹åºå¤–ï¼ŒPromise.prototype.finally() çš„å¤„ç†ç¨‹åº onFinally ä¹Ÿæ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼š 12345678new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;A&#x27;) resolve(3)&#125;).finally(() =&gt; &#123; console.log(&#x27;B&#x27;)&#125;)console.log(&#x27;C&#x27;)// æ‰“å°ç»“æœï¼šA C B Promise é“¾å¼è°ƒç”¨çš„åŸºç¡€å°±æ˜¯å› ä¸º onResolvedã€onRejectedã€catch() çš„å¤„ç†ç¨‹åºä»¥åŠ onFinally ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ Promise å®ä¾‹ï¼Œä¸”åˆå› ä¸ºä»–ä»¬éƒ½æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ï¼Œæ‰€ä»¥åœ¨é“¾å¼è°ƒç”¨çš„æ—¶å€™ï¼Œå¯¹äºå®ƒä»¬æ‰§è¡Œé¡ºåºä¼šç¨€é‡Œç³Šæ¶‚ç¢ç£¨ä¸é€å°±æ˜¯è¿™ä¸ªåŸå› ã€‚ é¢˜ç›®ä¸€é‚£ä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ç‚¹å¤æ‚çš„ä¾‹å­ï¼Œå…ˆæ¥åˆ†æä¸‹è¿™ç« å¼€ç¯‡æåˆ°çš„é¢˜ç›®ï¼š 123456789101112131415new Promise((resolve, reject) =&gt; &#123; resolve()&#125;).then(() =&gt; &#123; console.log(&#x27;A&#x27;) new Promise((resolve, reject) =&gt; &#123; resolve() &#125;).then(() =&gt; &#123; console.log(&#x27;B&#x27;) &#125;).then(() =&gt; &#123; console.log(&#x27;C&#x27;) &#125;)&#125;).then(() =&gt; &#123; console.log(&#x27;D&#x27;)&#125;)// æ‰“å°ç»“æœï¼šA ä¸ºäº†æ–¹ä¾¿åˆ†æï¼Œæˆ‘ä»¬æŠŠä¸Šé¢çš„è¿™ä¸²ä»£ç å†™å¾—å¥½çœ‹ä¸€ç‚¹ï¼š 123456789101112131415161718new Promise(executor).then(onResolvedA).then(onResolvedD)function executor(resolve, reject) &#123; resolve()&#125;function onResolvedA() &#123; console.log(&#x27;A&#x27;) new Promise(executor).then(onResolvedB).then(onResolvedC)&#125;function onResolvedB() &#123; console.log(&#x27;B&#x27;)&#125;function onResolvedC() &#123; console.log(&#x27;C&#x27;)&#125;function onResolvedD() &#123; console.log(&#x27;D&#x27;)&#125; æ‰§è¡Œè¿‡ç¨‹ï¼š æ‰§è¡Œ new Promise()ï¼Œç«‹å³åŒæ­¥æ‰§è¡Œ executor å‡½æ•°ï¼Œè°ƒç”¨ resolve()ï¼Œæ­¤æ—¶ä¼šå°† onResolvedA æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 1ï¼Œæˆªæ­¢ç›®å‰æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼› æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œ onResolvedA å‡½æ•°ï¼Œæ‰“å° Aï¼Œæ‰§è¡Œ new Promise(executor)ï¼Œè°ƒç”¨ resolve() å‡½æ•°ï¼Œæ­¤æ—¶å°† onResolvedB æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 2ï¼› æˆªæ­¢ç›®å‰å¾®ä»»åŠ¡é˜Ÿåˆ— 1 çš„ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œå³ onResolvedA å‡½æ•°æ‰§è¡Œå®Œæˆã€‚æˆ‘ä»¬çŸ¥é“ onResolved å‡½æ•°ä¼šåŸºäºè¿”å›å€¼ç”Ÿæˆä¸€ä¸ªæ–°çš„ Promiseï¼Œè€Œ onResolvedA å‡½æ•°æ²¡æœ‰æ˜¾ç¤ºçš„è¿”å›å€¼ï¼Œæ‰€ä»¥å…¶è¿”å›å€¼ä¸º undefinedï¼Œé‚£ä¹ˆç»è¿‡ Promise.resolve(undefined) åˆå§‹åŒ–åä¼šç”Ÿæˆä¸€ä¸ªè¿™æ ·çš„æ–°å®ä¾‹ï¼šPromise &#123;&lt;fulfilled&gt;: undefined&#125;ï¼›ç”±äºè¿™ä¸ªæ–°çš„å®ä¾‹çŠ¶æ€å·²ç»å˜æˆ fulfilledï¼Œæ‰€ä»¥ä¼šç«‹å³å°†å…¶å¤„ç†å‡½æ•° onResolvedD æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 3ï¼› å¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 2 é‡Œçš„å†…å®¹ï¼Œæ‰“å° Bï¼ŒåŒä¸Šä¸€æ¡åŸç†ï¼Œç”±äº onResolvedB å‡½æ•°çš„è¿”å›å€¼ä¸º undefinedï¼Œæ‰€ä»¥ç”Ÿæˆäº†ä¸€ä¸ª resolved çš„æ–°å®ä¾‹ï¼Œåˆ™ä¼šç«‹å³å°† onResolvedC æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 4ï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 3ï¼Œæ‰“å° Dï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 4ï¼Œæ‰“å° Cï¼› è‡³æ­¤å…¨éƒ¨ä»£ç æ‰§è¡Œå®Œæˆï¼Œæœ€ç»ˆçš„æ‰“å°ç»“æœä¸ºï¼šA B D Cã€‚ é¢˜ç›®äºŒ123456789101112131415new Promise((resolve, reject) =&gt; &#123; resolve(1)&#125;).then(res =&gt; &#123; console.log(&#x27;A&#x27;)&#125;).finally(() =&gt; &#123; console.log(&#x27;B&#x27;)&#125;)new Promise((resolve, reject) =&gt; &#123; resolve(2)&#125;).then(res =&gt; &#123; console.log(&#x27;C&#x27;)&#125;).finally(() =&gt; &#123; console.log(&#x27;D&#x27;)&#125;)// æ‰“å°ç»“æœï¼šA C B D åº”è¯¥å¾ˆå¤šäººä¼šå’Œæˆ‘å½“åˆä¸€æ ·å¥½å¥‡ï¼šä¸ºä»€ä¹ˆæ‰“å°ç»“æœä¸æ˜¯ A B C D å‘¢ï¼Ÿè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼šå¦‚æœç»™ Promise å®ä¾‹æ·»åŠ äº†å¤šä¸ªå¤„ç†å‡½æ•°ï¼Œå½“å®ä¾‹çŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œé‚£ä¹ˆæ‰§è¡Œçš„è¿‡ç¨‹å°±æ˜¯æŒ‰ç…§æ·»åŠ æ—¶çš„é¡ºåºè€Œæ‰§è¡Œçš„ã€‚ 1234567891011new Promise((resolve, reject) =&gt; &#123; resolve(1)&#125;).then(onResolvedA).finally(onFinally)function onResolvedA() &#123; console.log(&#x27;A&#x27;)&#125;function onFinally() &#123; console.log(&#x27;B&#x27;)&#125;// æ‰“å°ç»“æœï¼š A B å¯¹äºä¸Šé¢è¿™ä¸²ä»£ç ï¼Œå…¶å® finally() å¤„ç†ç¨‹åºæ‰§è¡Œçš„æ—¶å€™å·²ç»ä¸æ˜¯é€šè¿‡ new Promise() åˆå§‹åŒ–çš„å®ä¾‹ï¼Œè€Œæ˜¯æ‰§è¡Œå®Œ onResolvedA å‡½æ•°çš„æ—¶å€™ç”Ÿæˆçš„æ–°å®ä¾‹ï¼Œä¸ä¿¡æˆ‘ä»¬å°†ä¸Šé¢ä»£ç ä¸­çš„å‡½æ•° onResolvedA ç¨å¾®æ”¹åŠ¨ä¸‹ï¼š 123456789101112new Promise((resolve, reject) =&gt; &#123; resolve(1)&#125;).then(onResolvedA).finally(onFinally)function onResolvedA() &#123; console.log(&#x27;A&#x27;) return new Promise(() =&gt; &#123;&#125;)&#125;function onFinally() &#123; console.log(&#x27;B&#x27;)&#125;// æ‰“å°ç»“æœï¼š A ç”±äº onResolvedA è¿”å›äº†ä¸€ä¸ªè¿™æ ·çš„ Promise &#123;&lt;pending&gt;&#125; æ–°å®ä¾‹ï¼Œè¿™ä¸ªæ–°å®ä¾‹çš„çŠ¶æ€æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥ä¸ä¼šæ‰§è¡Œ finally å¤„ç†ç¨‹åº onFinallyï¼Œæ‰€ä»¥ä¸ä¼šæ‰“å° Bã€‚è¿™ä¸ªå°±è¯´æ˜äº†ï¼Œé“¾å¼è°ƒç”¨çš„æ—¶å€™å¤„ç†ç¨‹åºçš„æ‰§è¡Œæ˜¯ä¸€æ­¥ä¸€æ­¥æ¥çš„ï¼Œåªè¦å‰é¢çš„æ‰§è¡Œå®Œäº†ï¼Œç”Ÿæˆäº†æ–°çš„å®ä¾‹ï¼Œç„¶åæ ¹æ®æ–°å®ä¾‹çš„çŠ¶æ€å˜åŒ–ï¼Œæ‰å»æ‰§è¡Œåç»­çš„å¤„ç†ç¨‹åºã€‚ æ‰€ä»¥æ‹¿æœ€å¼€å§‹é‚£é“é¢˜æ¥è¯´ï¼š 123456789101112131415new Promise((resolve, reject) =&gt; &#123; resolve(1)&#125;).then(res =&gt; &#123; console.log(&#x27;A&#x27;)&#125;).finally(() =&gt; &#123; console.log(&#x27;B&#x27;)&#125;)new Promise((resolve, reject) =&gt; &#123; resolve(2)&#125;).then(res =&gt; &#123; console.log(&#x27;C&#x27;)&#125;).finally(() =&gt; &#123; console.log(&#x27;D&#x27;)&#125;)// æ‰“å°ç»“æœï¼šA C B D ä»–çš„æ‰§è¡Œè¿‡ç¨‹åº”è¯¥æ˜¯è¿™æ ·çš„ï¼š æ‰§è¡Œ resolve(1)ï¼Œå°†å¤„ç†ç¨‹åº A æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 1ï¼› æ‰§è¡Œ resolve(2)ï¼Œå°†å¤„ç†ç¨‹åº C æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 2ï¼› åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œæ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 1 é‡Œçš„å†…å®¹ï¼Œæ‰“å° Aï¼ŒA æ‰€åœ¨å‡½æ•°æ‰§è¡Œå®Œæˆåç”Ÿæˆäº†ä¸€ä¸ª fulfilled çš„æ–°å®ä¾‹ï¼Œç”±äºæ–°å®ä¾‹çŠ¶æ€å˜åŒ–ï¼Œæ‰€ä»¥ä¼šç«‹å³æ‰§è¡Œ finally() å¤„ç†ç¨‹åº B æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 3ï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 2 çš„å†…å®¹ï¼Œæ‰“å° Cï¼ŒC æ‰€åœ¨å‡½æ•°æ‰§è¡Œå®Œæˆåï¼ŒåŒä¸Šæ¡åŸç†ä¼šå°†å¤„ç†ç¨‹åº D æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 4ï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 3 çš„å†…å®¹ï¼Œæ‰“å° Bï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 4 çš„å†…å®¹ï¼Œæ‰“å° Dï¼› ä»£ç å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œæœ€ç»ˆæ‰“å°ï¼šA C B Dã€‚ é¢˜ç›®å°±å…ˆåšåˆ°è¿™é‡Œï¼Œç›¸ä¿¡ä½ å’Œæˆ‘ä¸€æ ·ï¼Œå¯¹ Promise çš„æ‰§è¡Œè¿‡ç¨‹åº”è¯¥æœ‰æ›´æ·±å…¥çš„ç†è§£äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†ç»§ç»­å­¦ä¹  Promise çš„ç›¸å…³ APIã€‚ Promiseä¸é”™è¯¯å¤„ç†å¹³æ—¶æˆ‘ä»¬å†™ä»£ç é‡åˆ°é”™è¯¯ï¼Œéƒ½ä¹ æƒ¯ç”¨ try/catch å—æ¥å¤„ç†ï¼Œä½†æ˜¯å¯¹äº Promise äº§ç”Ÿçš„é”™è¯¯ï¼Œç”¨è¿™ä¸ªæ˜¯å¤„ç†ä¸äº†çš„ï¼Œçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼š 12345678910111213try &#123; new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;A&#x27;) throw new Error() console.log(&#x27;B&#x27;) &#125;) &#125; catch(err) &#123; console.log(err)&#125;console.log(&#x27;C&#x27;)// A// C // Uncaught (in promise) Error ä»æ‰§è¡Œç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒæŠ¥é”™çš„ä¿¡æ¯å‡ºç°åœ¨æ‰“å° C ä¹‹åï¼Œè¯´æ˜æŠ›å‡ºé”™è¯¯è¿™ä¸ªåŠ¨ä½œæ˜¯åœ¨å¼‚æ­¥ä»»åŠ¡ä¸­åšçš„ï¼Œæ‰€ä»¥ catch æ•è·ä¸åˆ°è¯¥é”™è¯¯å°±åœ¨æƒ…ç†ä¹‹ä¸­äº†ï¼Œå¦åˆ™å°±ä¸ä¼šæ‰“å° C äº†ã€‚å¯è§ï¼Œä¼ ç»Ÿçš„ try/catch è¯­å¥å¹¶ä¸èƒ½æ•è· Promise äº§ç”Ÿçš„é”™è¯¯ï¼Œè€Œéœ€è¦ä½¿ç”¨ onRejected å¤„ç†ç¨‹åºï¼š 123456789101112let p1 = new Promise((resolve, reject) =&gt; &#123; console.log(&#x27;A&#x27;) throw new Error(&#x27;error&#x27;) console.log(&#x27;B&#x27;)&#125;)let p2 = p1.catch((err) =&gt; &#123; console.log(err)&#125;) setTimeout(console.log, 0, p2)// A// Error: error// Promise &#123;&lt;fulfilled&gt;: undefined&#125; onRejected æ•è·äº†ä¸Šé¢æŠ›å‡ºçš„é”™è¯¯åï¼Œä½¿å¾—ç¨‹åºæ­£å¸¸æ‰§è¡Œï¼Œæœ€åè¿˜ç”Ÿæˆäº†ä¸€ä¸ª fulfilled çš„æ–°å®ä¾‹ã€‚ é™¤äº†ä»¥ä¸Šè¿™ç§ç›´æ¥åœ¨ executor é‡Œé€šè¿‡ throw ä¸»åŠ¨æŠ›å‡ºä¸€ä¸ªé”™è¯¯å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼äº§å‡ºéœ€è¦ onRejected å¤„ç†çš„é”™è¯¯ï¼š 1234567891011121314151617new Promise((resolve, reject) =&gt; &#123; init() // è¢«åŠ¨å‡ºé”™ï¼Œè°ƒç”¨äº†ä¸å­˜åœ¨çš„å‡½æ•°&#125;)new Promise((resolve, reject) =&gt; &#123; reject()&#125;)new Promise((resolve, reject) =&gt; &#123; resolve()&#125;).then(() =&gt; Promise.reject())new Promise((resolve, reject) =&gt; &#123; resolve()&#125;).then(() =&gt; &#123; throw new Error()&#125;) æ³¨æ„ï¼Œå¦‚æœåªæ˜¯äº§ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œå´æ²¡æœ‰æŠ›å‡ºæ¥æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼š 1234// ä¸ä¼šæŠ¥é”™new Promise((resolve, reject) =&gt; &#123; reject()&#125;).then(() =&gt; new Error()) Promise å‡ºç°äº†é”™è¯¯å°±éœ€è¦ä½¿ç”¨ onRejected å¤„ç†ç¨‹åºå¤„ç†ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šæŠ¥é”™ï¼Œæ‰§è¡Œä¸ä¸‹å»äº†ã€‚ Promise APIPromise.resolve()å¹¶éæ‰€æœ‰çš„ Promise çš„åˆå§‹çŠ¶æ€éƒ½æ˜¯ pendingï¼Œå¯ä»¥é€šè¿‡ Promise.resolve(value) æ¥åˆå§‹åŒ–ä¸€ä¸ªçŠ¶æ€ä¸º fulfilledï¼Œå€¼ä¸º value çš„ Promise å®ä¾‹ï¼š 12let p = Promise.resolve(3)console.log(p) // Promise &#123;&lt;fulfilled&gt;: 3&#125; è¿™ä¸ªæ“ä½œå’Œä¸‹é¢è¿™ç§åˆ›å»ºä¸€ä¸ª fulfilled çš„ Promise åœ¨æ•ˆæœä¸Šæ˜¯ä¸€æ ·çš„ï¼š 12let p = new Promise(resolve =&gt; resolve(3))console.log(p) // Promise &#123;&lt;fulfilled&gt;: 3&#125; ä½¿ç”¨è¿™ä¸ªé™æ€æ–¹æ³•ï¼Œç†è®ºä¸Šå¯ä»¥æŠŠä»»ä½•ä¸€ä¸ªå€¼è½¬æ¢æˆ Promiseï¼š 123setTimeout(console.log, 0, Promise.resolve()) // Promise &#123;&lt;fulfilled&gt;: undefined&#125;setTimeout(console.log, 0, Promise.resolve(3, 6, 9)) // Promise &#123;&lt;fulfilled&gt;: 3&#125; å¤šä½™çš„å‚æ•°å°†è¢«å¿½ç•¥setTimeout(console.log, 0, Promise.resolve(new Error(&#x27;error&#x27;))) // Promise &#123;&lt;fulfilled&gt;: Error: error&#125; è¿™ä¸ªè¢«è½¬æ¢çš„å€¼ç”šè‡³å¯ä»¥æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼ŒPromise.resolve ä¼šå°†å…¶åŸæ ·è¾“å‡ºï¼š 12let p = Promise.resolve(3)setTimeout(console.log, 0, p === Promise.resolve(p)) // true Promise.reject()å’Œ Promise.resolve() ç±»ä¼¼ï¼ŒPromise.reject() ä¼šå®ä¾‹åŒ–ä¸€ä¸ª rejected çŠ¶æ€çš„ Promiseï¼Œä¸”ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¯¥é”™è¯¯åªèƒ½é€šè¿‡æ‹’ç»å¤„ç†ç¨‹åºæ•è·ã€‚ 12345Promise .reject(3) .catch(err =&gt; &#123; console.log(err) // 3 &#125;) å¯¹äºåˆå§‹åŒ–ä¸€ä¸ª rejected çŠ¶æ€çš„å®ä¾‹ï¼Œä»¥ä¸‹ä¸¤ç§å†™æ³•éƒ½å¯ä»¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼š 12let p1 = Promise.reject()let p2 = new Promise((resolve, reject) =&gt; reject()) ä¸ Promise.resolve() ä¸åŒçš„æ˜¯ï¼Œå¦‚æœç»™ Promise.reject() ä¼ é€’ä¸€ä¸ª Promise å¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¼šæˆä¸ºæ–° Promise çš„å€¼ï¼š 12let p = Promise.reject(3)setTimeout(console.log, 0, p === Promise.reject(p)) // false Promise.all()Promise.all(iterable) ç”¨æ¥å°†å¤šä¸ª Promise å®ä¾‹åˆæˆä¸€ä¸ªæ–°å®ä¾‹ã€‚å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œé€šå¸¸æ˜¯æ•°ç»„ã€‚ 1234Promise.all([ Promise.resolve(3), Promise.resolve(6)]) å¯è¿­ä»£å¯¹è±¡é‡Œçš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šé€šè¿‡ Promise.resolve() è½¬æˆ Promiseï¼š 1Promise.all([3, 6, 9]) æ‰€æœ‰ Promise éƒ½ resolve åï¼ŒPromise.all() æ‰ä¼šç”Ÿæˆä¸€ä¸ª fulfilled çš„æ–°å®ä¾‹ã€‚ä¸”æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰ Promise è§£å†³åçš„å€¼ç»„æˆçš„æ•°ç»„ï¼š 1234567891011let p1 = Promise.all([ Promise.resolve(&#x27;3&#x27;), Promise.resolve(), 6])let p2 = p1.then(res =&gt; &#123; console.log(res)&#125;)setTimeout(console.log, 0, p1)// [&quot;3&quot;, undefined, 6]// Promise &#123;&lt;fulfilled&gt;: Array(3)&#125; æ‰€æœ‰ Promise ä¸­ï¼Œåªè¦å‡ºç°ä¸€ä¸ª pending çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆåˆæˆçš„æ–°å®ä¾‹ä¹Ÿæ˜¯ pending çŠ¶æ€çš„ï¼š 1234567let p1 = Promise.all([ 3, Promise.resolve(6), new Promise(() =&gt; &#123;&#125;)])setTimeout(console.log, 0, p1)// Promise &#123;&lt;pending&gt;&#125; æ‰€æœ‰ Promise ä¸­ï¼Œåªè¦å‡ºç°ä¸€ä¸ª rejected çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆåˆæˆçš„æ–°å®ä¾‹ä¹Ÿæ˜¯ rejected çŠ¶æ€çš„ï¼Œä¸”æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç¬¬ä¸€ä¸ªæ‹’ç» Promise çš„å†…éƒ¨å€¼ï¼š 12345678910111213let p1 = Promise.all([ 3, Promise.reject(6), new Promise((resolve, reject) =&gt; &#123; reject(9) &#125;)])let p2 = p1.catch(err =&gt; &#123; console.log(err)&#125;)setTimeout(console.log, 0, p1)// 6// Promise &#123;&lt;rejected&gt;: 6&#125; Promise.race()Promise.race(iterable) ä¼šè¿”å›ä¸€ä¸ªç”±æ‰€æœ‰å¯è¿­ä»£å®ä¾‹ä¸­ç¬¬ä¸€ä¸ª fulfilled æˆ– rejected çš„å®ä¾‹åŒ…è£…åçš„æ–°å®ä¾‹ã€‚ 12345678910111213141516let p1 = Promise.race([ 3, Promise.reject(6), new Promise((resolve, reject) =&gt; &#123; resolve(9) &#125;).then(res =&gt; &#123; console.log(res) &#125;)])let p2 = p1.then(res =&gt; &#123; console.log(err)&#125;)setTimeout(console.log, 0, p1)// 9// 3// Promise &#123;&lt;fulfilled&gt;: 3&#125; æ¥å°†ä¸Šé¢è¿™ä¸²ä»£ç å˜åŠ¨ä¸‹ï¼š 1234567891011121314151617181920212223242526function init()&#123; console.log(3) return 3&#125;let p1 = Promise.race([ new Promise((resolve, reject) =&gt; &#123; resolve(9) &#125;).then(res =&gt; &#123; console.log(res) return &#x27;A&#x27; &#125;), new Promise((resolve, reject) =&gt; &#123; reject(6) &#125;), init(),])let p2 = p1.then(res =&gt; &#123; console.log(res)&#125;, err =&gt; &#123; console.log(err)&#125;)setTimeout(console.log, 0, p1)// 3// 9// 6// Promise &#123;&lt;rejected&gt;: 6&#125; æƒ³è¦çŸ¥é“ Promise.race() çš„ç»“æœï¼Œæ— éæ˜¯è¦çŸ¥é“åˆ°åº•è°æ‰æ˜¯ç¬¬ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„å®ä¾‹ï¼Œè®©æˆ‘ä»¬æ¥å…·ä½“åˆ†æä¸‹ä»£ç æ‰§è¡Œè¿‡ç¨‹ï¼š è¿­ä»£ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç  resolve(9)ï¼Œç”± new Promise åˆå§‹åŒ–çš„å®ä¾‹çš„çŠ¶æ€å·²ç»å˜ä¸ºäº† fulfilledï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„å®ä¾‹å·²ç»å‡ºç°äº†å—ï¼Ÿå…¶å®å¹¶æ²¡æœ‰ï¼Œå› ä¸ºè¿­ä»£ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä»£ç è¿˜æ²¡æ‰§è¡Œå®Œæˆå‘¢ï¼Œç„¶åä¼šå°† return &#39;A&#39; æ‰€åœ¨å‡½æ•°çš„è¿™æ®µå¤„ç†ç¨‹åºæ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 1ï¼› è¿­ä»£ç¬¬äºŒä¸ªå…ƒç´ ï¼Œæ‰§è¡Œ reject(6)ï¼Œæ‰€ä»¥ç”± new Promise åˆå§‹åŒ–çš„å®ä¾‹çš„çŠ¶æ€å·²ç»å˜ä¸º rejectedï¼Œç”±äºè¯¥å®ä¾‹æ²¡æœ‰å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥è¿­ä»£ç¬¬äºŒä¸ªå…ƒç´ çš„ä»£ç å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œæ­¤æ—¶ï¼Œç¬¬ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„å®ä¾‹å·²ç»äº§ç”Ÿï¼› è¿­ä»£ç¬¬ä¸‰ä¸ªå…ƒç´ ï¼Œæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰§è¡ŒåŒæ­¥ä»£ç æ‰“å°å‡º 3ï¼Œç„¶åç”¨ Promise.resolve å°†å‡½æ•°è¿”å›å€¼ 3 è½¬æˆä¸€ä¸ª Promise &#123;&lt;fulfilled&gt;: 3&#125; çš„æ–°å®ä¾‹ï¼Œè¿™æ˜¯ç¬¬äºŒä¸ªçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„å®ä¾‹ï¼› æ­¤æ—¶æ‰€æœ‰è¿­ä»£å¯¹è±¡éå†å®Œæˆï¼Œå³åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 1 çš„å†…å®¹ï¼Œæ‰“å° resï¼Œå…¶å€¼æ˜¯ 9ï¼Œç„¶åå¤„ç†ç¨‹åºè¿”å›äº† â€˜Aâ€™ï¼Œæ­¤æ—¶æ ¹æ®ä¹‹å‰æåˆ°çš„çŸ¥è¯†ç‚¹ï¼Œè¿™é‡Œä¼šæ–°ç”Ÿæˆä¸€ä¸ª Promise &#123;&lt;fulfilled&gt;: &#39;A&#39;&#125; çš„å®ä¾‹ï¼Œè¿™æ˜¯ç¬¬ä¸‰ä¸ªçŠ¶æ€å‘ç”Ÿå˜åŒ–çš„å®ä¾‹ã€‚æ­¤æ—¶ï¼Œç¬¬ä¸€ä¸ªè¿­ä»£å…ƒç´ çš„ä»£ç å·²ç»å…¨éƒ¨æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªè¿­ä»£å…ƒç´ æœ€ç»ˆç”Ÿæˆçš„å®ä¾‹æ˜¯ç¬¬ä¸‰æ¬¡çŠ¶æ€å‘ç”Ÿå˜åŒ–çš„è¿™ä¸ªï¼› æ­¤æ—¶ p1 å·²ç»äº§ç”Ÿï¼Œå®ƒæ˜¯ Promise &#123;&lt;rejected&gt;: 6&#125;ï¼Œæ‰€ä»¥ä¼šå°†å®ƒçš„å¤„ç†ç¨‹åº console.log(err) æ‰€åœ¨å‡½æ•°æ¨å…¥å¾®ä»»åŠ¡é˜Ÿåˆ— 2ï¼› æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ— 2 çš„å†…å®¹ï¼Œæ‰“å° errï¼Œå…¶å€¼æ˜¯ 6ï¼› æ‰€æœ‰å¾®ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¼€å§‹æ‰§è¡Œ setTimeout é‡Œçš„å®ä»»åŠ¡ï¼Œæ‰“å° p1ï¼Œè‡³æ­¤å…¨éƒ¨ä»£ç æ‰§è¡Œå®Œæˆã€‚ Promise.allSettled()Promise.allSettled(iterable) å½“æ‰€æœ‰çš„å®ä¾‹éƒ½å·²ç» settledï¼Œå³çŠ¶æ€å˜åŒ–è¿‡äº†ï¼Œé‚£ä¹ˆå°†è¿”å›ä¸€ä¸ªæ–°å®ä¾‹ï¼Œè¯¥æ–°å®ä¾‹çš„å†…éƒ¨å€¼æ˜¯ç”±æ‰€æœ‰å®ä¾‹çš„å€¼å’ŒçŠ¶æ€ç»„åˆæˆçš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯é¡¹æ˜¯ç”±æ¯ä¸ªå®ä¾‹çš„çŠ¶æ€å’Œå†…éƒ¨å€¼ç»„æˆçš„å¯¹è±¡ã€‚ 12345678910111213141516171819202122function init()&#123; return 3&#125;let p1 = Promise.allSettled([ new Promise((resolve, reject) =&gt; &#123; resolve(9) &#125;).then(res =&gt; &#123;&#125;), new Promise((resolve, reject) =&gt; &#123; reject(6) &#125;), init()])let p2 = p1.then(res =&gt; &#123; console.log(res)&#125;, err =&gt; &#123; console.log(err)&#125;)// [// &#123;status: &quot;fulfilled&quot;, value: undefined&#125;, // &#123;status: &quot;rejected&quot;, reason: 6&#125;, // &#123;status: &quot;fulfilled&quot;, value: 3&#125;// ] åªè¦æ‰€æœ‰å®ä¾‹ä¸­åŒ…å«ä¸€ä¸ª pending çŠ¶æ€çš„å®ä¾‹ï¼Œé‚£ä¹ˆ Promise.allSettled() çš„ç»“æœä¸ºè¿”å›ä¸€ä¸ªè¿™æ · Promise &#123;&lt;pending&gt;&#125; çš„å®ä¾‹ã€‚ Promise.allSettled() æ˜¯ ES2020 ä¸­æ–°å¢çš„æ–¹æ³•ï¼Œæ‰€ä»¥æœ‰ä¸€äº›æµè§ˆå™¨å¯èƒ½è¿˜æš‚æ—¶ä¸æ”¯æŒã€‚ å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œå¯ä»¥å†™ polyfillï¼š 12345678910111213if(!Promise.allSettled) &#123; Promise.allSettled = function(promises) &#123; return Promise.all(promises.map(p =&gt; Promise.resolve(p) .then(value =&gt; (&#123; status: &#x27;fulfilled&#x27;, value &#125;), reason =&gt; (&#123; status: &#x27;rejected&#x27;, reason &#125;)) )); &#125;&#125;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"è¯¦ç»†è®¾è®¡ä¸€ä¸ªæ–‡ç« é¡µç›®å½•æ’ä»¶","slug":"article-catalog","date":"2020-10-14T02:19:26.000Z","updated":"2020-10-14T03:16:39.189Z","comments":true,"path":"2020/10/14/article-catalog/","link":"","permalink":"https://bubuzou.com/2020/10/14/article-catalog/","excerpt":"åœ¨è¯´è¿™ä¸ªæ’ä»¶ä¹‹å‰ï¼Œå¯ä»¥å…ˆå» https://bubuzou.com/ è¿™ä¸ªç½‘ç«™ä½“éªŒä¸‹è¿™ä¸ªæ’ä»¶çš„æ•ˆæœï¼Œå¥½æœ‰ä¸ªå¤§æ¦‚çš„å°è±¡ã€‚ é€šè¿‡é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥æ”¶è·ä»€ä¹ˆï¼Ÿ ç”¨ JS ç›´æ¥æ“ä½œ DOM æµè§ˆå™¨ BOM ç›¸å…³çŸ¥è¯† æ€§èƒ½ä¼˜åŒ–æ€è€ƒ æ’ä»¶è®¾è®¡æ€è€ƒ èƒŒæ™¯å¹³æ—¶æˆ‘ä»¬åœ¨ç”¨ Markdown å†™çš„æ–‡ç« ï¼Œå¦‚æœæ”¾åˆ°è‡ªå·±çš„åšå®¢æˆ–è€…æŠ•ç¨¿åˆ°æ˜é‡‘ç­‰å¹³å°ï¼Œå…¶å†…å®¹ä¼šè¢«æµè§ˆå™¨è§£ææˆ HTMLã€‚è€Œ Markdown é‡Œé¢çš„ä¸€çº§ï¼ˆ#ï¼‰ã€äºŒçº§ï¼ˆ##ï¼‰ã€ä¸‰çº§æ ‡é¢˜ï¼ˆ###ï¼‰åˆ†åˆ«å¯¹åº”äºé¡µé¢çš„æ–‡ç« æ ‡é¢˜ã€ä¸€çº§ç›®å½•ã€äºŒçº§ç›®å½•ã€‚åŸºäºæ­¤ï¼Œå°±å¯ä»¥å¾ˆå¥½çš„åˆ©ç”¨è¯¥ç”Ÿæˆçš„é¡µé¢å®ç°ä¸€ä¸ªç›®å½•ï¼Œä¾¿äºæ›´ç›´è§‚æ–¹ä¾¿çš„çš„æµè§ˆæ–‡ç« å†…å®¹ï¼Œè€Œè¿™å°±æ˜¯æœ€åˆæˆ‘æƒ³ä¸ºåšå®¢é‡Œçš„æ–‡ç« é¡µå®ç°ä¸€ä¸ªç›®å½•åŠŸèƒ½çš„ç†ç”±ã€‚ è¿™ä¸ªæ’ä»¶æ˜¯åŸºäº Hexo ç”Ÿæˆçš„ç½‘é¡µæ¥å®ç°çš„ï¼Œä¸”ç›®å‰åªæ”¯æŒä¸€çº§å’ŒäºŒçº§ç›®å½•ï¼Œå› ä¸ºä½œä¸ºä¸€ç¯‡æ–‡ç« æ¥è¯´æœ‰ä¸¤ä¸ªå±‚çº§å·²ç»å¯ä»¥å¾ˆå¥½çš„å°†ä¸€å—å†…å®¹åˆ’åˆ†ç»†è¯´å¾—å¾ˆæ¸…æ¥šäº†ã€‚","text":"åœ¨è¯´è¿™ä¸ªæ’ä»¶ä¹‹å‰ï¼Œå¯ä»¥å…ˆå» https://bubuzou.com/ è¿™ä¸ªç½‘ç«™ä½“éªŒä¸‹è¿™ä¸ªæ’ä»¶çš„æ•ˆæœï¼Œå¥½æœ‰ä¸ªå¤§æ¦‚çš„å°è±¡ã€‚ é€šè¿‡é˜…è¯»è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥æ”¶è·ä»€ä¹ˆï¼Ÿ ç”¨ JS ç›´æ¥æ“ä½œ DOM æµè§ˆå™¨ BOM ç›¸å…³çŸ¥è¯† æ€§èƒ½ä¼˜åŒ–æ€è€ƒ æ’ä»¶è®¾è®¡æ€è€ƒ èƒŒæ™¯å¹³æ—¶æˆ‘ä»¬åœ¨ç”¨ Markdown å†™çš„æ–‡ç« ï¼Œå¦‚æœæ”¾åˆ°è‡ªå·±çš„åšå®¢æˆ–è€…æŠ•ç¨¿åˆ°æ˜é‡‘ç­‰å¹³å°ï¼Œå…¶å†…å®¹ä¼šè¢«æµè§ˆå™¨è§£ææˆ HTMLã€‚è€Œ Markdown é‡Œé¢çš„ä¸€çº§ï¼ˆ#ï¼‰ã€äºŒçº§ï¼ˆ##ï¼‰ã€ä¸‰çº§æ ‡é¢˜ï¼ˆ###ï¼‰åˆ†åˆ«å¯¹åº”äºé¡µé¢çš„æ–‡ç« æ ‡é¢˜ã€ä¸€çº§ç›®å½•ã€äºŒçº§ç›®å½•ã€‚åŸºäºæ­¤ï¼Œå°±å¯ä»¥å¾ˆå¥½çš„åˆ©ç”¨è¯¥ç”Ÿæˆçš„é¡µé¢å®ç°ä¸€ä¸ªç›®å½•ï¼Œä¾¿äºæ›´ç›´è§‚æ–¹ä¾¿çš„çš„æµè§ˆæ–‡ç« å†…å®¹ï¼Œè€Œè¿™å°±æ˜¯æœ€åˆæˆ‘æƒ³ä¸ºåšå®¢é‡Œçš„æ–‡ç« é¡µå®ç°ä¸€ä¸ªç›®å½•åŠŸèƒ½çš„ç†ç”±ã€‚ è¿™ä¸ªæ’ä»¶æ˜¯åŸºäº Hexo ç”Ÿæˆçš„ç½‘é¡µæ¥å®ç°çš„ï¼Œä¸”ç›®å‰åªæ”¯æŒä¸€çº§å’ŒäºŒçº§ç›®å½•ï¼Œå› ä¸ºä½œä¸ºä¸€ç¯‡æ–‡ç« æ¥è¯´æœ‰ä¸¤ä¸ªå±‚çº§å·²ç»å¯ä»¥å¾ˆå¥½çš„å°†ä¸€å—å†…å®¹åˆ’åˆ†ç»†è¯´å¾—å¾ˆæ¸…æ¥šäº†ã€‚ éœ€æ±‚åˆ†æä½ç½® é¦–å…ˆæˆ‘æ‰“ç®—å°†æ–‡ç« çš„ç›®å½•æ”¾ç½®åœ¨æ–‡ç« å†…å®¹çš„å³ä¾§ï¼Œä¸”æ˜¯æ‚¬æµ®å›ºå®šåœ¨é‚£é‡Œä¸éšæµè§ˆå™¨çš„æ»šåŠ¨è€Œæ»šåŠ¨ã€‚å› ä¸ºæˆ‘ä»¬éƒ½ä¹ æƒ¯ä»ä¸Šåˆ°ä¸‹ä»å·¦åˆ°å³çš„å»æµè§ˆæ–‡ç« ï¼Œæ‰€ä»¥æˆ‘å¸Œæœ›é¦–å…ˆæ˜ å…¥çœ¼å¸˜çš„æ˜¯æ–‡ç« å†…å®¹è€Œä¸æ˜¯æ–‡ç« ç›®å½•ï¼›å¦å¤–å› ä¸ºæˆ‘çš„åšå®¢çš„é¦–é¡µå’Œæ–‡ç« åˆ—è¡¨é¡µéƒ½æ˜¯å·¦ä¾§æ˜¯æµè§ˆåŒºåŸŸè€Œå³ä¾§æ˜¯æ“ä½œåŒºåŸŸï¼Œæ‰€ä»¥æŠŠç›®å½•æ”¾åˆ°å³ä¾§èƒ½ä¿æŒæ•´ç«™çš„å¸ƒå±€ç»Ÿä¸€ä»¥åŠæ“ä½œçš„ä¾¿åˆ©æ€§ã€‚ éœ€è¦åšä»€ä¹ˆ é¦–å…ˆéœ€è¦æ ¹æ®æ–‡ç« å†…å®¹çš„äºŒçº§å’Œä¸‰çº§æ ‡é¢˜ç”Ÿæˆç›®å½•ï¼› ç„¶åï¼Œé¡µé¢ä»ä¸Šåˆ°ä¸‹æ»šåŠ¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦åœ¨å³ä¾§ç›®å½•é‡Œé«˜äº®å½“å‰çš„æ ‡é¢˜ï¼Œè€Œé«˜äº®çš„åŸåˆ™æ˜¯å½“å‰æ ‡é¢˜æ‰€åœ¨çš„ä½ç½®åˆ°æµè§ˆå™¨å¯è§†åŒºåŸŸé¡¶éƒ¨çš„è·ç¦»éœ€è¦å°äºæˆ–ç­‰äºä¸€ä¸ªå›ºå®šå€¼ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼› åœ¨åˆé€‚çš„æ—¶å€™æ»šåŠ¨ç›®å½•åˆ—è¡¨ï¼Œä½¿å¾—å½“å‰é«˜äº®çš„å­ç›®å½•ä¼šå‡ºç°åœ¨æ»šåŠ¨åŒºåŸŸå†…éƒ¨ï¼Œä¸”å°½é‡å¤„äºæ»šåŠ¨åŒºåŸŸçš„ä¸­é—´åŒºåŸŸï¼› å½“ç‚¹å‡»æŸä¸ªå­ç›®å½•çš„æ—¶å€™éœ€è¦é«˜äº®å½“å‰ç‚¹å‡»çš„ç›®å½•ï¼Œä¸”æ–‡ç« å†…å®¹æ»šåŠ¨åˆ°å¯¹åº”ç›®å½•çš„ä½ç½®ï¼Œä½¿å¾—ç‚¹å‡»ç›®å½•å¯¹åº”çš„æ–‡ç« æ ‡é¢˜æ‰€åœ¨çš„ä½ç½®è·ç¦»å¯è§†åŒºåŸŸé¡¶éƒ¨çš„è·ç¦»åˆšå¥½ç­‰äºä¸€ä¸ªå›ºå®šå€¼ã€‚ æ»šåŠ¨ç›®å½•çš„æœºåˆ¶æ˜¯æ€æ ·çš„å¯¹äºçš„ç¬¬ä¸‰ç‚¹æåˆ°åœ¨åˆé€‚çš„æ—¶å€™æ»šåŠ¨ç›®å½•ï¼Œé‚£ä»€ä¹ˆæ—¶å€™æ‰ç®—åˆé€‚å‘¢ï¼Ÿç›®å½•èƒ½ä¸èƒ½æ»šåŠ¨ï¼Œä»¥åŠæ€ä¹ˆæ»šåŠ¨æ€»å…±åˆ†ä¸ºä»¥ä¸‹ 5 ç§æƒ…å†µï¼š å½“ç›®å½•èƒ½åœ¨æ»šåŠ¨åŒºåŸŸå®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™ï¼Œå³æ»šåŠ¨åŒºåŸŸé«˜åº¦å¤§äºæ‰€æœ‰ç›®å½•å­é¡¹é«˜åº¦æ€»å’Œçš„æ—¶å€™ï¼Œä¸è¿›è¡Œç›®å½•æ»šåŠ¨ï¼Œå¦‚ä¸Šé¢çš„å›¾ â‘  ï¼› å½“ç›®å½•ä¸èƒ½åœ¨æ»šåŠ¨åŒºåŸŸå®Œå…¨æ˜¾ç¤ºçš„æ—¶å€™ï¼Œç›®å½•éœ€è¦æ»šåŠ¨ã€‚æ‰€ä»¥éœ€è¦åšçš„å°±æ˜¯åœ¨ä¸€ä¸ªåˆ’å®šçš„åŒºåŸŸå†…æ»šåŠ¨ç›®å½•ï¼Œè¶…å‡ºè¯¥åŒºåŸŸçš„ç›®å½•å­é¡¹å°†ä¼šè‡ªåŠ¨éšè—ã€‚é€šè¿‡æ»šåŠ¨ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç›®å½•åˆ—è¡¨çš„å¤´å°¾ä¸¤ä¸ªç›®å½•å­é¡¹éƒ½èƒ½å¾ˆå¥½çš„åœ¨åˆ’å®šåŒºåŸŸé‡Œæ˜¾ç¤ºå‡ºæ¥ã€‚éšç€é¡µé¢çš„æ»šåŠ¨ï¼Œç›®å½•å°†ä»å¤´æ»šåˆ°å°¾ï¼Œé‚£ä¹ˆæ»šåŠ¨çš„èŒƒå›´æ˜¯ä»ç¬¬ä¸€ä¸ªå­ç›®å½•è´´ç€æ»šåŠ¨åŒºåŸŸçš„é¡¶éƒ¨åˆ°æœ€åä¸€ä¸ªå­ç›®å½•è´´ç€æ»šåŠ¨åŒºåŸŸçš„åº•éƒ¨ä¸ºæ­¢ï¼› å½“é¡µé¢åœ¨æœ€é¡¶éƒ¨çš„æ—¶å€™ï¼Œå½“å‰é«˜äº®çš„å­ç›®å½•è‚¯å®šæ˜¯ç¬¬ä¸€ä¸ªï¼Œéšç€é¡µé¢çš„å‘ä¸‹æ»šåŠ¨ï¼Œé«˜äº®çš„ä½ç½®ä¹Ÿåœ¨ä¸æ–­ä¸‹ç§»ï¼Œå½“é«˜äº®ä½ç½®ç§»åŠ¨åˆ°åœ¨ç›®å½•æ»šåŠ¨åŒºåŸŸçš„ä¸ŠåŠéƒ¨åˆ†ä¹‹å‰ï¼Œè¿™æ®µä¸è¿›è¡Œç›®å½•æ»šåŠ¨ï¼Œå¦‚ä¸Šé¢çš„å›¾ â‘¡ åˆ° å›¾ â‘¢ çš„å˜åŒ–è¿‡ç¨‹ï¼› å½“ç¬¬ä¸€ä¸ªå­ç›®å½•è´´ç€æ»šåŠ¨åŒºåŸŸçš„é¡¶éƒ¨ï¼Œä¸”é«˜äº®ä½ç½®åœ¨ä¸­ä½å¾€ä¸‹ç»§ç»­æ»šåŠ¨çš„æ—¶å€™ï¼Œéœ€è¦è¿›è¡Œç›®å½•æ»šåŠ¨ï¼Œæ»šåŠ¨çš„è·ç¦»æ˜¯å½“å‰é«˜äº®ç›®å½•æ‰€åœ¨ä½ç½®è·ç¦»æ»šåŠ¨åŒºåŸŸä¸­é—´ä½ç½®çš„é«˜åº¦å·®ï¼Œå¦‚ä¸Šé¢çš„å›¾ â‘¢ åˆ°å›¾ â‘£ çš„å˜åŒ–è¿‡ç¨‹ï¼› å¦‚æœè¿™ä¸ªé«˜åº¦å·®è¿‡äºå¤§ï¼Œä½¿å¾—æ»šåŠ¨åæœ€åä¸€ä¸ªå­å…ƒç´ ä¸èƒ½è´´ç€æ»šåŠ¨åŒºåŸŸåº•éƒ¨çš„æ—¶å€™ï¼Œåˆ™ä¸æŒ‰ç…§è¿™ä¸ªé«˜åº¦å·®è¿›è¡Œæ»šåŠ¨ï¼Œè€ŒçœŸå®éœ€è¦æ»šåŠ¨çš„è·ç¦»æ˜¯æœ€åä¸€ä¸ªå­ç›®å½•åˆ°æ»šåŠ¨åŒºåŸŸåº•éƒ¨çš„è·ç¦»ï¼Œå¦‚ä¸Šé¢çš„å›¾ â‘£ åˆ°å›¾ â‘¤ çš„å˜åŒ–è¿‡ç¨‹ã€‚ åŠŸèƒ½å®ç°ç”±äºæ–‡ç« é¡µæ˜¯ç”± Hexo åŸºäº Markdown ç”Ÿæˆè€Œæ¥çš„ï¼Œæ‰€ä»¥å®ƒæœ‰è‡ªå·±ç‰¹å®šçš„ HTML æ ¼å¼ï¼Œå®ƒçš„æ ¼å¼å¤§æ¦‚æ˜¯å¦‚ä¸‹è¿™æ ·ï¼š 123456789101112131415&lt;h2 id=&quot;7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰&quot;&gt; &lt;a href=&quot;&quot; class=&quot;headerlink&quot; title=&quot;7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰&quot;&gt;&lt;/a&gt; 7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰&lt;/h2&gt;&lt;!-- è¿™é‡Œæ˜¯éƒ¨åˆ†æ–‡ç« å†…å®¹ --&gt;&lt;h3 id=&quot;props-on-emit&quot;&gt; &lt;a href=&quot;&quot; class=&quot;headerlink&quot; title=&quot;props/@on+$emit&quot;&gt;&lt;/a&gt; props/@on+$emit&lt;/h3&gt;&lt;!-- è¿™é‡Œæ˜¯éƒ¨åˆ†æ–‡ç« å†…å®¹ --&gt;&lt;h3 id=&quot;$attrså’Œ$listeners&quot;&gt; &lt;a href=&quot;&quot; class=&quot;headerlink&quot; title=&quot;$attrså’Œ$listeners&quot;&gt;&lt;/a&gt; $attrså’Œ$listeners&lt;/h3&gt;&lt;!-- è¿™é‡Œæ˜¯éƒ¨åˆ†æ–‡ç« å†…å®¹ --&gt; å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„äºŒçº§æ ‡é¢˜ï¼ˆH2ï¼‰å’Œä¸‰çº§æ ‡é¢˜ï¼ˆH3ï¼‰éƒ½æ˜¯åœ¨åŒä¸€ä¸ªçˆ¶å…ƒç´ ä¸‹é¢ï¼Œä¸”æ¯ä¸ªæ ‡é¢˜ä¸‹é¢éƒ½åŒ…å«äº†ä¸€ä¸ªå¸¦æœ‰ headerlink ç±»åçš„é“¾æ¥ï¼Œå¦å¤–è¿˜æœ‰æ ‡é¢˜å±æ€§ã€‚ è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„è·å–åˆ°æ‰€æœ‰çš„æ ‡é¢˜ï¼š 1let arContentAnchor = document.querySelectorAll(&#x27;.headerlink&#x27;) ä¸Šé¢è¿™ä¸²ä»£ç çš„ç»“æœä¼šè¿”å›ä¸€ä¸ª NodeListï¼Œæœ‰äº†å®ƒæˆ‘ä»¬å°±å¯ä»¥å»ç”Ÿæˆç›®å½•äº†ã€‚ ç”Ÿæˆç›®å½• ç”Ÿæˆç›®å½•æ— éå°±æ˜¯äº§ç”Ÿä¸€ä¸² HTMLï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å“ªäº›è¦åšçš„å‘¢ï¼Ÿé¦–å…ˆè¦ç¡®å®šä¸‹ï¼Œç›®å½•éƒ½åŒ…å«äº†å“ªäº›éƒ¨åˆ†ï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºè¿™é‡Œå¤§æ¦‚æ˜¯åŒ…å«äº† 3 éƒ¨åˆ†ï¼šç›®å½•æ¡ã€åºå·å’Œæ ‡é¢˜ã€‚é‚£ä¹ˆå°±å¯ä»¥å…ˆç¡®å®šå¥½ HTML ç»“æ„ï¼š 123456789101112&lt;div class=&quot;arCatalog&quot;&gt; &lt;div class=&quot;arCatalog-line&quot;&gt;&lt;/div&gt; &lt;div class=&quot;arCatalog-body&quot;&gt; &lt;dl&gt; &lt;dd class=&quot;arCatalog-tack1 on&quot;&gt; &lt;span class=&quot;arCatalog-index&quot;&gt;1&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰&lt;/a&gt; &lt;span class=&quot;arCatalog-dot&quot;&gt;&lt;/span&gt; &lt;/dd&gt; &lt;/dl&gt; &lt;/div&gt;&lt;/div&gt; å…¶ä¸­ï¼ŒarCatalog-line è¡¨ç¤ºç›®å½•æ¡ï¼ŒarCatalog-body æ˜¯æ»šåŠ¨åŒºåŸŸï¼Œdl æ˜¯æ»šåŠ¨åˆ—è¡¨ï¼Œdd æ˜¯ç›®å½•å­é¡¹ï¼ŒarCatalog-index æ˜¯ç›®å½•åºå·ï¼Œé“¾æ¥é‡Œæ”¾çš„æ˜¯å­ç›®å½•æ ‡é¢˜ã€‚æœ‰äº† HTML ï¼Œæ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯æŠŠç›®å½•çš„æ ·å¼å†™å¥½ï¼Œå†™å®Œåæ ·å¼æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å°±ä¸åœ¨è¿™é‡Œè´´å‡ºæ¥äº†ã€‚ ç”Ÿæˆç›®å½•åˆ°è¿™é‡Œå°±å®Œäº‹äº†å—ï¼Ÿå¹¶æ²¡æœ‰ï¼Œç”±äºæµè§ˆå™¨å¯è§†åŒºåŸŸæ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦è®¡ç®—å‡ºç›®å½•æ‰€åœ¨æ»šåŠ¨åŒºåŸŸçš„é«˜åº¦ã€‚ æ»šåŠ¨é«˜åº¦ = nä¸ªç›®å½•å­é¡¹ * å­é¡¹çš„å®é™…é«˜åº¦ å…ˆè¯´å­é¡¹çš„å®é™…é«˜åº¦ï¼Œå¯¹äºç›®å½•å­é¡¹çš„æ ·å¼ä¸Šï¼Œæˆ‘è¿™é‡Œæ²¡æœ‰ç”¨å†…é—´è·å’Œå¤–è¾¹è·ï¼Œè€Œæ˜¯é€šè¿‡ line-height æ¥æ§åˆ¶ä»–ä»¬ä¹‹é—´çš„é—´éš™ï¼Œé‚£ä¹ˆï¼š å­é¡¹çš„å®é™…é«˜åº¦ = å­é¡¹çš„è¡Œé«˜ å†è¯´ n ä¸ªç›®å½•å­é¡¹ï¼Œé‚£åˆ°åº• n æ˜¯å¤šå°‘å‘¢ï¼Ÿåœ¨ç›®å½•çš„ Y è½´æ–¹å‘ä¸Šï¼Œé™¤äº†æœ‰ç›®å½•ï¼Œè¿˜æœ‰é¡¶éƒ¨çš„èœå•ï¼Œä»¥åŠä¸ºäº†ç¾è§‚è¿˜éœ€è¦é€‚å½“çš„ç•™ç™½ï¼Œæ‰€ä»¥ï¼š n = (è§†å£é«˜åº¦ - ï¼ˆé¡¶éƒ¨èœå•é«˜åº¦ + ç•™ç™½é«˜åº¦ï¼‰ï¼‰/ å­é¡¹è¡Œé«˜ æ‰€ä»¥ï¼Œæœ€ç»ˆæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºæ»šåŠ¨é«˜åº¦ï¼š 123456789101112131415let DEFAULT = &#123; lineHeight: 28, // æ¯ä¸ªèœå•çš„è¡Œé«˜æ˜¯ 28 moreHeight: 10, // èœå•å·¦ä¾§çš„çº¿æ¯”èœå•å¤šå‡ºçš„é«˜åº¦ surplusHeight: 180, // é™¤äº†èœå•é«˜åº¦+ç•™ç™½é«˜åº¦ delay: 200, // é˜²æŠ–çš„å»¶è¿Ÿæ—¶é—´ duration: 200, // æ»šåŠ¨çš„åŠ¨ç”»æŒç»­æ—¶é—´ toTopDistance: 80, // è·ç¦»è§†å£é¡¶éƒ¨å¤šå°‘é«˜åº¦ä¹‹å†…æ—¶å€™è§¦å‘é«˜äº® selector: &#x27;.headerlink&#x27;, // æ–‡ç« å†…å®¹ä¸­æ ‡é¢˜æ ‡ç­¾çš„ selector&#125;// maxCatalogCount å°±æ˜¯ä¸Šé¢æåˆ°çš„ n ä¸ªç›®å½•å­é¡¹ä¸­çš„ nlet maxCatalogCount = Math.floor((window.innerHeight - DEFAULT.surplusHeight) / DEFAULT.lineHeight) // æ»šåŠ¨åŒºåŸŸé«˜åº¦let catalogHeight = arContentAnchor.length &gt; maxCatalogCount ? maxCatalogCount * DEFAULT.lineHeight : arContentAnchor.length * DEFAULT.lineHeight; å®Œæ•´çš„ç”Ÿæˆç›®å½•çš„å‡½æ•°ä»£ç å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738// ç”Ÿæˆç›®å½•function generateCatalog()&#123; let catalogHeight = arContentAnchor.length &gt; maxCatalogCount ? maxCatalogCount * DEFAULT.lineHeight : arContentAnchor.length * DEFAULT.lineHeight; let retStr = ` &lt;div class=&quot;arCatalog&quot;&gt; &lt;div class=&quot;arCatalog-line&quot; style=&quot;height: $&#123;catalogHeight + DEFAULT.moreHeight&#125;px&quot;&gt;&lt;/div&gt; &lt;div class=&quot;arCatalog-body&quot; style=&quot;max-height: $&#123;catalogHeight&#125;px; height: $&#123;catalogHeight&#125;px&quot;&gt; &lt;dl style=&quot;margin-top: $&#123;marginTop&#125;px&quot;&gt;`; let h2Index = 0, h3Index = 1, acIndex = &#x27;&#x27;, tagName = &#x27;&#x27;, index = 0; for (let currNode of arContentAnchor) &#123; tagName = currNode.parentElement.tagName if ( tagName === &#x27;H3&#x27; ) &#123; acIndex = `$&#123;h2Index&#125;.$&#123;h3Index++&#125;` className = &#x27;arCatalog-tack2&#x27; &#125; else &#123; acIndex = ++h2Index h3Index = 1 className = &#x27;arCatalog-tack1&#x27; &#125; retStr += ` &lt;dd class=&quot;$&#123;className&#125; $&#123;index++ === lastOnIndex ? &#x27;on&#x27; : &#x27;&#x27;&#125;&quot;&gt; &lt;span class=&quot;arCatalog-index&quot;&gt;$&#123;acIndex&#125;&lt;/span&gt; &lt;a href=&quot;#&quot;&gt;$&#123;currNode.title&#125;&lt;/a&gt; &lt;span class=&quot;arCatalog-dot&quot;&gt;&lt;/span&gt; &lt;/dd&gt;` &#125;; retStr += `&lt;/dl&gt;&lt;/div&gt;&lt;/div&gt;` document.getElementById(&#x27;arAnchorBar&#x27;).innerHTML = retStr&#125; è®¾ç½®æ»šåŠ¨ç›‘å¬äº‹ä»¶ç»™ window åŠ ä¸Šæ»šåŠ¨äº‹ä»¶ï¼Œç”¨äºç›‘å¬å½“æ»šåŠ¨çš„æ—¶å€™å»åšä¸€äº›æ“ä½œï¼Œè¿™é‡Œçš„æ“ä½œå°±æ˜¯è®¾ç½®é«˜äº®å’Œæ»šåŠ¨ç›®å½•ã€‚ 12345678910window.addEventListener(&#x27;scroll&#x27;, function() &#123; setHighlight()&#125;, false)// åªæœ‰ç›®å½•æ€»æ•°è¶…è¿‡æ»šåŠ¨åŒºåŸŸå¯å®¹çº³æœ€å¤§ç›®å½•æ•°çš„æ—¶å€™ï¼Œç›®å½•æ‰éœ€è¦æ»šåŠ¨if (catalogLength &gt; maxCatalogCount) &#123; window.addEventListener(&#x27;scroll&#x27;, function() &#123; scrollCatalog() &#125;, false)&#125; å¦‚ä¸Šè¿™æ ·å°±èƒ½ç›‘å¬æµè§ˆå™¨æ»šåŠ¨äº‹ä»¶ï¼Œä»è€Œåšä¸€äº›äº‹æƒ…å•¦ã€‚ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨ï¼Œä»è€Œå­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œå…¶å®æˆ‘ä»¬æ›´å¸Œæœ›å½“æ»šåŠ¨å¼€å§‹åˆ°æ»šåŠ¨ç»“æŸçš„æ—¶å€™ï¼Œåªæ‰§è¡Œä¸€æ¬¡å‡½æ•°å³å¯ï¼Œé‚£è¿™ä¸ªç›´æ¥ä¸Šé˜²æŠ–å³å¯ï¼š 12345678910// é˜²æŠ–ï¼šè§¦å‘é«˜é¢‘äº‹ä»¶ n ç§’ååªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœ n ç§’å†…äº‹ä»¶å†æ¬¡è§¦å‘ï¼Œåˆ™ä¼šé‡æ–°è®¡æ—¶ã€‚function debounce(fn, delay = 200) &#123; return function(args) &#123; const _this = this clearTimeout(fn.id) fn.id = setTimeout(function() &#123; fn.apply(_this, args) &#125;, delay) &#125;&#125; ç„¶åæˆ‘ä»¬åªéœ€è¦æŠŠ scroll ç›‘å¬å›è°ƒé‡Œçš„å‡½æ•°å¯¹åº”æ¢æˆå¦‚ä¸‹çš„å³å¯ï¼š 12345678910window.addEventListener(&#x27;scroll&#x27;, function() &#123; debounce(setHighlight, DEFAULT.delay)() debounce(resetStatus, DEFAULT.delay)()&#125;, false)if (catalogLength &gt; maxCatalogCount) &#123; window.addEventListener(&#x27;scroll&#x27;, function() &#123; debounce(scrollCatalog, DEFAULT.delay)() &#125;, false)&#125; é«˜äº®å½“å‰ç›®å½• è¿™éƒ¨åˆ†å†…å®¹å¼€å§‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¤ä¹ ä¸€ä¸ª APIï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›å…ƒç´ çš„å¤§å°åŠå…¶ç›¸å¯¹äºè§†å£çš„ä½ç½®ï¼š 1Element.getBoundingClientRect() éœ€æ±‚åˆ†æçš„æ—¶å€™æœ‰æåˆ°ï¼Œé«˜äº®çš„åŸåˆ™æ˜¯å½“å‰æ ‡é¢˜æ‰€åœ¨çš„ä½ç½®åˆ°æµè§ˆå™¨å¯è§†åŒºåŸŸé¡¶éƒ¨çš„è·ç¦»éœ€è¦å°äºæˆ–ç­‰äºä¸€ä¸ªå›ºå®šå€¼ï¼š 1arContentAnchor[index].getBoundingClientRect().top &lt;= DEFAULT.toTopDistance æ‰€ä»¥å½“éå† arContentAnchor è¿™ä¸ªåˆ—è¡¨ï¼ŒæŸé¡¹çš„ä½ç½®å°äºå›ºå®šå€¼ï¼Œä¸”å·®å€¼æœ€å°çš„æ—¶å€™ï¼Œè¯¥é¡¹å¯¹åº”çš„ç›®å½•å°±åº”è¯¥è¢«è®¾ç½®ä¸ºé«˜äº®ï¼š 1234567891011121314151617let curr = document.querySelector(&#x27;.arCatalog .on&#x27;)curr.classList.remove(&#x27;on&#x27;)let nextOnIndex = 0, currNode;while (nextOnIndex &lt; arContentAnchor.length) &#123; currNode = arContentAnchor[nextOnIndex] if (currNode.getBoundingClientRect().top &lt;= DEFAULT.toTopDistance) &#123; nextOnIndex++ &#125; else &#123; break &#125;&#125;nextOnIndex = nextOnIndex === arContentAnchor.length ? nextOnIndex - 1 : nextOnIndex;let catalogDd = document.querySelectorAll(&#x27;.arCatalog dd&#x27;)catalogDd[nextOnIndex].classList.add(&#x27;on&#x27;) åˆ°æ­¤ä¸€åˆ‡éƒ½çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†æ˜¯ä¸Šé¢è¿™æ®µä»£ç å­˜åœ¨æ€§èƒ½é—®é¢˜ï¼Œåªè¦é¡µé¢ä¸€æ»šåŠ¨å°±ä¼šä»ç¬¬ä¸€ä¸ªç›®å½•åˆ°æœ€åä¸€ä¸ªç›®å½•ä¹‹é—´è¿›è¡ŒæŸ¥æ‰¾ï¼ŒçŸ¥é“æ‰¾åˆ°é‚£ä¸ªç¬¦åˆè¦æ±‚çš„ä¸ºæ­¢ï¼Œè¿™æ ·çš„è¯éå†æ¬¡æ•°å¤ªå¤šäº†ã€‚ æˆ‘ä»¬çŸ¥é“é¡µé¢æ»šåŠ¨æ— éå°±æ˜¯åœ¨å½“å‰è¿™ä¸ªä½ç½®çš„å‰æä¸‹ï¼Œå¾€ä¸Šæ»šåŠ¨æˆ–è€…å‘ä¸‹æ»šåŠ¨ï¼Œå¦‚æœæˆ‘ä»¬æŠŠ nextOnIndex è®°ä¸ºæ»šåŠ¨å‰çš„ç´¢å¼•ï¼Œåœ¨æ ¹æ®æ»šåŠ¨æ–¹å‘è¿›è¡ŒåŠ åŠ å‡å‡ä¸å°±å¯ä»¥å¾ˆå¥½çš„å‡å°‘éå†æ¬¡æ•°å˜›ï¼Ÿæƒ³æ³•è²Œä¼¼ä¸é”™ï¼Œæ¥è¯•ä¸€ä¸‹ã€‚ é¦–å…ˆæˆ‘ä»¬è¦åˆ¤æ–­å½“å‰æ»šåŠ¨æ˜¯å‘ä¸Šè¿˜æ˜¯å‘ä¸‹æ»šåŠ¨ï¼Œå¯ä»¥æ ¹æ®ä¸¤æ¬¡æ»šåŠ¨å‰åçš„åç§»é‡æ¥åˆ¤æ–­ï¼š å‘ä¸Šæ»šåŠ¨ = æ»šåŠ¨ååç§»é‡ &lt; æ»šåŠ¨å‰åç§»é‡ 1234567891011let lastSH = window.pageYOffset// è·å–æœ€è¿‘ä¸€æ¬¡é¡µé¢çš„æ»šåŠ¨æ–¹å‘function getScrollDirection() &#123; let sh = window.pageYOffset, ret = &#x27;bottom&#x27; if (sh &lt; lastSH) &#123; ret = &#x27;top&#x27; &#125; lastSH = sh return ret&#125; çŸ¥é“äº†æ»šåŠ¨æ–¹å‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾ˆå¥½çš„å†™å‡ºè®¾ç½®é«˜äº®çš„ä¼˜åŒ–ä»£ç ï¼š 12345678910111213141516171819202122let curr = document.querySelector(&#x27;.arCatalog .on&#x27;)let nextOnIndex = onIndex;if (defaultDirec === &#x27;bottom&#x27;) &#123; while (nextOnIndex &lt; catalogLength) &#123; let currTop = arContentAnchor[nextOnIndex].getBoundingClientRect().top if ( currTop &gt; DEFAULT.toTopDistance &amp;&amp; nextOnIndex &gt; 0)&#123; nextOnIndex-- break &#125; nextOnIndex++ &#125;&#125; else &#123; while (nextOnIndex &gt;= 0) &#123; let currTop = arContentAnchor[nextOnIndex].getBoundingClientRect().top if ( currTop &lt;= DEFAULT.toTopDistance)&#123; break &#125; nextOnIndex-- &#125;&#125;nextOnIndex = nextOnIndex === arContentAnchor.length ? nextOnIndex - 1 : nextOnIndex &lt; 0 ? 0 : nextOnIndex catalogDd[nextOnIndex].classList.add(&#x27;on&#x27;) ä¼˜åŒ–åçš„éå†æ¬¡æ•°æ˜æ˜¾å‡å°‘ï¼Œè€Œä¸”éå†æ¬¡æ•°åŸºæœ¬ä¸Šæ˜¯å°äºæˆ–ç­‰äºæ»šåŠ¨å‰åç›®å½•ç´¢å¼•çš„å·®å€¼ã€‚è™½ç„¶ç»è¿‡ä¼˜åŒ–åï¼Œå·²ç»æ˜æ˜¾çš„å‡å°‘äº†éå†æ¬¡æ•°ï¼Œä½†æ˜¯æˆ‘è¿˜æƒ³å†ä¼˜åŒ–ä¸€ä¸‹ã€‚çº³å°¼ï¼Ÿ å¾ˆå¤šæ–‡ç« é¡µå¾ˆé•¿ï¼Œæ‰€ä»¥æœ‰å›åˆ°é¡¶éƒ¨è¿™ç§åŠŸèƒ½ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå¦‚æœå½“å‰é¡µé¢å·²ç»æ»šåŠ¨åˆ°æœ€åº•éƒ¨ï¼Œè¿™ä¸ªæ—¶å€™æ¥ä¸€ä¸‹å›åˆ°é¡¶éƒ¨ï¼Œé‚£åˆšåˆšå†™çš„ä¼˜åŒ–ä»£ç ä¼šéå†å‡ æ¬¡ï¼Ÿç­”æ¡ˆæ˜¯ï¼šéå†æ¬¡æ•°å°†ä¼šæ˜¯ç›®å½•å­é¡¹çš„æ€»æ•°ã€‚æ–‡ç« æœ€å¼€å§‹æåˆ°çš„é‚£ä¸ªä½“éªŒåœ°å€çš„é‚£ç¯‡æ–‡ç«  34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡ æœ‰ 43 ä¸ªå­ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦éå† 43 æ¬¡ï¼ŒçœŸçš„ä¸èƒ½æ¥å—ç»“æœï¼Œæ‰€ä»¥å†æ¥ä¼˜åŒ–ä¸€æ¬¡ã€‚ äºŒæ¬¡ä¼˜åŒ–ä¸»è¦æ˜¯å¤„ç†è¾¹é™…é—®é¢˜ï¼Œå³æ»šåŠ¨åˆ°å¤´å°¾éƒ¨çš„æ—¶å€™åŠ ä¸Šåˆ¤æ–­ï¼Œæœ€ç»ˆäºŒæ¬¡ä¼˜åŒ–åçš„é«˜äº®å½“å‰ç›®å½•å‡½æ•°å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950// é«˜äº®å½“å‰ç›®å½•function setHighlight()&#123; defaultDirec = getScrollDirection() if (hasStopSetHighlight) &#123; return &#125; let &#123; scrollTop, &#125; = document.scrollingElement; let curr = document.querySelector(&#x27;.arCatalog .on&#x27;) let onIndex = [].indexOf.call(catalogDd, curr), // å½“å‰é«˜äº®ç´¢å¼• nextOnIndex = onIndex; // æ»šåŠ¨åé«˜äº®ç´¢å¼• curr.classList.remove(&#x27;on&#x27;) let scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight if (arContentAnchor[catalogLength - 1].getBoundingClientRect().top &lt;= DEFAULT.toTopDistance || window.innerHeight + window.pageYOffset === scrollHeight) &#123; // å°¾éƒ¨ lastOnIndex = catalogLength - 1 catalogDd[lastOnIndex].classList.add(&#x27;on&#x27;) &#125; else if (scrollTop &lt;= firstDdTop) &#123; // é¡¶éƒ¨ catalogDd[0].classList.add(&#x27;on&#x27;) lastOnIndex = 0 &#125; else &#123; // ä¸­é—´ï¼šä½¿ç”¨ç¼“å­˜ï¼Œç›´æ¥ä»ä¸Šä¸€æ¬¡ç´¢å¼•ï¼ˆonIndexï¼‰ä½ç½®å¼€å§‹æŸ¥æ‰¾ if (defaultDirec === &#x27;bottom&#x27;) &#123; while (nextOnIndex &lt; catalogLength) &#123; let currTop = arContentAnchor[nextOnIndex].getBoundingClientRect().top if ( currTop &gt; DEFAULT.toTopDistance &amp;&amp; nextOnIndex &gt; 0)&#123; nextOnIndex-- break &#125; nextOnIndex++ &#125; &#125; else &#123; while (nextOnIndex &gt;= 0) &#123; let currTop = arContentAnchor[nextOnIndex].getBoundingClientRect().top if ( currTop &lt;= DEFAULT.toTopDistance)&#123; break &#125; nextOnIndex-- &#125; &#125; nextOnIndex = nextOnIndex === catalogLength ? nextOnIndex - 1 : nextOnIndex &lt; 0 ? 0 : nextOnIndex lastOnIndex = nextOnIndex catalogDd[nextOnIndex].classList.add(&#x27;on&#x27;) &#125;&#125; æ»šåŠ¨ç›®å½• æ ¹æ®ä¹‹å‰éœ€æ±‚åˆ†æé‡Œçš„è¯´æ˜ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å½“æµè§ˆå™¨å‘ä¸‹æ»šåŠ¨çš„æ—¶å€™ï¼Œä¼šåˆ†æˆ 3 ç§æƒ…å†µï¼š æ»šåŠ¨åçš„é«˜äº®å­ç›®å½•å¤„äºäºæ»šåŠ¨åŒºåŸŸä¸ŠåŠéƒ¨åˆ†ï¼Œå³ä¸­ä½çº¿ä»¥ä¸Šï¼Œæ­¤æ—¶ç›®å½•ä¸è¿›è¡Œæ»šåŠ¨ï¼Œå¦‚ä¸Šå›¾ â‘ ï¼› æ»šåŠ¨åçš„é«˜äº®å­ç›®å½•å¤„äºæ»šåŠ¨åŒºåŸŸçš„ä¸‹åŠéƒ¨åˆ†ï¼Œå³ä¸­ä½çº¿ä»¥ä¸‹ï¼Œæ­¤æ—¶ç›®å½•çš„æ»šåŠ¨è·ç¦»å°†æ˜¯æ»šåŠ¨åé«˜äº®å­ç›®å½•çš„åº•éƒ¨ä½ç½®åˆ°ä¸­ä½çº¿çš„é«˜åº¦å·®ï¼Œå¦‚ä¸Šå›¾ â‘¡ï¼› æ»šåŠ¨åçš„é«˜äº®ç›®å½•å¤„äºä¸­ä½çº¿ä»¥ä¸‹ä¸”æœ€åä¸€ä¸ªå­ç›®å½•éœ€è¦è´´ç€æ»šåŠ¨åŒºåŸŸåº•éƒ¨ï¼Œæ­¤æ—¶ç›®å½•çš„æ»šåŠ¨è·ç¦»å°†æ˜¯æ»šåŠ¨åˆ—è¡¨åº•éƒ¨åˆ°æ»šåŠ¨åŒºåŸŸåº•éƒ¨çš„é«˜åº¦å·®ï¼Œå¦‚ä¸Šå›¾ â‘¢ã€‚ 1234567891011let catalogBody = document.querySelector(&#x27;.arCatalog-body&#x27;), initBodyTop = catalogBody..getBoundingClientRect().top, bodyMidBottom = initBodyTop + Math.ceil((maxCatalogCount / 2 )) * DEFAULT.lineHeight; // ä¸­ä½çº¿ä½ç½® if (curr.bottom + (maxCatalogCount / 2) * DEFAULT.lineHeight &lt;= bodyBCR.bottom) &#123; // ä¸ŠåŠéƒ¨åˆ† // ä¸æ»šåŠ¨&#125; else if (curr.bottom - bodyMidBottom &lt; list.bottom - bodyBCR.bottom) &#123; // ä¸­ä½ä»¥ä¸‹ marginTop += -Math.floor((curr.bottom - bodyMidBottom ) / DEFAULT.lineHeight) * DEFAULT.lineHeight&#125; else if (bodyBCR.bottom &lt;= list.bottom) &#123; // å½“å‰©ä½™æ»šåŠ¨è·ç¦» marginTop = bodyBCR.bottom - initDlBottom&#125; åŒç†ï¼Œå½“æµè§ˆå™¨å‘ä¸Šæ»šåŠ¨çš„æ—¶å€™ï¼Œä¹Ÿèƒ½å¾ˆå¥½çš„å¾—å‡ºå…¶æ»šåŠ¨é€»è¾‘ï¼š 1234567if (bodyBCR.top + (maxCatalogCount / 2) * DEFAULT.lineHeight &lt;= curr.top) &#123; // ä¸æ»šåŠ¨&#125; else if (bodyMidBottom - curr.top &lt; bodyBCR.top - list.top) &#123; marginTop += Math.floor((bodyMidBottom - curr.top) / DEFAULT.lineHeight) * DEFAULT.lineHeight&#125; else if (list.top &lt;= bodyBCR.top) &#123; marginTop = 0&#125; æœ€ç»ˆçš„æ»šåŠ¨ç›®å½•å‡½æ•°å®Œæ•´ä»£ç ï¼š 1234567891011121314151617181920212223242526// è‡ªåŠ¨æ»šåŠ¨ç›®å½•æ ‘ï¼Œä½¿å¾—å½“å‰é«˜äº®ç›®å½•åœ¨å¯è§†èŒƒå›´å†…function scrollCatalog() &#123; let currentCatalog = document.querySelector(&#x27;.arCatalog .on&#x27;); let curr = currentCatalog.getBoundingClientRect(), list = catalogDl.getBoundingClientRect(); if (defaultDirec === &#x27;bottom&#x27;) &#123; // å‘ä¸‹æ»šåŠ¨ if (curr.bottom + (maxCatalogCount / 2) * DEFAULT.lineHeight &lt;= bodyBCR.bottom) &#123; // ä¸ŠåŠéƒ¨åˆ† // ä¸æ»šåŠ¨ &#125; else if (curr.bottom - bodyMidBottom &lt; list.bottom - bodyBCR.bottom)&#123; // ä¸­ä½ä»¥ä¸‹ marginTop += -Math.floor((curr.bottom - bodyMidBottom ) / DEFAULT.lineHeight) * DEFAULT.lineHeight &#125; else if (bodyBCR.bottom &lt;= list.bottom) &#123; // å½“å‰©ä½™æ»šåŠ¨è·ç¦» marginTop = bodyBCR.bottom - initDlBottom &#125; &#125; else &#123; // å‘ä¸Šæ»šåŠ¨ if (bodyBCR.top + (maxCatalogCount / 2) * DEFAULT.lineHeight &lt;= curr.top) &#123; // ä¸æ»šåŠ¨ &#125; else if (bodyMidBottom - curr.top &lt; bodyBCR.top - list.top) &#123; marginTop += Math.floor((bodyMidBottom - curr.top) / DEFAULT.lineHeight) * DEFAULT.lineHeight &#125; else if (list.top &lt;= bodyBCR.top) &#123; marginTop = 0 &#125; &#125; catalogDl.style.marginTop = marginTop + &#x27;px&#x27;&#125; å­ç›®å½•ç‚¹å‡»äº‹ä»¶å½“ç‚¹å‡»å­ç›®å½•çš„æ—¶å€™éœ€è¦åš 2 ä»¶äº‹æƒ…ï¼Œç¬¬ä¸€æ˜¯æ»šåŠ¨é¡µé¢åˆ°å¯¹åº”çš„ç›®å½•ä½ç½®ï¼Œç„¶åæ˜¯é«˜äº®å½“å‰ç‚¹å‡»çš„ç›®å½•ï¼› æ»šåŠ¨é¡µé¢åˆ°å¯¹åº”çš„ç›®å½•ä½ç½®ï¼š 12345678910// ç»™ç›®å½•å­é¡¹ç»‘å®šäº‹ä»¶let catalogDd = document.querySelectorAll(&#x27;.arCatalog dd&#x27;); catalogDd.forEach((curr, index) =&gt; &#123; curr.addEventListener(&#x27;click&#x27;, function(e) &#123; e.preventDefault() let currTop = arContentAnchor[index].getBoundingClientRect().top document.documentElement.scrollTop = document.body.scrollTop = currTop + window.pageYOffset - DEFAULT.toTopDistance &#125;, false)&#125;); è¿™æ ·å®ç°é¡µé¢çš„æ»šåŠ¨æ˜¯æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±æ˜¯ä½“éªŒä¸å¤ªå¥½ï¼Œçªç„¶ä»ä¸€ä¸ªä½ç½®æ»šåŠ¨åˆ°å¦å¤–ä¸€ä¸ªä½ç½®ï¼Œæ˜¾å¾—çªå…€ï¼Œèƒ½ä¸èƒ½æ¥ç‚¹åŠ¨ç”»æ•ˆæœï¼Ÿç±»ä¼¼ jQuery çš„ animate() ï¼Ÿæ²¡é—®é¢˜ï¼Œæˆ‘ä»¬æ¥å°è¯•ç€å®ç°ä¸€ä¸‹ã€‚ ç”¨ JS å®ç°åŠ¨ç”»æ•ˆæœï¼Œä¸€å®šç¦»ä¸å¼€å®šæ—¶å™¨ï¼Œè¯¸å¦‚ setTimeoutã€setInterval ä¹‹ç±»ï¼Œä½†æ˜¯è¿™æ¬¡æˆ‘ä¸æ‰“ç®—ç”¨ä»–ä»¬ï¼Œè€Œæ˜¯ç”¨ HTML5 ä¸­å¢åŠ çš„ requestAnimationFrameï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºæµè§ˆå™¨å®ç°åŠ¨ç”»è€Œæä¾›çš„ APIã€‚å®ƒè™½ç„¶ä¹Ÿæ˜¯ä¸ªå®šæ—¶å™¨ï¼Œä½†æ˜¯ç›¸æ¯”äºå¦å¤–ä¸¤ä¸ªï¼Œä»–ä¸éœ€è¦ä¼ é€’æ—¶é—´ï¼Œå› ä¸ºä¼ é€’çš„å›è°ƒå‡½æ•°é‡Œè‡ªå¸¦äº†å‚æ•° DOMHighResTimeStampï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºå›è°ƒå‡½æ•°è¢«è§¦å‘çš„æ—¶é—´ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒrequestAnimationFrame ä¸­çš„å›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸æ˜¯æ¯ç§’60æ¬¡ï¼Œå³å¤§æ¦‚æ¯ 16.6 æ¯«ç§’æ‰§è¡Œä¸€æ¬¡å›è°ƒå‡½æ•°ï¼Œä½†åœ¨å¤§å¤šæ•°éµå¾ª W3C å»ºè®®çš„æµè§ˆå™¨ä¸­ï¼Œå›è°ƒå‡½æ•°æ‰§è¡Œæ¬¡æ•°é€šå¸¸ä¸æµè§ˆå™¨å±å¹•åˆ·æ–°æ¬¡æ•°ç›¸åŒ¹é…ã€‚å¥½äº†ï¼Œå¯¹äº requestAnimationFrame çš„ä»‹ç»å°±åˆ°è¿™é‡Œï¼Œä¸‹é¢æˆ‘ä»¬ç›´æ¥æ¥è¯´ä¸‹åŠ¨ç”»å®ç°æ»šåŠ¨çš„æ ¸å¿ƒåŸç†ï¼š æ¯æ¬¡æ»šåŠ¨è·ç¦» = ( æ»šåŠ¨è·ç¦» / åŠ¨ç”»æŒç»­æ—¶é—´ ) * æ¯æ¬¡åŠ¨ç”»æ‰§è¡Œæ—¶é—´è·ç¦»ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶é—´çš„å·®å€¼ + å½“å‰æ»šåŠ¨è·ç¦» ç›´æ¥æ¥çœ‹å®Œæ•´çš„åŠ¨ç”»å®ç°æ»šåŠ¨çš„å‡½æ•°ï¼š 123456789101112131415161718192021// æ»šåŠ¨åˆ°ç›®æ ‡ä½ç½®function scrollToDest(destScrollTop) &#123; let startTime; let currScrollTop = window.pageYOffset; let duration = 200; function step(timestamp) &#123; if (!startTime) &#123; startTime = timestamp &#125; const elapsed = Math.round(timestamp - startTime) const distance = elapsed * ((Math.floor(destScrollTop) - currScrollTop) / duration) + currScrollTop document.documentElement.scrollTop = document.body.scrollTop = distance if (elapsed &lt; duration) &#123; window.requestAnimationFrame(step) &#125; &#125; window.requestAnimationFrame(step)&#125; å¥½äº†ï¼Œç°åœ¨æœ‰äº†åŠ¨ç”»å‡½æ•°ï¼Œæˆ‘ä»¬éœ€è¦æ”¹å†™ä¸‹å­ç›®å½•çš„ç‚¹å‡»äº‹ä»¶ï¼Œç»™æ»šåŠ¨åŠ ä¸Šè¿‡æ¸¡æ•ˆæœï¼Œè®©äººä½“éªŒèµ·æ¥æ›´åŠ èˆ’æœï¼š 123456789let catalogDd = document.querySelectorAll(&#x27;.arCatalog dd&#x27;);catalogDd.forEach((curr, index) =&gt; &#123; curr.addEventListener(&#x27;click&#x27;, function(e) &#123; e.preventDefault() let currTop = arContentAnchor[index].getBoundingClientRect().top scrollToDest(currTop + window.pageYOffset - DEFAULT.toTopDistance) &#125;, false)&#125;); ç¬¬ä¸€ä»¶äº‹å·²ç»åšå¥½ï¼Œæ¥ä¸‹æ¥åšç¬¬äºŒä»¶äº‹ï¼Œé«˜äº®å½“å‰ç‚¹å‡»æŸä¸ªå­ç›®å½•ï¼š 1234567891011121314// ç»™ç›®å½•å­é¡¹ç»‘å®šäº‹ä»¶let catalogDd = document.querySelectorAll(&#x27;.arCatalog dd&#x27;);catalogDd.forEach((curr, index) =&gt; &#123; curr.addEventListener(&#x27;click&#x27;, function(e) &#123; e.preventDefault() hasStopSetHighlight = true document.querySelector(&#x27;.arCatalog .on&#x27;).classList.remove(&#x27;on&#x27;) catalogDd[index].classList.add(&#x27;on&#x27;) lastOnIndex = index let currTop = arContentAnchor[index].getBoundingClientRect().top scrollToDest(currTop + window.pageYOffset - DEFAULT.toTopDistance) &#125;, false)&#125;); å¦‚ä¸Šå³å¯ï¼Œä½†æ˜¯ç”±äºç‚¹å‡»äº†æŸä¸ªå­ç›®å½•ï¼Œé¡µé¢ä¼šè¿›è¡Œæ»šåŠ¨ï¼Œè€Œé¡µé¢æ»šåŠ¨åˆä¼šè§¦å‘ setHighlight å‡½æ•°å¯¹ç›®å½•è¿›è¡Œé«˜äº®ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œçš„åšæ³•æ˜¯ç”¨äº†ä¸€ä¸ªå…¨å±€å˜é‡ hasStopSetHighlight ç”¨æ¥æ§åˆ¶å½“ç‚¹å‡»å­ç›®å½•çš„æ—¶å€™ï¼Œä¸è¿›è¡Œ setHighlight è®¾ç½®é«˜äº®æ“ä½œã€‚ æµè§ˆå™¨è§†å£é«˜åº¦å˜äº†æ€ä¹ˆåŠå› ä¸ºæˆ‘ä»¬çš„æ»šåŠ¨é«˜åº¦æ˜¯æ ¹æ®æµè§ˆå™¨è§†å£é«˜åº¦è®¡ç®—å‡ºæ¥çš„ï¼Œå¦‚æœæµè§ˆå™¨è§†å£é«˜åº¦å˜åŒ–äº†ï¼Œé‚£è¿™ä¸ªæ—¶å€™å†å»æ»šåŠ¨é¡µé¢ï¼Œé‚£è‚¯å®šä¼šå‡ºé—®é¢˜çš„ã€‚æ‰€ä»¥éœ€è¦åšçš„å°±æ˜¯æŠŠå’Œè§†å£é«˜åº¦æœ‰å…³çš„é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼Œç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ªå‡½æ•°é‡Œï¼Œå½“ç›‘å¬åˆ°è§†å£é«˜åº¦å˜åŒ–çš„æ—¶å€™ï¼Œå†å»æ‰§è¡Œè¿™ä¸ªå‡½æ•°ã€‚ å…ˆæ¥å†™ç›‘å¬å‡½æ•°ï¼ŒåŒæ ·ç”¨ä¸Šäº†é˜²æŠ–å‡½æ•°å¤„ç†ï¼š 123window.addEventListener(&#x27;resize&#x27;, function(e) &#123; debounce(initCatalog, DEFAULT.delay)()&#125;, false) ç„¶åå»æŠŠç›¸å…³é€»è¾‘æŠ½ç¦»å‡ºæ¥ï¼š 1234567891011121314151617181920212223242526272829303132333435// åˆå§‹åŒ–function initCatalog() &#123; let tempHeight = window.innerHeight if (viewPortHeight !== tempHeight) &#123; viewPortHeight = tempHeight maxCatalogCount = Math.floor((viewPortHeight - DEFAULT.surplusHeight) / DEFAULT.lineHeight) generateCatalog() catalogLength = arContentAnchor.length lastSH = window.pageYOffset catalogBody = document.querySelector(&#x27;.arCatalog-body&#x27;) catalogDl = document.querySelector(&#x27;.arCatalog dl&#x27;) catalogDd = document.querySelectorAll(&#x27;.arCatalog dd&#x27;) bodyBCR = catalogBody.getBoundingClientRect() initBodyTop = bodyBCR.top initDlBottom = initDlBottom || catalogDl.getBoundingClientRect().bottom firstDdTop = firstDdTop || catalogDd[0].getBoundingClientRect().top, bodyMidBottom = initBodyTop + Math.ceil((maxCatalogCount / 2 )) * DEFAULT.lineHeight; // ç»™ç›®å½•å­é¡¹ç»‘å®šäº‹ä»¶ catalogDd.forEach((curr, index) =&gt; &#123; curr.addEventListener(&#x27;click&#x27;, function(e) &#123; e.preventDefault() hasStopSetHighlight = true document.querySelector(&#x27;.arCatalog .on&#x27;).classList.remove(&#x27;on&#x27;) catalogDd[index].classList.add(&#x27;on&#x27;) lastOnIndex = index let currTop = arContentAnchor[index].getBoundingClientRect().top scrollToDest(currTop + window.pageYOffset - DEFAULT.toTopDistance) &#125;, false) &#125;); &#125;&#125; æµè§ˆå™¨è§†å£é«˜åº¦å˜åŒ–åï¼Œè¿™é‡Œæœ‰ä¸ªç»†èŠ‚éœ€è¦æä¸€ä¸‹ï¼Œé‚£å°±æ˜¯æ»šåŠ¨ç›®å½•çš„ margin-top ä»¥åŠé«˜äº®ä½ç½®æ˜¯å¸Œæœ›å˜åŒ–çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨å…¨å±€å˜é‡è¿›è¡Œæå‰ä¿å­˜èµ·æ¥ï¼Œåˆ†åˆ«ç”¨åˆ°çš„å…¨å±€å˜é‡æ˜¯ marginTop å’Œ lastOnIndexã€‚ ç»„è£…ä¸Šé¢çš„ä»£ç éƒ½æ˜¯æŠŠä¸åŒçš„åŠŸèƒ½ç‚¹æå–åˆ°å‡½æ•°é‡Œè¿›è¡Œæ“ä½œï¼Œçœ‹èµ·æ¥æ¯”è¾ƒæ•£ä¹±ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦çœ‹çœ‹ä¸€ä¸ªå®Œæ•´çš„ç›®å½•æ’ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071/* * articleCatalog v2.0 * Copyright(c) 2016 by bulandent * Date: 2017-5-27 16:10:41 * Updated: 2020-10-10 17:40:04**/let articleCatalog = (function() &#123; if ( document.querySelectorAll(&#x27;.headerlink&#x27;).length === 0 || window.innerWidth &lt; 900 ) &#123; return function()&#123;&#125;; &#125; let DEFAULT = &#123; lineHeight: 28, // æ¯ä¸ªèœå•çš„è¡Œé«˜æ˜¯ 28 moreHeight: 10, // èœå•å·¦ä¾§çš„çº¿æ¯”èœå•å¤šå‡ºçš„é«˜åº¦ surplusHeight: 180, // é™¤äº†èœå•é«˜åº¦+ç•™ç™½é«˜åº¦ delay: 200, // é˜²æŠ–çš„å»¶è¿Ÿæ—¶é—´ duration: 200, // æ»šåŠ¨çš„åŠ¨ç”»æŒç»­æ—¶é—´ toTopDistance: 80, // è·ç¦»è§†å£é¡¶éƒ¨å¤šå°‘é«˜åº¦ä¹‹å†…æ—¶å€™è§¦å‘é«˜äº® selector: &#x27;.headerlink&#x27;, // æ–‡ç« å†…å®¹ä¸­æ ‡é¢˜æ ‡ç­¾çš„ selector &#125; return function(args) &#123; DEFAULT = Object.assign(DEFAULT, args) let arContentAnchor = document.querySelectorAll(DEFAULT.selector), catalogLength = arContentAnchor.length, maxCatalogCount = 0, // è§†å£å†…èƒ½å®¹çº³çš„æœ€å¤§ç›®å½•ä¸ªæ•° viewPortHeight = 0, // å½“å‰è§†å£çš„é«˜åº¦ marginTop = 0, // èœå•çš„åˆå§‹æ»šåŠ¨è·ç¦» defaultDirec = &#x27;bottom&#x27;, // é»˜è®¤æ»šåŠ¨æ–¹å‘ lastSH = 0, // è·å–é¡µé¢åˆå§‹æ»šåŠ¨è·ç¦» lastOnIndex = 0, // ä¸Šæ¬¡é«˜äº®çš„ç›®å½•ç´¢å¼• catalogBody = [], // .arCatalog-body catalogDl = null, // .arCatalog-body dl catalogDd = [], // .arCatalog-body dd initBodyTop = 0, // ç›®å½•å¯è§†åŒºåŸŸçš„ top initDlBottom = 0, // ç›®å½• dl çš„ bottom firstDdTop = 0, // ç¬¬ä¸€ä¸ª dd çš„ top bodyMidBottom = 0, // ç›®å½•å¯è§†åŒºåŸŸçš„ä¸­é—´ä½ç½®çš„ dd çš„ bottom bodyBCR = null, // ç›®å½•å¯è§†åŒºåŸŸçš„è¾¹ç•Œå€¼ hasStopSetHighlight = false; // åœ¨ç‚¹å‡»ç›®å½•å­é¡¹çš„æ—¶å€™ç›´æ¥é«˜äº®å½“å‰ç›®å½•ï¼Œè€Œä¸é€šè¿‡ scroll äº‹ä»¶è§¦å‘ setHighlight å‡½æ•° initCatalog() window.addEventListener(&#x27;scroll&#x27;, function() &#123; debounce(setHighlight, DEFAULT.delay)() &#125;, false) if (catalogLength &gt; maxCatalogCount) &#123; window.addEventListener(&#x27;scroll&#x27;, function() &#123; debounce(scrollCatalog, DEFAULT.delay)() &#125;, false) &#125; window.addEventListener(&#x27;resize&#x27;, function(e) &#123; debounce(initCatalog, DEFAULT.delay)() &#125;, false) // æ­¤å¤„å£°æ˜åˆå§‹åŒ–å‡½æ•° initCatalog // æ­¤å¤„å£°æ˜ç”Ÿæˆç›®å½•å‡½æ•° generateCatalog // æ­¤å¤„å£°æ˜è®¾ç½®é«˜äº®å‡½æ•° setHighlight // æ­¤å¤„å£°æ˜æ»šåŠ¨ç›®å½•å‡½æ•° scrollCatalog // æ­¤å¤„å£°æ˜åŠ¨ç”»å®ç°æ»šåŠ¨å‡½æ•° scrollToDest // æ­¤å¤„å£°æ˜é˜²æŠ–å‡½æ•° debounce // æ­¤å¤„å£°æ˜è·å–æ»šåŠ¨æ–¹å‘å‡½æ•° getScrollDirection function resetStatus() &#123; if (hasStopSetHighlight) &#123; hasStopSetHighlight = false &#125; &#125; &#125;&#125;()); ä½¿ç”¨æ’ä»¶ç„¶ååœ¨å®é™…é¡µé¢é‡Œä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦å¼•å…¥ articleCatalog.jsï¼Œç„¶åç›´æ¥ç”¨è°ƒç”¨å‡½æ•°å³å¯ï¼š 1articleCatalog() å½“ç„¶è°ƒç”¨çš„æ—¶å€™ä¹Ÿæ”¯æŒä¼ å…¥ä¸€äº›å‚æ•°ï¼Œå‚æ•°è¯´æ˜å¦‚ä¸‹ï¼š 123456789articleCatalog(&#123; lineHeight: 28, &#x2F;&#x2F; æ¯ä¸ªèœå•çš„è¡Œé«˜æ˜¯ 28 moreHeight: 10, &#x2F;&#x2F; èœå•å·¦ä¾§çš„çº¿æ¯”èœå•å¤šå‡ºçš„é«˜åº¦ surplusHeight: 180, &#x2F;&#x2F; é™¤äº†èœå•é«˜åº¦+ç•™ç™½é«˜åº¦ delay: 200, &#x2F;&#x2F; é˜²æŠ–çš„å»¶è¿Ÿæ—¶é—´ duration: 200, &#x2F;&#x2F; æ»šåŠ¨çš„åŠ¨ç”»æŒç»­æ—¶é—´ toTopDistance: 80, &#x2F;&#x2F; è·ç¦»è§†å£é¡¶éƒ¨å¤šå°‘é«˜åº¦ä¹‹å†…æ—¶å€™è§¦å‘é«˜äº® selector: &#39;.headerlink&#39;, &#x2F;&#x2F; æ–‡ç« å†…å®¹ä¸­æ ‡é¢˜æ ‡ç­¾çš„ selector&#125;) æ³¨æ„ä¼ å…¥å‚æ•°ä¹Ÿæ˜¯çä¼ çš„ï¼Œéœ€è¦é…åˆè¯¥æ’ä»¶çš„æ ·å¼ï¼Œå¦åˆ™å®¹æ˜“ç¨‹é—®é¢˜ã€‚æ¯”å¦‚æ˜æ˜é¡µé¢ä¸­å­ç›®å½•çš„çœŸå®è¡Œé«˜æ˜¯ 28pxï¼Œä½ å´ä¼ å…¥ lineHeight: 24ï¼Œé‚£è‚¯å®šæ˜¯ä¸è¡Œçš„ã€‚ ä½¿ç”¨è¿™ä¸ªæ’ä»¶æ˜¯æœ‰å‰æçš„ï¼Œé‚£å°±æ˜¯å…¶æ–‡ç« é¡µçš„ HTML ç»“æ„å¿…é¡»æ»¡è¶³ä¸Šé¢æåˆ°çš„é‚£ç§ç»“æ„æ‰è¡Œï¼Œä¸”åªæ”¯æŒä¸¤çº§å­ç›®å½•ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"34æ¡æˆ‘èƒ½å‘Šè¯‰ä½ çš„Vueä¹‹å®æ“ç¯‡","slug":"vue-operate","date":"2020-09-21T02:22:22.564Z","updated":"2020-10-23T08:12:11.394Z","comments":true,"path":"2020/09/21/vue-operate/","link":"","permalink":"https://bubuzou.com/2020/09/21/vue-operate/","excerpt":"è¿™æ˜¯æˆ‘å­¦ä¹ æ•´ç†çš„å…³äº Vue.js ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼Œå¦å¤–è¿˜æœ‰ä¸¤ç¯‡åˆ†åˆ«æ˜¯å…³äºä¼˜åŒ–å’ŒåŸç†çš„ã€‚å¸Œæœ›è¯»å®Œè¿™3ç¯‡æ–‡ç« ï¼Œä½ èƒ½å¯¹ Vue æœ‰ä¸ªæ›´æ·±å…¥çš„è®¤è¯†ã€‚ 7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰ç»„ä»¶é€šä¿¡æ˜¯ Vue çš„æ ¸å¿ƒçŸ¥è¯†ï¼ŒæŒæ¡è¿™å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼Œé¢è¯•å¼€å‘ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚ props/@on+$emitç”¨äºå®ç°çˆ¶å­ç»„ä»¶é—´é€šä¿¡ã€‚é€šè¿‡ props å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š 12&lt;!-- parent.vue --&gt;&lt;child :title=&quot;title&quot;&gt;&lt;/child&gt;","text":"è¿™æ˜¯æˆ‘å­¦ä¹ æ•´ç†çš„å…³äº Vue.js ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€ç¯‡ï¼Œå¦å¤–è¿˜æœ‰ä¸¤ç¯‡åˆ†åˆ«æ˜¯å…³äºä¼˜åŒ–å’ŒåŸç†çš„ã€‚å¸Œæœ›è¯»å®Œè¿™3ç¯‡æ–‡ç« ï¼Œä½ èƒ½å¯¹ Vue æœ‰ä¸ªæ›´æ·±å…¥çš„è®¤è¯†ã€‚ 7ç§ç»„ä»¶é€šä¿¡æ–¹å¼éšä½ é€‰ç»„ä»¶é€šä¿¡æ˜¯ Vue çš„æ ¸å¿ƒçŸ¥è¯†ï¼ŒæŒæ¡è¿™å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼Œé¢è¯•å¼€å‘ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚ props/@on+$emitç”¨äºå®ç°çˆ¶å­ç»„ä»¶é—´é€šä¿¡ã€‚é€šè¿‡ props å¯ä»¥æŠŠçˆ¶ç»„ä»¶çš„æ¶ˆæ¯ä¼ é€’ç»™å­ç»„ä»¶ï¼š 12&lt;!-- parent.vue --&gt;&lt;child :title=&quot;title&quot;&gt;&lt;/child&gt; 1234567// child.vueprops: &#123; title: &#123; type: String, default: &#x27;&#x27;, &#125;&#125; è¿™æ ·ä¸€æ¥ this.title å°±ç›´æ¥æ‹¿åˆ°ä»çˆ¶ç»„ä»¶ä¸­ä¼ è¿‡æ¥çš„ title çš„å€¼äº†ã€‚æ³¨æ„ï¼Œä½ ä¸åº”è¯¥åœ¨å­ç»„ä»¶å†…éƒ¨ç›´æ¥æ”¹å˜ propï¼Œè¿™é‡Œå°±ä¸å¤šèµ˜è¿°ï¼Œå¯ä»¥ç›´æ¥çœ‹å®˜ç½‘ä»‹ç»ã€‚ è€Œé€šè¿‡ @on+$emit ç»„åˆå¯ä»¥å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯ï¼š 12&lt;!-- parent.vue --&gt;&lt;child @changeTitle=&quot;changeTitle&quot;&gt;&lt;/child&gt; 12// child.vuethis.$emit(&#x27;changeTitle&#x27;, &#x27;bubuzou.com&#x27;) $attrså’Œ$listenersVue_2.4 ä¸­æ–°å¢çš„ $attrs/$listeners å¯ä»¥è¿›è¡Œè·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚$attrs åŒ…å«äº†çˆ¶çº§ä½œç”¨åŸŸä¸­ä¸ä½œä¸º prop çš„å±æ€§ç»‘å®šï¼ˆclass å’Œ style é™¤å¤–ï¼‰ï¼Œå¥½åƒå¬èµ·æ¥æœ‰äº›ä¸å¥½ç†è§£ï¼Ÿæ²¡äº‹ï¼Œçœ‹ä¸‹ä»£ç å°±çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€äº†ï¼š 12&lt;!-- çˆ¶ç»„ä»¶ index.vue --&gt;&lt;list class=&quot;list-box&quot; title=&quot;æ ‡é¢˜&quot; desc=&quot;æè¿°&quot; :list=&quot;list&quot;&gt;&lt;/list&gt; 1234567// å­ç»„ä»¶ list.vueprops: &#123; list: [],&#125;,mounted() &#123; console.log(this.$attrs) // &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;&#125; åœ¨ä¸Šé¢çš„çˆ¶ç»„ä»¶ index.vue ä¸­æˆ‘ä»¬ç»™å­ç»„ä»¶ list.vue ä¼ é€’äº†4ä¸ªå‚æ•°ï¼Œä½†æ˜¯åœ¨å­ç»„ä»¶å†…éƒ¨ props é‡Œåªå®šä¹‰äº†ä¸€ä¸ª listï¼Œé‚£ä¹ˆæ­¤æ—¶ this.$attrs çš„å€¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆè¦å»é™¤ props ä¸­å·²ç»ç»‘å®šäº†çš„ï¼Œç„¶åå†å»é™¤ class å’Œ styleï¼Œæœ€åå‰©ä¸‹ title å’Œ desc ç»“æœå’Œæ‰“å°çš„æ˜¯ä¸€è‡´çš„ã€‚åŸºäºä¸Šé¢ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åœ¨ç»™ list.vue ä¸­åŠ ä¸€ä¸ªå­ç»„ä»¶ï¼š 12&lt;!-- å­ç»„ä»¶ list.vue --&gt;&lt;detail v-bind=&quot;$attrs&quot;&gt;&lt;/detial&gt; 12345// å­™å­ç»„ä»¶ detail.vue// ä¸å®šä¹‰propsï¼Œç›´æ¥æ‰“å° $attrsmounted() &#123; console.log(this.$attrs) // &#123;title: &quot;æ ‡é¢˜&quot;, desc: &quot;æè¿°&quot;&#125;&#125; åœ¨å­ç»„ä»¶ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª v-bind=&quot;$attrs&quot; å¯ä»¥æŠŠçˆ¶çº§ä¼ è¿‡æ¥çš„å‚æ•°ï¼Œå»é™¤ propsã€class å’Œ style ä¹‹åå‰©ä¸‹çš„ç»§ç»­å¾€ä¸‹çº§ä¼ é€’ï¼Œè¿™æ ·å°±å®ç°äº†è·¨çº§çš„ç»„ä»¶é€šä¿¡ã€‚ $attrs æ˜¯å¯ä»¥è¿›è¡Œè·¨çº§çš„å‚æ•°ä¼ é€’ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼›åŒæ ·çš„ï¼Œé€šè¿‡ $listeners ç”¨ç±»ä¼¼çš„æ“ä½œæ–¹å¼å¯ä»¥è¿›è¡Œè·¨çº§çš„äº‹ä»¶ä¼ é€’ï¼Œå®ç°å­åˆ°çˆ¶çš„é€šä¿¡ã€‚$listeners åŒ…å«äº†çˆ¶ä½œç”¨åŸŸä¸­ä¸å« .native ä¿®é¥°çš„ v-on äº‹ä»¶ç›‘å¬å™¨ï¼Œé€šè¿‡ v-on=&quot;$listeners&quot; ä¼ é€’åˆ°å­ç»„ä»¶å†…éƒ¨ã€‚ 12345&lt;!-- çˆ¶ç»„ä»¶ index.vue --&gt;&lt;list @change=&quot;change&quot; @update.native=&quot;update&quot;&gt;&lt;/list&gt;&lt;!-- å­ç»„ä»¶ list.vue --&gt;&lt;detail v-on=&quot;$listeners&quot;&gt;&lt;/detail&gt; 12345// å­™å­ç»„ä»¶ detail.vuemounted() &#123; this.$listeners.change() this.$listeners.update() // TypeError: this.$listeners.update is not a function&#125; provide/injectç»„åˆæ‹³provide/inject ç»„åˆä»¥å…è®¸ä¸€ä¸ªç¥–å…ˆç»„ä»¶å‘å…¶æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œå¯ä»¥æ³¨å…¥å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°è·¨çº§çˆ¶å­ç»„ä»¶é€šä¿¡ã€‚åœ¨å¼€å‘é«˜é˜¶ç»„ä»¶å’Œç»„ä»¶åº“çš„æ—¶å€™å°¤å…¶å¥½ç”¨ã€‚ 123456789101112131415161718192021222324// çˆ¶ç»„ä»¶ index.vuedata() &#123; return &#123; title: &#x27;bubuzou.com&#x27;, &#125;&#125;provide() &#123; return &#123; detail: &#123; title: this.title, change: (val) =&gt; &#123; console.log( val ) &#125; &#125; &#125;&#125;// å­™å­ç»„ä»¶ detail.vueinject: [&#x27;detail&#x27;],mounted() &#123; console.log(this.detail.title) // bubuzou.com this.detail.title = &#x27;hello world&#x27; // è™½ç„¶å€¼è¢«æ”¹å˜äº†ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸­ title å¹¶ä¸ä¼šé‡æ–°æ¸²æŸ“ this.detail.change(&#x27;æ”¹å˜åçš„å€¼&#x27;) // æ‰§è¡Œè¿™å¥åå°†æ‰“å°ï¼šæ”¹å˜åçš„å€¼ &#125; provide å’Œ inject çš„ç»‘å®šå¯¹äºåŸå§‹ç±»å‹æ¥è¯´å¹¶ä¸æ˜¯å¯å“åº”çš„ã€‚è¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ç„¶è€Œï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„ property è¿˜æ˜¯å¯å“åº”çš„ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆåœ¨å­™å­ç»„ä»¶ä¸­æ”¹å˜äº† titleï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ä¸ä¼šé‡æ–°æ¸²æŸ“çš„åŸå› ã€‚ EventBusä»¥ä¸Šä¸‰ç§æ–¹å¼éƒ½æ˜¯åªèƒ½ä»çˆ¶åˆ°å­æ–¹å‘æˆ–è€…å­åˆ°çˆ¶æ–¹å‘è¿›è¡Œç»„ä»¶çš„é€šä¿¡ï¼Œè€Œæˆ‘å°±æ¯”è¾ƒç‰›é€¼äº†ğŸ˜€ï¼Œæˆ‘è¿˜èƒ½è¿›è¡Œå…„å¼Ÿç»„ä»¶ä¹‹é—´çš„é€šä¿¡ï¼Œç”šè‡³ä»»æ„2ä¸ªç»„ä»¶é—´é€šä¿¡ã€‚åˆ©ç”¨ Vue å®ä¾‹å®ç°ä¸€ä¸ª EventBus è¿›è¡Œä¿¡æ¯çš„å‘å¸ƒå’Œè®¢é˜…ï¼Œå¯ä»¥å®ç°åœ¨ä»»æ„2ä¸ªç»„ä»¶ä¹‹é—´é€šä¿¡ã€‚æœ‰ä¸¤ç§å†™æ³•éƒ½å¯ä»¥åˆå§‹åŒ–ä¸€ä¸ª eventBus å¯¹è±¡ï¼š é€šè¿‡å¯¼å‡ºä¸€ä¸ª Vue å®ä¾‹ï¼Œç„¶åå†éœ€è¦çš„åœ°æ–¹å¼•å…¥ï¼š 123// eventBus.jsimport Vue from &#x27;vue&#x27;export const EventBus = new Vue() ä½¿ç”¨ EventBus è®¢é˜…å’Œå‘å¸ƒæ¶ˆæ¯ï¼š 1234567import &#123;EventBus&#125; from &#x27;../utils/eventBus.js&#x27;// è®¢é˜…å¤„EventBus.$on(&#x27;update&#x27;, val =&gt; &#123;&#125;)// å‘å¸ƒå¤„EventBus.$emit(&#x27;update&#x27;, &#x27;æ›´æ–°ä¿¡æ¯&#x27;) åœ¨ main.js ä¸­åˆå§‹åŒ–ä¸€ä¸ªå…¨å±€çš„äº‹ä»¶æ€»çº¿ï¼š 12// main.jsVue.prototype.$eventBus = new Vue() ä½¿ç”¨ï¼š 12345// éœ€è¦è®¢é˜…çš„åœ°æ–¹this.$eventBus.$on(&#x27;update&#x27;, val =&gt; &#123;&#125;)// éœ€è¦å‘å¸ƒä¿¡æ¯çš„åœ°æ–¹this.$eventBus.$emit(&#x27;update&#x27;, &#x27;æ›´æ–°ä¿¡æ¯&#x27;) å¦‚æœæƒ³è¦ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œå¯ä»¥è¿™æ ·æ¥ï¼š 1this.$eventBus.$off(&#x27;update&#x27;, &#123;&#125;) ä¸Šé¢ä»‹ç»äº†ä¸¤ç§å†™æ³•ï¼Œæ¨èä½¿ç”¨ç¬¬äºŒç§å…¨å±€å®šä¹‰çš„æ–¹å¼ï¼Œå¯ä»¥é¿å…åœ¨å¤šå¤„å¯¼å…¥ EventBus å¯¹è±¡ã€‚è¿™ç§ç»„ä»¶é€šä¿¡æ–¹å¼åªè¦è®¢é˜…å’Œå‘å¸ƒçš„é¡ºåºå¾—å½“ï¼Œä¸”äº‹ä»¶åç§°ä¿æŒå”¯ä¸€æ€§ï¼Œç†è®ºä¸Šå¯ä»¥åœ¨ä»»ä½• 2 ä¸ªç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œç›¸å½“çš„å¼ºå¤§ã€‚ä½†æ˜¯æ–¹æ³•è™½å¥½ï¼Œå¯ä¸è¦æ»¥ç”¨ï¼Œå»ºè®®åªç”¨äºç®€å•ã€å°‘é‡ä¸šåŠ¡çš„é¡¹ç›®ä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªå¤§å‹ç¹æ‚çš„é¡¹ç›®ä¸­æ— ä¼‘æ­¢çš„ä½¿ç”¨è¯¥æ–¹æ³•ï¼Œå°†ä¼šå¯¼è‡´é¡¹ç›®éš¾ä»¥ç»´æŠ¤ã€‚ Vuexè¿›è¡Œå…¨å±€çš„æ•°æ®ç®¡ç†Vuex æ˜¯ä¸€ä¸ªä¸“é—¨æœåŠ¡äº Vue.js åº”ç”¨çš„çŠ¶æ€ç®¡ç†å·¥å…·ã€‚é€‚ç”¨äºä¸­å¤§å‹åº”ç”¨ã€‚Vuex ä¸­æœ‰ä¸€äº›ä¸“æœ‰æ¦‚å¿µéœ€è¦å…ˆäº†è§£ä¸‹ï¼š Stateï¼šç”¨äºæ•°æ®çš„å­˜å‚¨ï¼Œæ˜¯ store ä¸­çš„å”¯ä¸€æ•°æ®æºï¼› Getterï¼šç±»ä¼¼äºè®¡ç®—å±æ€§ï¼Œå°±æ˜¯å¯¹ State ä¸­çš„æ•°æ®è¿›è¡ŒäºŒæ¬¡çš„å¤„ç†ï¼Œæ¯”å¦‚ç­›é€‰å’Œå¯¹å¤šä¸ªæ•°æ®è¿›è¡Œæ±‚å€¼ç­‰ï¼› Mutationï¼šç±»ä¼¼äº‹ä»¶ï¼Œæ˜¯æ”¹å˜ Store ä¸­æ•°æ®çš„å”¯ä¸€é€”å¾„ï¼Œåªèƒ½è¿›è¡ŒåŒæ­¥æ“ä½œï¼› Actionï¼šç±»ä¼¼ Mutationï¼Œé€šè¿‡æäº¤ Mutation æ¥æ”¹å˜æ•°æ®ï¼Œè€Œä¸ç›´æ¥æ“ä½œ Stateï¼Œå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œï¼› Moduleï¼šå½“ä¸šåŠ¡å¤æ‚çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠ store åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œä¾¿äºç»´æŠ¤ï¼› å¯¹äºè¿™å‡ ä¸ªæ¦‚å¿µæœ‰å„ç§å¯¹åº”çš„ map è¾…åŠ©å‡½æ•°ç”¨æ¥ç®€åŒ–æ“ä½œï¼Œæ¯”å¦‚ mapStateï¼Œå¦‚ä¸‹ä¸‰ç§å†™æ³•å…¶å®æ˜¯ä¸€ä¸ªæ„æ€ï¼Œéƒ½æ˜¯ä¸ºäº†ä» state ä¸­è·å–æ•°æ®ï¼Œå¹¶ä¸”é€šè¿‡è®¡ç®—å±æ€§è¿”å›ç»™ç»„ä»¶ä½¿ç”¨ã€‚ 123456789computed: &#123; count() &#123; return this.$store.state.count &#125;, ...mapState(&#123; count: state =&gt; state.count &#125;), ...mapState([&#x27;count&#x27;]),&#125;, åˆæ¯”å¦‚ mapMutationsï¼Œ ä»¥ä¸‹ä¸¤ç§å‡½æ•°çš„å®šä¹‰æ–¹å¼è¦å®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯è¦æäº¤ä¸€ä¸ª mutation å»æ”¹å˜ state ä¸­çš„æ•°æ®ï¼š 123456methods: &#123; increment() &#123; this.$store.commit(&#x27;increment&#x27;) &#125;, ...mapMutations([&#x27;increment&#x27;]),&#125; æ¥ä¸‹æ¥å°±ç”¨ä¸€ä¸ªæç®€çš„ä¾‹å­æ¥å±•ç¤º Vuex ä¸­ä»»æ„2ä¸ªç»„ä»¶é—´çš„çŠ¶æ€ç®¡ç†ã€‚1ã€ æ–°å»º store.js 1234567891011121314151617import Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;Vue.use(Vuex)export default new Vuex.Store(&#123; state: &#123; count: 0, &#125;, mutations: &#123; increment(state) &#123; state.count++ &#125;, decrement(state) &#123; state.count-- &#125; &#125;,&#125;) 2ã€ åˆ›å»ºä¸€ä¸ªå¸¦ store çš„ Vue å®ä¾‹ 12345678910import Vue from &#x27;vue&#x27;import App from &#x27;./App.vue&#x27;import router from &#x27;./router&#x27;import store from &#x27;./utils/store&#x27;new Vue(&#123; router, store, render: h =&gt; h(App)&#125;).$mount(&#x27;#app&#x27;) 3ã€ ä»»æ„ç»„ä»¶ A å®ç°ç‚¹å‡»é€’å¢ 1234567891011121314&lt;template&gt; &lt;p @click=&quot;increment&quot;&gt;click to incrementï¼š&#123;&#123;count&#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState, mapMutations&#125; from &#x27;vuex&#x27;export default &#123; computed: &#123; ...mapState([&#x27;count&#x27;]) &#125;, methods: &#123; ...mapMutations([&#x27;increment&#x27;]) &#125;,&#125;&lt;/script&gt; 4ã€ ä»»æ„ç»„ä»¶ B å®ç°ç‚¹å‡»é€’å‡ 1234567891011121314&lt;template&gt; &lt;p @click=&quot;decrement&quot;&gt;click to decrementï¼š&#123;&#123;count&#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;script&gt;import &#123;mapState, mapMutations&#125; from &#x27;vuex&#x27;export default &#123; computed: &#123; ...mapState([&#x27;count&#x27;]) &#125;, methods: &#123; ...mapMutations([&#x27;decrement&#x27;]) &#125;,&#125;&lt;/script&gt; ä»¥ä¸Šåªæ˜¯ç”¨æœ€ç®€å•çš„ vuex é…ç½®å»å®ç°ç»„ä»¶é€šä¿¡ï¼Œå½“ç„¶çœŸå®é¡¹ç›®ä¸­çš„é…ç½®è‚¯å®šä¼šæ›´å¤æ‚ï¼Œæ¯”å¦‚éœ€è¦å¯¹ State æ•°æ®è¿›è¡ŒäºŒæ¬¡ç­›é€‰ä¼šç”¨åˆ° Getterï¼Œç„¶åå¦‚æœéœ€è¦å¼‚æ­¥çš„æäº¤é‚£ä¹ˆéœ€è¦ä½¿ç”¨ Actionï¼Œå†æ¯”å¦‚å¦‚æœæ¨¡å—å¾ˆå¤šï¼Œå¯ä»¥å°† store åˆ†æ¨¡å—è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚å¯¹äº Vuex æ›´å¤šå¤æ‚çš„æ“ä½œè¿˜æ˜¯å»ºè®®å»çœ‹Vuex å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åå¤šå†™ä¾‹å­ã€‚ Vue.observableå®ç°mini vuexè¿™æ˜¯ä¸€ä¸ª Vue2.6 ä¸­æ–°å¢çš„ APIï¼Œç”¨æ¥è®©ä¸€ä¸ªå¯¹è±¡å¯ä»¥å“åº”ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹æ¥å®ç°ä¸€ä¸ªå°å‹çš„çŠ¶æ€ç®¡ç†å™¨ã€‚ 123456789101112131415// store.jsimport Vue from &#x27;vue&#x27;export const state = Vue.observable(&#123; count: 0,&#125;)export const mutations = &#123; increment() &#123; state.count++ &#125; decrement() &#123; state.count-- &#125;&#125; 1234567891011121314&lt;!-- parent.vue --&gt;&lt;template&gt; &lt;p&gt;&#123;&#123; count &#125;&#125;&lt;/p&gt;&lt;/template&gt;&lt;script&gt;import &#123; state &#125; from &#x27;../store&#x27;export default &#123; computed: &#123; count() &#123; return state.count &#125; &#125;&#125;&lt;/script&gt; 123456789// child.vueimport &#123; mutations &#125; from &#x27;../store&#x27;export default &#123; methods: &#123; handleClick() &#123; mutations.increment() &#125; &#125;&#125; $refs/$children/$parent/$rooté€šè¿‡ç»™å­ç»„ä»¶å®šä¹‰ ref å±æ€§å¯ä»¥ä½¿ç”¨ $refs æ¥ç›´æ¥æ“ä½œå­ç»„ä»¶çš„æ–¹æ³•å’Œå±æ€§ã€‚ 1&lt;child ref=&quot;list&quot;&gt;&lt;/child&gt; æ¯”å¦‚å­ç»„ä»¶æœ‰ä¸€ä¸ª getList æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼è¿›è¡Œè°ƒç”¨ï¼Œå®ç°çˆ¶åˆ°å­çš„é€šä¿¡ï¼š 1this.$refs.list.getList() é™¤äº† $refs å¤–ï¼Œå…¶ä»–3ä¸ªéƒ½æ˜¯è‡ª Vue å®ä¾‹åˆ›å»ºåå°±ä¼šè‡ªåŠ¨åŒ…å«çš„å±æ€§ï¼Œä½¿ç”¨å’Œä¸Šé¢çš„ç±»ä¼¼ã€‚ 6ç±»å¯ä»¥æŒæ¡çš„ä¿®é¥°ç¬¦è¡¨å•ä¿®é¥°ç¬¦è¡¨å•ç±»çš„ä¿®é¥°ç¬¦éƒ½æ˜¯å’Œ v-model æ­é…ä½¿ç”¨çš„ï¼Œæ¯”å¦‚ï¼šv-model.lazyã€v-model-trim ä»¥åŠ v-model.number ç­‰ã€‚ .lazyï¼šå¯¹è¡¨å•è¾“å…¥çš„ç»“æœè¿›è¡Œå»¶è¿Ÿå“åº”ï¼Œé€šå¸¸å’Œ v-model æ­é…ä½¿ç”¨ã€‚æ­£å¸¸æƒ…å†µä¸‹åœ¨ input é‡Œè¾“å…¥å†…å®¹ä¼šåœ¨ p æ ‡ç­¾é‡Œå®æ—¶çš„å±•ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯åŠ ä¸Š .lazy ååˆ™éœ€è¦åœ¨è¾“å…¥æ¡†å¤±å»ç„¦ç‚¹çš„æ—¶å€™æ‰è§¦å‘å“åº”ã€‚ 12&lt;input type=&quot;text&quot; v-model.lazy=&quot;name&quot; /&gt;&lt;p&gt;&#123;&#123; name &#125;&#125;&lt;/p&gt; .trimï¼šè¿‡æ»¤è¾“å…¥å†…å®¹çš„é¦–å°¾ç©ºæ ¼ï¼Œè¿™ä¸ªå’Œç›´æ¥æ‹¿åˆ°å­—ç¬¦ä¸²ç„¶åé€šè¿‡ str.trim() å»é™¤å­—ç¬¦ä¸²é¦–å°¾ç©ºæ ¼æ˜¯ä¸€ä¸ªæ„æ€ã€‚ .numberï¼šå¦‚æœè¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯æ•°å­—ï¼Œé‚£å°±åªèƒ½è¾“å…¥æ•°å­—ï¼Œå¦åˆ™ä»–è¾“å…¥çš„å°±æ˜¯æ™®é€šå­—ç¬¦ä¸²ã€‚ äº‹ä»¶ä¿®é¥°ç¬¦Vue çš„äº‹ä»¶ä¿®é¥°ç¬¦æ˜¯ä¸“é—¨ä¸º v-on è®¾è®¡çš„ï¼Œå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼š @click.stop=&quot;handleClick&quot;ï¼Œè¿˜èƒ½ä¸²è”ä½¿ç”¨ï¼š@click.stop.prevent=&quot;handleClick&quot;ã€‚ 1234&lt;div @click=&quot;doDiv&quot;&gt; click div &lt;p @click=&quot;doP&quot;&gt;click p&lt;/p&gt;&lt;/div&gt; .stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œå’ŒåŸç”Ÿ event.stopPropagation() æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚å¦‚ä¸Šä»£ç ï¼Œå½“ç‚¹å‡» p æ ‡ç­¾çš„æ—¶å€™ï¼Œdiv ä¸Šçš„ç‚¹å‡»äº‹ä»¶ä¹Ÿä¼šè§¦å‘ï¼ŒåŠ ä¸Š .stop åäº‹ä»¶å°±ä¸ä¼šå¾€çˆ¶çº§ä¼ é€’ï¼Œé‚£çˆ¶çº§çš„äº‹ä»¶å°±ä¸ä¼šè§¦å‘äº†ã€‚ .preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ï¼Œå’ŒåŸç”Ÿçš„ event.preventDefault() æ˜¯ä¸€æ ·çš„æ•ˆæœã€‚æ¯”å¦‚ä¸€ä¸ªå¸¦æœ‰ href çš„é“¾æ¥ä¸Šæ·»åŠ äº†ç‚¹å‡»äº‹ä»¶ï¼Œé‚£ä¹ˆäº‹ä»¶è§¦å‘çš„æ—¶å€™ä¹Ÿä¼šè§¦å‘é“¾æ¥çš„è·³è½¬ï¼Œä½†æ˜¯åŠ ä¸Š .prevent åå°±ä¸ä¼šè§¦å‘é“¾æ¥è·³è½¬äº†ã€‚ .captureï¼šé»˜è®¤çš„äº‹ä»¶æµæ˜¯ï¼šæ•è·é˜¶æ®µ-ç›®æ ‡é˜¶æ®µ-å†’æ³¡é˜¶æ®µï¼Œå³äº‹ä»¶ä»æœ€å…·ä½“ç›®æ ‡å…ƒç´ å¼€å§‹è§¦å‘ï¼Œç„¶åå¾€ä¸Šå†’æ³¡ã€‚è€ŒåŠ ä¸Š .capture ååˆ™æ˜¯åè¿‡æ¥ï¼Œå¤–å±‚å…ƒç´ å…ˆè§¦å‘äº‹ä»¶ï¼Œç„¶åå¾€æ·±å±‚ä¼ é€’ã€‚ .selfï¼šåªè§¦å‘è‡ªèº«çš„äº‹ä»¶ï¼Œä¸ä¼šä¼ é€’åˆ°çˆ¶çº§ï¼Œå’Œ .stop çš„ä½œç”¨æœ‰ç‚¹ç±»ä¼¼ã€‚ .onceï¼šåªä¼šè§¦å‘ä¸€æ¬¡è¯¥äº‹ä»¶ã€‚ .passiveï¼šå½“é¡µé¢æ»šåŠ¨çš„æ—¶å€™å°±ä¼šä¸€ç›´è§¦å‘ onScroll äº‹ä»¶ï¼Œè¿™ä¸ªå…¶å®æ˜¯å­˜åœ¨æ€§èƒ½é—®é¢˜çš„ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œå½“ç»™ä»–åŠ ä¸Š .passive åè§¦å‘çš„å°±ä¸ä¼šé‚£ä¹ˆé¢‘ç¹äº†ã€‚ .nativeï¼šç°åœ¨åœ¨ç»„ä»¶ä¸Šä½¿ç”¨ v-on åªä¼šç›‘å¬è‡ªå®šä¹‰äº‹ä»¶ (ç»„ä»¶ç”¨ $emit è§¦å‘çš„äº‹ä»¶)ã€‚å¦‚æœè¦ç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ .native ä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ el-inputï¼Œå¦‚æœä¸åŠ  .native å½“å›è½¦çš„æ—¶å€™å°±ä¸ä¼šè§¦å‘ search å‡½æ•°ã€‚ 1&lt;el-input type=&quot;text&quot; v-model=&quot;name&quot; @keyup.enter.native=&quot;search&quot;&gt;&lt;/el-input&gt; ä¸²è”ä½¿ç”¨äº‹ä»¶ä¿®é¥°ç¬¦çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„å…¶é¡ºåºï¼ŒåŒæ ·2ä¸ªä¿®é¥°ç¬¦è¿›è¡Œä¸²è”ä½¿ç”¨ï¼Œé¡ºåºä¸åŒï¼Œç»“æœå¤§ä¸ä¸€æ ·ã€‚@click.prevent.self ä¼šé˜»æ­¢æ‰€æœ‰çš„ç‚¹å‡»äº‹ä»¶ï¼Œè€Œ @click.self.prevent åªä¼šé˜»æ­¢å¯¹è‡ªèº«å…ƒç´ çš„ç‚¹å‡»ã€‚ é¼ æ ‡æŒ‰é’®ä¿®é¥°ç¬¦ .leftï¼šé¼ æ ‡å·¦é”®ç‚¹å‡»ï¼› .rightï¼šé¼ æ ‡å³é”®ç‚¹å‡»ï¼› .middleï¼šé¼ æ ‡ä¸­é”®ç‚¹å‡»ï¼› é”®ç›˜æŒ‰é”®ä¿®é¥°ç¬¦Vue æä¾›äº†ä¸€äº›å¸¸ç”¨çš„æŒ‰é”®ç ï¼š .enter .tab .delete (æ•è·â€œåˆ é™¤â€å’Œâ€œé€€æ ¼â€é”®) .esc .space .up .down .left .right å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥å°† KeyboardEvent.key æš´éœ²çš„ä»»æ„æœ‰æ•ˆæŒ‰é”®åè½¬æ¢ä¸º kebab-case æ¥ä½œä¸ºä¿®é¥°ç¬¦ï¼Œæ¯”å¦‚å¯ä»¥é€šè¿‡å¦‚ä¸‹çš„ä»£ç æ¥æŸ¥çœ‹å…·ä½“æŒ‰é”®çš„é”®åæ˜¯ä»€ä¹ˆï¼š 1&lt;input @keyup=&quot;onKeyUp&quot;&gt; 123onKeyUp(event) &#123; console.log(event.key) // æ¯”å¦‚é”®ç›˜çš„æ–¹å‘é”®å‘ä¸‹å°±æ˜¯ ArrowDown&#125; .exactä¿®é¥°ç¬¦.exact ä¿®é¥°ç¬¦å…è®¸ä½ æ§åˆ¶ç”±ç²¾ç¡®çš„ç³»ç»Ÿä¿®é¥°ç¬¦ç»„åˆè§¦å‘çš„äº‹ä»¶ã€‚ 12345678&lt;!-- å³ä½¿ Alt æˆ– Shift è¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ --&gt;&lt;button v-on:click.ctrl=&quot;onClick&quot;&gt;A&lt;/button&gt;&lt;!-- æœ‰ä¸”åªæœ‰ Ctrl è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;&lt;button v-on:click.ctrl.exact=&quot;onCtrlClick&quot;&gt;A&lt;/button&gt;&lt;!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ --&gt;&lt;button v-on:click.exact=&quot;onClick&quot;&gt;A&lt;/button&gt; .syncä¿®é¥°ç¬¦.sync ä¿®é¥°ç¬¦å¸¸è¢«ç”¨äºå­ç»„ä»¶æ›´æ–°çˆ¶ç»„ä»¶æ•°æ®ã€‚ç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š 12&lt;!-- parent.vue --&gt;&lt;child :title.sync=&quot;title&quot;&gt;&lt;/child&gt; 12// child.vuethis.$emit(&#x27;update:title&#x27;, &#x27;hello&#x27;) å­ç»„ä»¶å¯ä»¥ç›´æ¥é€šè¿‡ update:title çš„å½¢å¼è¿›è¡Œæ›´æ–°çˆ¶ç»„ä»¶ä¸­å£°æ˜äº† .sync çš„ propã€‚ä¸Šé¢çˆ¶ç»„ä»¶ä¸­çš„å†™æ³•å…¶å®æ˜¯ä¸‹é¢è¿™ç§å†™æ³•çš„ç®€å†™ï¼š 1&lt;child :title=&quot;title&quot; @update:title=&quot;title = $event&quot;&gt;&lt;/child&gt; æ³¨æ„å¸¦æœ‰ .sync ä¿®é¥°ç¬¦çš„ v-bind ä¸èƒ½å’Œè¡¨è¾¾å¼ä¸€èµ·ä½¿ç”¨ å¦‚æœéœ€è¦è®¾ç½®å¤šä¸ª propï¼Œæ¯”å¦‚ï¼š 1&lt;child :name.sync=&quot;name&quot; :age.sync=&quot;age&quot; :sex.sync=&quot;sex&quot;&gt;&lt;/child&gt; å¯ä»¥é€šè¿‡ v-bind.sync ç®€å†™æˆè¿™æ ·ï¼š 1&lt;child v-bind.sync=&quot;person&quot;&gt;&lt;/child&gt; 12345person: &#123; name: &#x27;bubuzou&#x27;, age: 21, sex: &#x27;male&#x27;,&#125; Vue å†…éƒ¨ä¼šè‡ªè¡Œè¿›è¡Œè§£ææŠŠ person å¯¹è±¡é‡Œçš„æ¯ä¸ªå±æ€§éƒ½ä½œä¸ºç‹¬ç«‹çš„ prop ä¼ é€’è¿›å»ï¼Œå„è‡ªæ·»åŠ ç”¨äºæ›´æ–°çš„ v-on ç›‘å¬å™¨ã€‚è€Œä»å­ç»„ä»¶è¿›è¡Œæ›´æ–°çš„æ—¶å€™è¿˜æ˜¯ä¿æŒä¸å˜ï¼Œæ¯”å¦‚ï¼š 1this.$emit(&#x27;update:name&#x27;, &#x27;hello&#x27;) 6ç§æ–¹å¼ç¼–å†™å¯å¤ç”¨æ¨¡å—ä»Šå¤©éœ€æ±‚è¯„å®¡äº†ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å®ç°ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œè¿™ä¸ªè¯¦æƒ…é¡µæ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜éƒ½èƒ½è¿›å»ï¼Œä½†æ˜¯å±•ç¤ºçš„æ•°æ®æœ‰ç¨æœ‰ä¸åŒï¼Œä½†ç»å¤§éƒ¨åˆ†æ˜¯ä¸€æ ·çš„ï¼›æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯è¯¦æƒ…å¯¹äºæ™®é€šç”¨æˆ·æ˜¯çº¯å±•ç¤ºï¼Œè€Œå¯¹äºç®¡ç†å‘˜è¦æ±‚èƒ½å¤Ÿç¼–è¾‘ï¼Œç„¶åç®¡ç†å‘˜è¿˜æœ‰ä¸€äº›åˆ«çš„æŒ‰é’®æƒé™ç­‰ã€‚éœ€æ±‚çœ‹åˆ°è¿™é‡Œï¼Œå¦‚æœåœ¨æ’æœŸçš„æ—¶å€™æŠŠç”¨æˆ·çš„è¯¦æƒ…åˆ†ç»™å¼€å‘Aåšï¼Œè€ŒæŠŠç®¡ç†å‘˜çš„è¯¦æƒ…åˆ†ç»™Bå»åšï¼Œé‚£è¿™æ ·åšçš„ç»“æœå°±æ˜¯å¼€å‘Aå†™äº†ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œå¼€å‘Bå†™äº†ä¸€ä¸ªè¯¦æƒ…é¡µï¼Œè¿™åœ¨å¼€å‘é˜¶æ®µã€ææµ‹åçš„ä¿®æ”¹ bug é˜¶æ®µä»¥åŠåæœŸè¿­ä»£é˜¶æ®µï¼Œéƒ½éœ€è¦åŒæ—¶ç»´æŠ¤è¿™ 2 ä¸ªæ–‡ä»¶ï¼Œæµªè´¹äº†æ—¶é—´æµªè´¹äº†äººåŠ›ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä»ä¸­æ„è¯†åˆ°ç¼–å†™å¯å¤ç”¨æ¨¡å—çš„é‡è¦æ€§ã€‚ è€Œ Vue ä½œè€…å°¤å¤§ä¸ºäº†è®©å¼€å‘è€…æ›´å¥½çš„ç¼–å†™å¯å¤ç”¨æ¨¡å—ï¼Œæä¾›äº†å¾ˆå¤šçš„æ‰‹æ®µï¼Œæ¯”å¦‚ï¼šç»„ä»¶ã€è‡ªå®šä¹‰æŒ‡ä»¤ã€æ¸²æŸ“å‡½æ•°ã€æ’ä»¶ä»¥åŠè¿‡æ»¤å™¨ç­‰ã€‚ ç»„ä»¶ç»„ä»¶æ˜¯ Vue ä¸­æœ€ç²¾é«“çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¹³æ—¶ç¼–å†™å¯å¤ç”¨æ¨¡å—æœ€å¸¸ç”¨çš„æ‰‹æ®µï¼Œä½†æ˜¯ç”±äºè¿™å—å†…å®¹ç¯‡å¹…å¾ˆå¤šï¼Œæ‰€ä»¥ä¸åœ¨è¿™é‡Œå±•å¼€ï¼Œåç»­ä¼šå†™ç›¸å…³çš„å†…å®¹è¿›è¡Œè¯¦è¿°ã€‚ ä½¿ç”¨æ··å…¥mixinsä»€ä¹ˆæ˜¯æ··å…¥å‘¢ï¼Ÿ ä»ä»£ç ç»“æ„ä¸Šæ¥çœ‹ï¼Œæ··å…¥å…¶å®å°±æ˜¯åŠä¸ªç»„ä»¶ï¼Œä¸€ä¸ª Vue ç»„ä»¶å¯ä»¥åŒ…æ‹¬ templateã€script å’Œ style ä¸‰éƒ¨åˆ†ï¼Œè€Œæ··å…¥å…¶å®å°±æ˜¯ script é‡Œé¢çš„å†…å®¹ã€‚ä¸€ä¸ªæ··å…¥å¯¹è±¡åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ï¼Œæ¯”å¦‚ dataã€methodsã€computedã€watch ã€ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€ç”šè‡³æ˜¯ mixins è‡ªå·±ç­‰ï¼Œæ··å…¥è¢«è®¾è®¡å‡ºæ¥å°±æ˜¯æ—¨åœ¨æé«˜ä»£ç çš„çµæ´»æ€§ã€å¯å¤ç”¨æ€§ã€‚ ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨æ··å…¥å‘¢ï¼Ÿå½“å¯å¤ç”¨é€»è¾‘åªæ˜¯ JS ä»£ç å±‚é¢çš„ï¼Œè€Œæ—  template çš„æ—¶å€™å°±å¯ä»¥è€ƒè™‘ç”¨æ··å…¥äº†ã€‚æ¯”å¦‚éœ€è¦è®°å½•ç”¨æˆ·åœ¨é¡µé¢çš„åœç•™çš„æ—¶é—´ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™æ®µé€»è¾‘æŠ½å‡ºæ¥æ”¾åœ¨ mixins é‡Œï¼š 1234567891011121314// mixins.jsexport const statMixin = &#123; methods: &#123; enterPage() &#123;&#125;, leavePage() &#123;&#125;, &#125;, mounted() &#123; this.enterPage() &#125;, beforeDestroyed() &#123; this.leavePage() &#125;&#125; ç„¶ååœ¨éœ€è¦ç»Ÿè®¡é¡µé¢åœç•™æ—¶é—´çš„åœ°æ–¹åŠ ä¸Šï¼š 1234import &#123; statMixin &#125; from &#x27;../common/mixins&#x27;export default &#123; mixins: [statMixin]&#125; ä½¿ç”¨æ··å…¥çš„æ—¶å€™è¦æ³¨æ„å’Œç»„ä»¶é€‰é¡¹çš„åˆå¹¶è§„åˆ™ï¼Œå¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ä¸‰ç±»ï¼š data å°†è¿›è¡Œé€’å½’åˆå¹¶ï¼Œå¯¹äºé”®åå†²çªçš„ä»¥ç»„ä»¶æ•°æ®ä¸ºå‡†ï¼š 1234567891011121314151617181920 // mixinA çš„ data data() &#123; obj: &#123; name: &#x27;hello&#x27;, &#125;,&#125; // component A export default &#123; mixins: [mixinA], data()&#123; obj: &#123; name: &#x27;bubuzou&#x27;, age: 21 &#125;, &#125;, mounted() &#123; console.log( this.obj ) // &#123; name: &#x27;bubuzou&#x27;, &#x27;age&#x27;: 21 &#125; &#125; &#125; å¯¹äºç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°å°†ä¼šåˆå¹¶æˆä¸€ä¸ªæ•°ç»„ï¼Œæ··å…¥å¯¹è±¡çš„é’©å­å°†å…ˆè¢«æ‰§è¡Œï¼š 12345678910111213141516171819202122// mixin Aconst mixinA = &#123; created() &#123; console.log( &#x27;ç¬¬ä¸€ä¸ªæ‰§è¡Œ&#x27; ) &#125;&#125;// mixin Bconst mixinB = &#123; mixins: [mixinA] created() &#123; console.log( &#x27;ç¬¬äºŒä¸ªæ‰§è¡Œ&#x27; ) &#125;&#125;// component Aexport default &#123; mixins: [mixinB] created() &#123; console.log( &#x27;æœ€åä¸€ä¸ªæ‰§è¡Œ&#x27; ) &#125;&#125; å€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ methodsã€components å’Œ directivesï¼Œå°†è¢«åˆå¹¶ä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶ï¼Œå–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚ è‡ªå®šä¹‰æŒ‡ä»¤é™¤äº† Vue å†…ç½®çš„ä¸€äº›æŒ‡ä»¤æ¯”å¦‚ v-modelã€v-if ç­‰ï¼ŒVue è¿˜å…è®¸æˆ‘ä»¬è‡ªå®šä¹‰æŒ‡ä»¤ã€‚åœ¨ Vue2.0 ä¸­ï¼Œä»£ç å¤ç”¨å’ŒæŠ½è±¡çš„ä¸»è¦å½¢å¼æ˜¯ç»„ä»¶ã€‚ç„¶è€Œï¼Œæœ‰çš„æƒ…å†µä¸‹ï¼Œä½ ä»ç„¶éœ€è¦å¯¹æ™®é€š DOM å…ƒç´ è¿›è¡Œåº•å±‚æ“ä½œï¼Œè¿™æ—¶å€™å°±ä¼šç”¨åˆ°è‡ªå®šä¹‰æŒ‡ä»¤ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ä¸€ä¸ªæŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®çš„æƒé™ã€‚æˆ‘ä»¬æœŸæœ›è®¾è®¡ä¸€ä¸ªå¦‚ä¸‹å½¢å¼çš„æŒ‡ä»¤æ¥æ§åˆ¶æŒ‰é’®æƒé™ï¼š 1&lt;button v-auth=&quot;[&#x27;user&#x27;]&quot;&gt;æäº¤&lt;/button&gt; é€šè¿‡åœ¨æŒ‰é’®çš„æŒ‡ä»¤é‡Œä¼ å…¥ä¸€ç»„æƒé™ï¼Œå¦‚æœè¯¥æŒ‰é’®åªæœ‰ admin æƒé™æ‰å¯ä»¥æäº¤ï¼Œè€Œæˆ‘ä»¬ä¼ å…¥ä¸€ä¸ªåˆ«çš„æƒé™ï¼Œæ¯”å¦‚ userï¼Œé‚£è¿™ä¸ªæŒ‰é’®å°±ä¸åº”è¯¥æ˜¾ç¤ºäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å»æ³¨å†Œä¸€ä¸ªå…¨å±€çš„æŒ‡ä»¤ï¼š 123456789101112131415161718// auth.jsconst AUTH_LIST = [&#x27;admin&#x27;]function checkAuth(auths) &#123; return AUTH_LIST.some(item =&gt; auths.includes(item))&#125;function install(Vue, options = &#123;&#125;) &#123; Vue.directive(&#x27;auth&#x27;, &#123; inserted(el, binding) &#123; if (!checkAuth(binding.value)) &#123; el.parentNode &amp;&amp; el.parentNode.removeChild(el) &#125; &#125; &#125;)&#125;export default &#123; install &#125; ç„¶åæˆ‘ä»¬éœ€è¦åœ¨ main.js é‡Œé€šè¿‡å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥å¯ç”¨è¿™ä¸ªæŒ‡ä»¤ï¼š 12import Auth from &#x27;./utils/auth&#x27;Vue.use(Auth) ä½¿ç”¨æ¸²æŸ“å‡½æ•°è¿™é‡Œå°†ä½¿ç”¨æ¸²æŸ“å‡½æ•°å®ç°ä¸Šé¢ä»‹ç»è¿‡çš„çš„æƒé™æŒ‰é’®ã€‚ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼ŒæŠŠéœ€è¦æ§åˆ¶æƒé™çš„æŒ‰é’®åŒ…åœ¨æƒé™ç»„ä»¶ authority é‡Œé¢ï¼Œå¦‚æœæœ‰è¯¥æƒé™å°±æ˜¾ç¤ºï¼Œæ²¡æœ‰å°±ä¸æ˜¾ç¤ºã€‚ 123&lt;authority :auth=&quot;[&#x27;admin&#x27;]&quot;&gt; &lt;button&gt;æäº¤&lt;/button&gt;&lt;/authority&gt; ç„¶åæˆ‘ä»¬ç”¨æ¸²æŸ“å‡½æ•°å»å®ç°ä¸€ä¸ª authority ç»„ä»¶ï¼š 1234567891011121314151617181920&lt;script&gt;const AUTH_LIST = [&#x27;admin&#x27;, &#x27;user&#x27;, &#x27;org&#x27;]function checkAuth(auths) &#123; return AUTH_LIST.some(item =&gt; auths.includes(item))&#125;export default &#123; functional: true, props: &#123; auth: &#123; type: Array, required: true &#125; &#125;, render(h, context) &#123; const &#123; props, scopedSlots&#125; = context return checkAuth(props.auth) ? scopedSlots.default() : null &#125;&#125;&lt;/script&gt; å…¨å±€æ³¨å†Œè¿™ä¸ªç»„ä»¶ï¼š 123// main.jsimport Authority from &#x27;./components/authority&#x27;Vue.component(&#x27;authority&#x27;, Authority) ä½¿ç”¨è¿‡æ»¤å™¨Vue æä¾›äº†è‡ªå®šä¹‰è¿‡æ»¤å™¨çš„åŠŸèƒ½ï¼Œä¸»è¦åº”ç”¨åœºæ™¯æ˜¯æƒ³è¦å°†æ•°æ®ä»¥æŸç§æ ¼å¼å±•ç¤ºå‡ºæ¥ï¼Œè€ŒåŸå§‹æ•°æ®åˆä¸ç¬¦åˆè¿™ç§æ ¼å¼çš„æ—¶å€™ã€‚æ¯”å¦‚æœ‰ä¸€ç»„å…³äºäººçš„æ•°æ®ï¼Œå¦‚ä¸‹ï¼š 12345678910[&#123; name: &#x27;å¼ èŒ‚&#x27;, population: &#x27;young&#x27;,&#125;, &#123; name: &#x27;ç‹ä¸½&#x27;, population: &#x27;middle&#x27;,&#125;, &#123; name: &#x27;éƒé¹ç¨‹&#x27;, population: &#x27;child&#x27;,&#125;] å…¶ä¸­æœ‰ä¸€é¡¹æ˜¯å…³äºæŒ‰ç…§å¹´é¾„åˆ’åˆ†çš„ç¾¤ä½“ç±»å‹ populationï¼Œè€Œå®ƒæ˜¯ç”¨ code è¿›è¡Œæ ‡è¯†çš„ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨å±•ç¤ºçš„æ—¶å€™èƒ½å¤Ÿæ˜¾ç¤ºæˆå¯¹åº”çš„ä¸­æ–‡æ„æ€ï¼Œæ¯”å¦‚ young æ˜¾ç¤ºæˆé’å¹´ã€‚é‚£æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰ä¸€ä¸ªå¦‚ä¸‹çš„å±€éƒ¨è¿‡æ»¤å™¨ï¼š 123456789export default &#123; filters: &#123; popuFilters(value) &#123; if (!value) &#123; return &#x27;æœªçŸ¥&#x27; &#125; let index = [&#x27;child&#x27;, &#x27;lad&#x27;, &#x27;young&#x27;, &#x27;middle&#x27;, &#x27;wrinkly&#x27;].indexOf(value) return index &gt; 0 &amp;&amp; [&#x27;å„¿ç«¥&#x27;, &#x27;å°‘å¹´&#x27;, &#x27;é’å¹´&#x27;, &#x27;ä¸­å¹´&#x27;, &#x27;è€å¹´&#x27;][index] || &#x27;æœªçŸ¥&#x27; &#125; &#125;&#125; ä½¿ç”¨è¿‡æ»¤å™¨çš„æ—¶å€™åªè¦åœ¨ template ä¸­è¿™æ ·ä½¿ç”¨å³å¯ï¼š 1&lt;p&gt;&#123;&#123; item.population | popuFilters &#125;&#125;&lt;/p&gt; è‡ªå®šä¹‰æ’ä»¶åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°è£…çš„å†…å®¹å¯èƒ½ä¸éœ€è¦ä½¿ç”¨è€…å¯¹å…¶å†…éƒ¨ä»£ç ç»“æ„è¿›è¡Œäº†è§£ï¼Œå…¶åªéœ€è¦ç†Ÿæ‚‰æˆ‘ä»¬æä¾›å‡ºæ¥çš„ç›¸åº”æ–¹æ³•å’Œ api å³å¯ï¼Œè¿™éœ€è¦æˆ‘ä»¬æ›´ç³»ç»Ÿæ€§çš„å°†å…¬ç”¨éƒ¨åˆ†é€»è¾‘å°è£…æˆæ’ä»¶ï¼Œæ¥ä¸ºé¡¹ç›®æ·»åŠ å…¨å±€åŠŸèƒ½ï¼Œæ¯”å¦‚å¸¸è§çš„ loading åŠŸèƒ½ã€å¼¹æ¡†åŠŸèƒ½ç­‰ã€‚ å¼€å‘ Vue çš„æ’ä»¶åº”è¯¥æš´éœ²ä¸€ä¸ª install æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ Vue æ„é€ å™¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„é€‰é¡¹å¯¹è±¡ã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹4ç§æ–¹å¼æ¥è‡ªå®šä¹‰æ’ä»¶ï¼š 123456789101112131415161718192021222324252627MyPlugin.install = function (Vue, options) &#123; // 1. æ·»åŠ å…¨å±€æ–¹æ³•æˆ– property Vue.myGlobalMethod = function () &#123; // é€»è¾‘... &#125; // 2. æ·»åŠ å…¨å±€èµ„æº Vue.directive(&#x27;my-directive&#x27;, &#123; bind (el, binding, vnode, oldVnode) &#123; // é€»è¾‘... &#125; ... &#125;) // 3. æ³¨å…¥ç»„ä»¶é€‰é¡¹ Vue.mixin(&#123; created: function () &#123; // é€»è¾‘... &#125; ... &#125;) // 4. æ·»åŠ å®ä¾‹æ–¹æ³• Vue.prototype.$myMethod = function (methodOptions) &#123; // é€»è¾‘... &#125;&#125; ç„¶åéœ€è¦åœ¨å…¥å£æ–‡ä»¶ï¼Œæ¯”å¦‚ main.js ä¸­æ³¨å†Œæ’ä»¶ï¼š 12import MyPlugin from &#x27;./plugins/plugins.js&#x27;Vue.use(MyPlugin) 3ç§æ–¹å¼æ‰‹å†™ä¼˜é›…ä»£ç å¹³æ—¶å†™é¡¹ç›®çš„æ—¶å€™æˆ‘ä»¬éƒ½æ˜¯åœ¨ç¬¬ä¸€æ—¶é—´å®Œæˆéœ€æ±‚åŠŸèƒ½çš„å¼€å‘ã€ææµ‹ä¿®æ”¹ bug ç­‰ï¼Œç„¶åå¼€å¼€å¿ƒå¿ƒçš„ç­‰å¾…ç€å‘å¸ƒç”Ÿäº§ä»¥ä¸ºæ²¡å•¥äº‹æƒ…äº†ã€‚å…¶å®å›è¿‡å¤´æ¥ç»†ç»†çš„çœ‹æˆ‘ä»¬å¹³æ—¶å†™çš„ä»£ç ï¼Œå¯èƒ½ä¼šå‘ç°å¾ˆå¤šåœ°æ–¹éƒ½æ˜¯å€¼å¾—ä¼˜åŒ–çš„ï¼Œæ¯”å¦‚å¯¹äºå¾ˆå¤šé‡å¤æ€§å¾ˆå¼ºçš„ä»£ç ï¼Œæ¯”å¦‚å¯¹äºæŸäº›å†™å¾—å¾ˆç¹æ‚çš„åœ°æ–¹ã€‚ä¼˜é›…çš„ä»£ç å¯ä»¥åŒ–æœºæ¢°ä¸ºè‡ªåŠ¨ã€åŒ–ç¹ä¸ºç®€ï¼Œçœ‹äººå¼€äº†å¦‚æ²æ˜¥é£ï¼Œå¿ƒæƒ…å¤§å¥½ã€‚è¿™é‡Œåˆ—äº†å‡ ä¸ªåœ¨ Vue ä¸­ä¸€å®šä¼šé‡åˆ°çš„é—®é¢˜ï¼Œç„¶åé€šè¿‡ä¼˜é›…çš„æ–¹å¼è¿›è¡Œè§£å†³ã€‚ è‡ªåŠ¨åŒ–å¯¼å…¥æ¨¡å—åœ¨å¼€å‘ä¸€ä¸ªç¨å¾®å¤§ç‚¹çš„é¡¹ç›®çš„æ—¶å€™ï¼Œä¼šä¹ æƒ¯å°†è·¯ç”±æŒ‰ç…§æ¨¡å—æ¥åˆ’åˆ†ï¼Œç„¶åå°±å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹è¿™ç§ä»£ç ï¼š 12345678910111213141516171819// router.jsimport Vue from &#x27;vue&#x27;import Router from &#x27;vue-router&#x27;// å¯¼å…¥äº†ä¸€å¤§å †è·¯ç”±æ–‡ä»¶import mediator from &#x27;./mediator&#x27;import judges from &#x27;./judges&#x27;import disputeMediation from &#x27;./disputeMediation&#x27;import onlineMediation from &#x27;./onlineMediation&#x27;import useraction from &#x27;./useraction&#x27;import organcenter from &#x27;./organcenter&#x27;import admin from &#x27;./admin&#x27;let routeList = []routeList.push(mediator, judges, disputeMediation, onlineMediation, useraction, organcenter, admin)export default new Router(&#123; mode: &#x27;history&#x27;, routes: routeList,&#125;) å…¶å®çœŸå®çš„è¿œè¿œä¸æ­¢è¿™ä¹ˆç‚¹ï¼Œå°±æˆ‘æœ¬åœ°é¡¹ç›®è€Œè¨€å°±æœ‰20å‡ ä¸ªè·¯ç”±æ–‡ä»¶ï¼Œå†™äº†ä¸€å¤§å †çš„å¯¼å…¥ä»£ç ï¼Œæ˜¾å¾—å¾ˆè‡ƒè‚¿ï¼Œæ›´æ— å¥ˆçš„æ˜¯æ¯å½“éœ€è¦æ–°å¢ä¸€ä¸ªè·¯ç”±æ¨¡å—ï¼Œè¿˜å¾—å†æ¬¡ import å†æ¬¡ pushï¼Œé‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆè‡ªç„¶æ˜¯æœ‰çš„ã€‚ åˆ©ç”¨ webpack çš„ require.context å°±å¯ä»¥å¾ˆä¼˜é›…çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨è¯­æ³•å¦‚ä¸‹ï¼š 123456require.context( directory, // æœç´¢çš„ç›®å½• useSubdirectories = true, // æ˜¯å¦æœç´¢å­ç›®å½• regExp = /^\\.\\/.*$/, // åŒ¹é…çš„ç›®æ ‡æ–‡ä»¶æ ¼å¼ mode = &#x27;sync&#x27; // åŒæ­¥è¿˜æ˜¯å¼‚æ­¥) æœ‰äº†è¿™ä¸ªè¯­æ³•ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå®¹æ˜“çš„å†™å‡ºä¸‹é¢çš„ä»£ç ï¼š 123456789101112131415161718import Vue from &#x27;vue&#x27;import Router from &#x27;vue-router&#x27;let routeList = []let importAll = require.context(&#x27;@/publicResource/router&#x27;, false, /\\.js$/)importAll.keys().map(path =&gt; &#123; // å› ä¸º index.js ä¹Ÿåœ¨ @/publicResource/router ç›®å½•ä¸‹ï¼Œæ‰€ä»¥éœ€è¦æ’é™¤ if (!path.includes(&#x27;index.js&#x27;)) &#123; //å…¼å®¹å¤„ç†ï¼š.default è·å– ES6 è§„èŒƒæš´éœ²çš„å†…å®¹; åè€…è·å– commonJS è§„èŒƒæš´éœ²çš„å†…å®¹ let router = importAll(path).default || importAll(path) routeList(router) &#125;&#125;) export default new Router(&#123; mode: &#x27;history&#x27;, routes: routeList,&#125;) å…¶å®ä¸ä»…ä»…åªæ˜¯ç”¨åœ¨å¯¼å…¥è·¯ç”±æ¨¡å—è¿™é‡Œï¼Œå¯¹äºé¡¹ç›®é‡Œä»»ä½•éœ€è¦å¯¼å…¥å¤§é‡æœ¬åœ°æ¨¡å—çš„åœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹å¼æ¥è§£å†³ã€‚ æ¨¡å—åŒ–æ³¨å†Œæ’ä»¶ç›¸ä¿¡å†™ Vue çš„åŒå­¦ä»¬éƒ½çŸ¥é“ element-ui è¿™ä¸ªç»„ä»¶åº“ï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶åº“çš„æ—¶å€™å¤§éƒ¨åˆ†éƒ½æ˜¯åªä½¿ç”¨æŸäº›ä¸ªåˆ«çš„ç»„ä»¶ï¼Œæ‰€ä»¥åŸºæœ¬ä¸Šéƒ½æ˜¯æŒ‰éœ€å¼•å…¥éœ€è¦çš„ç»„ä»¶ï¼Œç„¶åå°±æœ‰å¦‚ä¸‹ä¸€å † Vue.use() çš„ä»£ç ï¼š 123456789101112131415161718// main.jsimport Vue from &#x27;vue&#x27;import &#123; Input, Radio, RadioGroup, Checkbox, CheckboxGroup, Select // è¿˜æœ‰å¾ˆå¤šç»„ä»¶&#125; from &#x27;element-ui&#x27;Vue.use(Input)Vue.use(Radio)Vue.use(RadioGroup)Vue.use(Checkbox)Vue.use(CheckboxGroup)Vue.use(Select) è¿™æ ·å†™æ˜¯æ²¡ä»»ä½•é—®é¢˜çš„ï¼Œå°±æ˜¯çœ‹ç€ä¸å¤Ÿç®€æ´èˆ’æœï¼Œé‚£æ›´ä¼˜é›…çš„åšæ³•æ˜¯æŠŠè¿™å—é€»è¾‘æŠ½åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åé€šè¿‡æ³¨å†Œæ’ä»¶çš„æ–¹å¼æ¥ä½¿ç”¨ä»–ä»¬ï¼š 1234567891011121314151617181920212223// elementComponent.jsimport &#123; Input, Radio, RadioGroup, Checkbox, CheckboxGroup, Select // è¿˜æœ‰å¾ˆå¤šç»„ä»¶&#125; from &#x27;element-ui&#x27;const components = &#123; Input, Radio, RadioGroup, Checkbox, CheckboxGroup, Select&#125;function install(Vue)&#123; Object.keys(components).forEach(key =&gt; Vue.use(components[key]))&#125;export default &#123; install &#125; ç„¶ååœ¨ main.js é‡Œä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼š 1234// main.jsimport Vue from &#x27;vue&#x27;import elementComponent from &#x27;./config/elementComponent&#x27;Vue.use(elementComponent) ä¼˜é›…å¯¼å‡ºè¯·æ±‚æ¥å£ä¸çŸ¥é“å¤§ä¼™æ˜¯å¦‚ä½•å®šä¹‰è¯·æ±‚æ¥å£çš„ï¼Œå°±æˆ‘ç›®å‰è¿™ä¸ªé¡¹ç›®è€Œè¨€ï¼Œæ˜¯è¿™ä¹ˆåšçš„ï¼š 1234567891011121314151617// api.jsimport http from &#x27;./config/httpServer.js&#x27; /* ç™»å…¥é¡µé¢è·å–å…¬é’¥ */export const getPublicKey = (data) =&gt; &#123; return http(&#123; url: &#x27;/userGateway/user/getPublicKey&#x27; &#125;, data)&#125;// ç”¨æˆ·ç™»å½•export const login = data =&gt; &#123; return http(&#123; url: &#x27;/userGateway/userSentry/login&#x27; &#125;, data)&#125;// éªŒè¯ç ç™»å½•export const loginByCode = data =&gt; &#123; return http(&#123; url: &#x27;/userGateway/userSentry/loginByCode&#x27; &#125;, data)&#125; åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ¥å£ï¼š 123456789101112&lt;script&gt;import &#123; getPublicKey &#125; from &#x27;./config/api.js&#x27;export default &#123; mounted() &#123; getPublicKey().then(res =&gt; &#123; // xxx &#125;).catch(err =&gt; &#123; // xxx &#125;) &#125;&#125;&lt;/script&gt; è¿™ä¸€åˆ‡éƒ½å¾ˆæ­£å¸¸ï¼Œä½†ï¼Œæˆ‘ä»¬è¿™ä¸ªé¡¹ç›®æ€»å…±æœ‰200å¤šä¸ªæ¥å£ï¼ŒæŒ‰ç…§ä¸Šé¢è¿™ç§å®šä¹‰æ–¹å¼çš„è¯ï¼Œä¸€ä¸ªæ¥å£å®šä¹‰åŠ ä¸Šç©ºè¡Œéœ€è¦å ç”¨ 5 è¡Œï¼Œæ‰€ä»¥å¦‚æœæŠŠå…¨éƒ¨æ¥å£éƒ½å®šä¹‰åˆ°è¿™ä¸ª api.js é‡Œéœ€è¦å ç”¨ 1000 è¡Œå·¦å³ï¼Œçœ‹äº†å®åœ¨è®©äººå¿ƒå¾ˆæ…Œå‘€ã€‚æ‰€ä»¥è§‰å¾—åº”è¯¥è¿™ä¸ªåœ°æ–¹åº”è¯¥å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹ã€‚ 1/userGateway/user/getPublicKey ä¸Šé¢è¿™æ˜¯ä¸€ä¸ªåç«¯ç»™æ¥å£è·¯å¾„ï¼Œæ–œæ†æŠŠè¿™ä¸ªè·¯å¾„åˆ’åˆ†æˆ 3 ä¸ªå­ä¸²ï¼Œè€Œæœ€åä¸€ä¸ªå­ä¸²å¿…å®šæ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»ä¸­åšæ–‡ç« ã€‚äºæ˜¯ä¹å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š 12345678910111213141516// api.jsconst apiList = [ &#x27;/userGateway/user/getPublicKey&#x27;, // ç™»å…¥é¡µé¢è·å–å…¬é’¥ &#x27;/userGateway/userSentry/login&#x27;, // ç”¨æˆ·ç™»å½• &#x27;/userGateway/userSentry/loginByCode&#x27;, // éªŒè¯ç ç™»å½•]let apiName, API = &#123;&#125;apiList.forEach(path =&gt; &#123; // ä½¿ç”¨æ­£åˆ™å–åˆ°æ¥å£è·¯å¾„çš„æœ€åä¸€ä¸ªå­ä¸²ï¼Œæ¯”å¦‚: getPublicKey apiName = /(?&lt;=\\/)[^/]+$/.exec(path)[0] API[apiName] = (data) =&gt; &#123; return http(&#123;url: path&#125;, data) &#125;&#125;)export &#123; API &#125; è¿™æ ·å¤§æ¦‚å°±æŠŠå®šä¹‰ä¸€ä¸ªæ¥å£éœ€è¦å ç”¨ 5 è¡Œç¼©å°åˆ°åªéœ€è¦ 1 è¡Œäº†ï¼Œå¤§å¤§å‡å°äº†æ–‡ä»¶å†…å®¹ã€‚åœ¨æµè§ˆè¿™ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘çš„é¼ æ ‡æ»šè½®ä¹Ÿä¸ä¼šä¸€ç›´åœ¨æ»šæ»šæ»šäº†ã€‚ å¦‚æœæ˜¯è¿™æ ·å®šä¹‰æ¥å£çš„è¯ï¼Œé‚£åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜éœ€è¦åšç‚¹å˜åŒ–çš„ï¼š 123456789101112&lt;script&gt;import &#123; API &#125; from &#x27;./config/api.js&#x27;export default &#123; mounted() &#123; API.getPublicKey().then(res =&gt; &#123; // xxx &#125;).catch(err =&gt; &#123; // xxx &#125;) &#125;&#125;&lt;/script&gt; 4ç§$eventä¼ å‚æ–¹å¼åœ¨è¿›è¡Œå®é™…é¡¹ç›®å¼€å‘çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡äº‹ä»¶ä¼ é€’å‚æ•°ï¼Œè¿™é‡Œæ€»ç»“äº†4ç§åº”ç”¨åœºæ™¯ã€‚ ç”¨äºç»„ä»¶é€šä¿¡æ¯”å¦‚å­ç»„ä»¶é€šè¿‡ $emit æ¥è°ƒç”¨çˆ¶ç»„ä»¶æ–¹æ³•çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨çˆ¶ç»„ä»¶ä¸­ç”¨ $event æ¥æ”¶åˆ°ä»å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼š 12&lt;!-- å­ç»„ä»¶ --&gt;&lt;button @click=&quot;$emit(&#x27;changeText&#x27;, &#x27;18px&#x27;)&quot;&gt;ç‚¹å‡»åŠ å¤§å­—å·&lt;/button&gt; 12&lt;!-- çˆ¶ç»„ä»¶ --&gt;&lt;blog-post @changeText=&quot;changeText(&#x27;article&#x27;, $event)&quot;&gt;&lt;/blog-post&gt; 123changeText(type, value) &#123; console.log(type, value) // &#x27;article&#x27; &#x27;18px&#x27;&#125; å¦‚æœå­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°æœ‰å¤šä¸ªï¼Œè¿™ä¸ªæ—¶å€™ç”¨ $event å°±ä¸å¤ªè¡Œäº†ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ arguments ä»£æ›¿ï¼š 12&lt;!-- å­ç»„ä»¶ --&gt;&lt;button @click=&quot;$emit(&#x27;changeText&#x27;, &#x27;red&#x27;, &#x27;18px&#x27;)&quot;&gt;ç‚¹å‡»æ”¹å˜æ ·å¼&lt;/button&gt; 12&lt;!-- çˆ¶ç»„ä»¶ --&gt;&lt;blog-post @changeText=&quot;changeText(...arguments, &#x27;article&#x27;)&quot;&gt;&lt;/blog-post&gt; 123changeText(...value) &#123; console.log( value ) // [&#x27;red&#x27;, &#x27;18px&#x27;, &#x27;article&#x27;]&#125; ä¼ é€’åŸç”ŸDOMäº‹ä»¶å¯¹è±¡æ¯”å¦‚æˆ‘ä»¬éœ€è¦è·å–åˆ°å½“å‰çš„ç‚¹å‡»å…ƒç´ ï¼Œå°±å¯ä»¥é€šè¿‡ç»™ç‚¹å‡»äº‹ä»¶ä¼ é€’ $event å‚æ•°ï¼š 1&lt;button @click=&quot;submit(&#x27;first&#x27;, $event)&quot;&gt;æäº¤&lt;/button&gt; 123submit(type, event) &#123; const target = event.target.tagName&#125; ç”¨äºç¬¬ä¸‰æ–¹ç±»åº“äº‹ä»¶å›è°ƒæ¯”å¦‚æœ‰ä¸€ä¸ªç»„ä»¶é‡Œä½¿ç”¨äº†å¥½å‡ ä¸ª element-ui çš„åˆ†é¡µç»„ä»¶ï¼Œæ¯ä¸ªåˆ†é¡µéƒ½æœ‰ä¸€ä¸ª current-change äº‹ä»¶ï¼Œç”¨æ¥å¤„ç†å½“åˆ†é¡µæ”¹å˜ä¹‹åçš„äº‹æƒ…ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬å°±éœ€è¦å†™å¤šä¸ªå›è°ƒå‡½æ•°ï¼Œä½†æ˜¯å¦‚æœç”¨ä»¥ä¸‹æ–¹å¼ï¼Œæˆ‘ä»¬å°±ä¹Ÿå¯ä»¥åªå†™ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡ type æ¥åˆ¤æ–­æ˜¯å“ªä¸ªåˆ†é¡µçš„å›è°ƒï¼Œè€Œ $event åˆ™ç”¨æ¥ä¼ é€’ current-change å›è°ƒé»˜è®¤çš„å‚æ•°ï¼š 1234567891011121314&lt;!-- é¡µé¢åˆ—è¡¨çš„åˆ†é¡µ --&gt;&lt;el-pagination @current-change=&quot;changePage(&#x27;main&#x27;, $event)&quot;&gt;&lt;/el-pagination&gt;&lt;!-- å¼¹çª—Aåˆ—è¡¨çš„åˆ†é¡µ --&gt;&lt;el-pagination @current-change=&quot;changePage(&#x27;modalA&#x27;, $event)&quot;&gt;&lt;/el-pagination&gt;&lt;!-- å¼¹çª—Båˆ—è¡¨çš„åˆ†é¡µ --&gt;&lt;el-pagination @current-change=&quot;changePage(&#x27;modalB&#x27;, $event)&quot;&gt;&lt;/el-pagination&gt; 1234changePage(type, page) &#123; const types = [&#x27;main&#x27;, &#x27;modalA&#x27;, &#x27;modalB&#x27;] types[type] &amp;&amp; (this[types[type]].pageIndex = page) &amp;&amp; this.getList(type)&#125; ä½¿ç”¨ç®­å¤´å‡½æ•°å¤„ç†å¯¹äºç¬¬ä¸‰ç§åœºæ™¯ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ç±»åº“ç»„ä»¶çš„æ—¶å€™ï¼Œéœ€è¦ç»™äº‹ä»¶å›è°ƒå¢åŠ é¢å¤–çš„å‚æ•°ï¼Œå¦‚æœé»˜è®¤çš„å›è°ƒå‚æ•°åªæœ‰1ä¸ªé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„é‚£ç§æ–¹å¼ï¼Œä½†æ˜¯å¦‚æœå›è°ƒå‚æ•°æœ‰å¤šä¸ªçš„è¯ï¼Œç”¨ $event å°±ä¸å¥½å¤„ç†äº†ï¼Œå¯ä»¥ä½¿ç”¨ç®­å¤´å‡½æ•°ã€‚æ¯”å¦‚æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™ï¼Œæœ‰ä¸ª on-change å±æ€§ï¼Œå½“æ–‡ä»¶å˜åŒ–çš„æ—¶å€™å°±ä¼šè§¦å‘å›è°ƒï¼Œæ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬è¿™æ ·å†™æ˜¯æ²¡é—®é¢˜çš„ï¼š 123&lt;el-upload :on-change=&quot;changeFile&quot;&gt; &lt;el-button&gt;ä¸Šä¼ &lt;/el-button&gt;&lt;/el-upload&gt; 1changeFile(file, fileList) &#123;&#125; ä½†æ˜¯å¦‚æœä¸€ä¸ªç»„ä»¶é‡Œæœ‰å¤šä¸ªæ–‡ä»¶ä¸Šä¼ ï¼Œè€Œæˆ‘ä»¬åˆä¸æƒ³å†™å¤šä¸ª changeFileï¼Œé‚£å°±éœ€è¦ä¼ é€’é¢å¤–çš„å‚æ•° type äº† ï¼š 123&lt;el-upload :on-change=&quot;(file, fileList) =&gt; changeFile(&#x27;org&#x27;, file, fileList)&quot;&gt; &lt;el-button&gt;ä¸Šä¼ &lt;/el-button&gt;&lt;/el-upload&gt; 1changeFile(type, file, fileList) &#123;&#125; 3ç§æ·±å…¥watchçš„ç”¨æ³•ç«‹å³æ‰§è¡Œwatch æ˜¯ Vue ä¸­çš„ä¾¦å¬å™¨ï¼Œå¯ä»¥ä¾¦å¬ä¸€ä¸ª Vue å®ä¾‹ä¸Šçš„æ•°æ®ï¼Œå½“æ•°æ®å˜åŠ¨çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘è¯¥ä¾¦å¬å™¨ã€‚æ‰€ä»¥ä»–çš„åº”ç”¨åœºæ™¯å°±æ˜¯ï¼šå½“æŸä¸ªæ•°æ®å˜åŠ¨åéœ€è¦åšä»€ä¹ˆçš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨ watch å•¦ã€‚å¯¹äº watchï¼Œå¹³å¸¸æˆ‘ä»¬å†™å¾—æœ€å¤šçš„ä¼°è®¡æ˜¯å¦‚ä¸‹è¿™ç§å†™æ³•ï¼š 12345watch: &#123; list: function(val) &#123; this.getMsg() &#125;&#125; å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™å°±æ‰§è¡Œä¸€æ¬¡ getMsg æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥åœ¨ mounted é‡Œè°ƒç”¨ï¼š 123mounted() &#123; this.getMsg()&#125; å…¶å®ï¼Œè¿˜æœ‰ä¸€ç§æ›´åŠ ç®€ä¾¿çš„å†™æ³•ï¼Œé€šè¿‡ç»™ watch è®¾ç½® immediate: true ï¼Œå³å¯ï¼š 12345678watch: &#123; list: &#123; handler(val) &#123; // æ³¨æ„åˆ«å†™é”™æˆ handle this.getMsg() &#125;, immediate: true &#125;&#125; æ·±åº¦ç›‘å¬ä¾¦å¬å™¨å¯¹äºå±æ€§å˜æ›´åä¼šè‡ªåŠ¨è°ƒç”¨ä¸€æ¬¡ï¼Œä½†æ˜¯ä»…é™äºè¯¥å±æ€§æœ¬èº«ï¼Œå¦‚æœå˜æ›´çš„æ˜¯å±æ€§çš„å±æ€§ï¼Œåˆ™ä¸ä¼šè§¦å‘ä¾¦å¬å›è°ƒï¼Œå¦‚æœæƒ³è¦å®ç°è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç»™ watch åŠ ä¸Š â€˜deep: trueâ€™ å³å¯ï¼š 123456789watch: &#123; obj: &#123; handler(val) &#123; // do something &#125;, deep: true &#125;&#125;,mounted() &#123; this.obj.name = &#x27;bubuzou&#x27; // å°†è§¦å‘ handler&#125; å¤šä¸ªhandlerså®é™…ä¸Šï¼Œwatch å¯ä»¥è®¾ç½®ä¸ºæ•°ç»„ï¼Œæ”¯æŒç±»å‹ä¸º Stringã€Object å’Œ Functionã€‚è§¦å‘åï¼Œå¤šä¸ªå¤„ç†å‡½æ•°éƒ½å°†è¢«è°ƒç”¨ã€‚ 1234567891011121314151617watch: &#123; obj: [ &#x27;print&#x27;, &#123; handler: &#x27;print&#x27;, deep: true &#125;, function(val, oldValue) &#123; console.log(val) &#125; ]&#125;,methods: &#123; print() &#123; console.log(this.obj) &#125;&#125; 5ä¸ªå…¶ä»–å¼€å‘å°æŠ€å·§æŒæ¡ Vue çš„å¼€å‘å°æŠ€å·§ï¼Œåœ¨ä¸€äº›ç‰¹å®šçš„åœºæ™¯ä¸‹çœŸçš„å¾ˆç®¡ç”¨ï¼Œè¿™é‡Œåˆ—äº†ä¸€äº›å¸¸ç”¨çš„å°æŠ€å·§ã€‚ å‡½æ•°å¼ç»„ä»¶å®ç°é›¶æ—¶å˜é‡æˆ‘ä»¬åœ¨ä½¿ç”¨æ’æ§½çš„æ—¶å€™ï¼ŒçŸ¥é“æœ‰ä¸€ä¸ªå«åšæ’æ§½ prop çš„çŸ¥è¯†ï¼Œä»Šå¤©æˆ‘ä»¬ç”¨ä»–å’Œå‡½æ•°å¼ç»„ä»¶ç»“åˆåœ¨ä¸€å—ï¼Œå®ç°ä¸€ä¸ªé›¶æ—¶å˜é‡çš„ç»„ä»¶ï¼š 12345678910// tempvar.vue&lt;script&gt;export default &#123; functional: true, render(h, context) &#123; const &#123; props, scopedSlots&#125; = context return scopedSlots.default &amp;&amp; scopedSlots.default(props || &#123;&#125;) &#125;&#125;&lt;/script&gt; å®šä¹‰å¥½äº†å‡½æ•°å¼ç»„ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨éœ€è¦çš„åœ°æ–¹å¼•å…¥ä¸”ä½¿ç”¨ä»–ï¼š 1234567891011121314151617181920212223242526&lt;template&gt;&lt;tempvar :var1=&quot;`hello $&#123;user.name&#125;`&quot; :var2=&quot;user.age ? user.age : &#x27;18&#x27;&quot;&gt; &lt;template v-slot=&quot;&#123;var1, var2&#125;&quot;&gt; å§“åï¼š &#123;&#123; var1 &#125;&#125; å¹´é¾„ï¼š&#123;&#123; var2 &#125;&#125; &lt;/template&gt;&lt;/tempvar&gt;&lt;/template&gt;&lt;script&gt; import tempvar from &#x27;@/components/tempvar.vue&#x27; export default &#123; data() &#123; return &#123; user: &#123; name: &#x27;bubuzou&#x27;, age: 12, &#125;, &#125; &#125; components: &#123; tempvar &#125; &#125;&lt;/script&gt; å¯èƒ½ç»†å¿ƒçš„å°ä¼™ä¼´å‘ç°äº†ï¼Œè¦æŠŠåå­—å‰åŠ ä¸ª helloã€é»˜è®¤å¹´é¾„è®¾ç½®ä¸º 18 ç”¨è®¡ç®—å±æ€§å°±å¯ä»¥äº†å‘€ï¼Ÿä¸ºå•¥è¿˜è¦æé‚£ä¹ˆå¤æ‚ï¼Œä¸“é—¨ç”¨ä¸€ä¸ªå‡½æ•°å¼ç»„ä»¶å»å®ç°å‘¢ï¼Ÿå…¶å®è¿™ä¸ªå°æŠ€å·§è¿˜æ˜¯å¾ˆæœ‰å¿…è¦å­˜åœ¨çš„ï¼Œå½“è®¸å¤šç»„ä»¶éƒ½æœ‰è¿™ç§æ•°æ®çš„é‡æ–°è®¡ç®—çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæŠ€å·§ï¼Œé‚£ä¹ˆå°±éœ€è¦å†™å¾ˆå¤šå¾ˆå¤šçš„è®¡ç®—å±æ€§ï¼Œè€Œæœ‰äº†å‡½æ•°å¼ç»„ä»¶ tempvar åï¼Œåªéœ€è¦åœ¨ç»„ä»¶é‡Œå¼•å…¥ä»–ï¼Œç„¶åå†™æ’æ§½å°±å¥½äº†ã€‚å°±ç›¸å½“äºæŠŠå†™è®¡ç®—å±æ€§çš„åŠŸå¤«èŠ±åœ¨äº†å†™æ’æ§½ä¸Šäº†ã€‚æ€»è€Œè¨€ä¹‹ï¼Œä¸¤ç§æ–¹å¼éƒ½å¯ä»¥å®ç°ç±»ä¼¼çš„å±æ€§è®¡ç®—åŠŸèƒ½ï¼Œè¯¥æ€ä¹ˆé€‰ï¼Œéšä½ å–œæ¬¢å•¦ã€‚ è°ƒè¯•templateï¼ˆä¸æ¨èï¼‰åœ¨å¼€å‘è°ƒè¯•çš„æ—¶å€™ç»å¸¸ä¼šéœ€è¦é€šè¿‡ console.log æ¥æ‰“å°å‡ºæŸä¸ªæ•°æ®å¯¹è±¡æ¥æŸ¥çœ‹å…¶å†…éƒ¨çš„ç»“æ„æˆ–è€…å­—æ®µå€¼ï¼Œä½†æ˜¯è¿™æ ·åšè‚¯å®šä¸å¿…åœ¨ template é‡Œå°†å…¶è¾“å‡ºæ›´ç›´æ¥ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªæ•°æ®ï¼š 1234obj: &#123; name: &#x27;bubuzou&#x27;, age: 21,&#125; åœ¨æ¨¡æ¿ä¸­å±•ç¤ºï¼š 1&lt;p&gt;&#123;&#123; obj &#125;&#125;&lt;/p&gt; é¡µé¢æ¸²æŸ“å®Œæˆåä¼šçœ‹åˆ°ï¼š 1&#123; &quot;name&quot;: &quot;bubuzou&quot;, &quot;age&quot;: 21 &#125; å¯¹äºè¿™æ ·çš„æ¸²æŸ“ç»“æœè™½ç„¶æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœè¿™ä¸ª obj æ˜¯å±‚çº§å¾ˆæ·±ä¸”å­—æ®µå¾ˆå¤šçš„æ•°æ®ï¼Œæ˜¾ç¤ºå‡ºæ¥å°±ä¼šä¸€å †æ•°æ®ç ¸åœ¨ä¸€å—ï¼Œä¸æ¯«æ²¡æœ‰é˜…è¯»ä½“éªŒã€‚ å› æ­¤åŸºäºè¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥å°† console.log æŒ‚è½½åœ¨ Vue çš„å®ä¾‹åŸå‹ä¸Šï¼š 12// main.jsVue.prototype.$log = window.console.log ç„¶åå°±å¯ä»¥å¼€å¼€å¿ƒå¿ƒåœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ä»–äº†ï¼š 1&lt;p&gt;&#123;&#123; $log( obj ) &#125;&#125;&lt;/p&gt; è¿™æ ·ä¼šåœ¨æµè§ˆå™¨æ§åˆ¶å°è¾“å‡ºå½“å‰çš„æ•°æ®å¯¹è±¡ï¼Œåœ¨æ˜¾ç¤ºæ•ˆæœä¸Šå’Œ console.log ç›´æ¥æ‰“å°åˆ«æ— äºŒè‡´ã€‚ ä½†è¯´äº†è¿™ä¹ˆå¤šï¼Œä½¿ç”¨ Vue è¿›è¡Œå¼€å‘è°ƒè¯•è¿˜æ˜¯å¼ºçƒˆæ¨èå®˜æ–¹çš„vue-devtools å·¥å…·ï¼Œè°ç”¨è°çŸ¥é“ã€‚ ç›‘å¬å­ç»„ä»¶çš„é’©å­å‡½æ•°é€šå¸¸å¦‚æœæˆ‘ä»¬æƒ³åœ¨å­ç»„ä»¶é’©å­å‡½æ•°è§¦å‘çš„æ—¶å€™é€šçŸ¥çˆ¶ç»„ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š 12&lt;!-- parent.vue --&gt;&lt;child @mounted=&quot;doSomething&quot;&gt;&lt;/child&gt; 12// child.vuethis.$emit(&#x27;mounted&#x27;) å…¶å®è¿˜æœ‰ä¸€ç§æ›´åŠ ç®€å•çš„å†™æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨ hookEventï¼š 1&lt;child @hook:mounted=&quot;doSomething&quot;&gt;&lt;/child&gt; é’©å­å‡½æ•°é™¤äº†ä»¥ä¸Šç”¨æ³•ï¼Œè¿˜å¯ä»¥é€šè¿‡åŠ¨æ€æ³¨å†Œåšä¸€äº›åˆ«çš„äº‹æƒ…ï¼Œæ¯”å¦‚ç»„ä»¶é”€æ¯å‰è¿›è¡Œèµ„æºçš„é‡Šæ”¾ï¼š 12345678910mounted() &#123; let setIntervalId = setInterval(() =&gt; &#123; console.log(888); &#125;, 1000) this.$once(&quot;hook:beforeDestroy&quot;, () =&gt; &#123; clearInterval(setIntervalId) setIntervalId = null &#125;)&#125; è·¯ç”±å‚æ•°è§£è€¦å‚æ•°è§£è€¦ï¼Œå•¥æ„æ€å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹æ¯”å¦‚å¯¹äºè¿™ä¹ˆä¸€ä¸²è·¯ç”±ï¼š 12345const router = [&#123; path: &#x27;/home/:type/:id&#x27;, name: &#x27;Home&#x27;, component: Home,&#125;] å½“å‰é¡µé¢çš„è·¯å¾„æ˜¯ http://xxx/detail/preview/21?sex=maleï¼Œå¹³æ—¶æˆ‘ä»¬å†™ä»£ç çš„æ—¶å€™æˆ–å¤šæˆ–å°‘çš„ä¼šå†™å‡ºè¿™ç§ä»£ç ï¼Œåœ¨ç»„ä»¶é‡Œä½¿ç”¨ $route ç»™ç»„ä»¶ä¼ å‚æ•°ï¼š 123456789mounted() &#123; if (this.$route.params.type === &#x27;preview&#x27;) &#123; this.isPreview = true &#125; else &#123; this.isPreview = false &#125; this.id = this.$route.params.id this.sex = this.$route.query.sex&#125; è¿™æ ·å­å†™æœ¬èº«æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå°±æ˜¯ä¼šä½¿å¾—ç»„ä»¶å’Œè·¯ç”±é«˜åº¦è€¦åˆï¼Œè®©ç»„ä»¶åªèƒ½åœ¨å«æœ‰ç‰¹å®š URL çš„é¡µé¢ä¸­ä½¿ç”¨ï¼Œé™åˆ¶äº†ç»„ä»¶çš„é€šç”¨æ€§ã€‚å…¶å®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ props ä¼ å‚ï¼Œæ¥è§£è€¦è·¯ç”±å‚æ•°ï¼Œå°†ä¸Šé¢çš„è·¯ç”±é…ç½®æ”¹æˆå¦‚ä¸‹ï¼š 12345678910const router = [&#123; path: &#x27;/home/:type/:id&#x27;, name: &#x27;Home&#x27;, component: Home, props: (route) =&gt; (&#123; type: route.params.type, id: route.params.id, sex: route.query.sex, &#125;)&#125;] ç„¶ååœ¨ç»„ä»¶ props åŠ ä¸Šå‚æ•°ï¼š 1props: [&#x27;type&#x27;, &#x27;id&#x27;, &#x27;sex&#x27;] ç»„ä»¶é‡Œä½¿ç”¨å‚æ•°çš„æ—¶å€™å°±ä¸éœ€è¦ç”¨ this.$routeï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ this.type å³å¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¿™ä¸ªç»„ä»¶å°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨äº†ã€‚ æ·±åº¦ä½œç”¨é€‰æ‹©å™¨å½“ç»™ style åŠ ä¸Š scopedï¼Œé¡µé¢æ¸²æŸ“å®Œæˆåä¼šç»™ html å’Œ css é€‰æ‹©å™¨åŠ ä¸Šå“ˆå¸Œå€¼ç”¨äºè¡¨ç¤ºå”¯ä¸€æ€§ï¼š 123&lt;div class=&quot;home&quot; data-v-fae5bece&gt; &lt;button data-v-fae5bece class=&quot;el-button el-button-primary&quot;&gt;æäº¤&lt;/button&gt;&lt;/div&gt; 123.home .el-button[data-v-fae5bece] &#123; font-size: 20px;&#125; å¯¹äºåœ¨ style ä¸­è¢«åŠ äº† scoped çš„ç»„ä»¶ï¼Œå…¶æ ·å¼å°†åªèƒ½ä½œç”¨äºç»„ä»¶å†…éƒ¨ï¼Œä¸ä¼šå¯¹å…¶å­ç»„ä»¶é€ æˆå½±å“ã€‚æ¯”å¦‚æœ‰è¿™æ ·ä¸€ä¸ªç»„ä»¶ï¼š 1234567891011&lt;!-- çˆ¶ç»„ä»¶ --&gt;&lt;div class=&quot;home&quot;&gt; &lt;el-button type=&quot;primary&quot;&gt;çˆ¶æŒ‰é’®&lt;/button&gt; &lt;child&gt;&lt;/child&gt;&lt;/div&gt;&lt;style lang=&quot;scss&quot; scoped&gt;.home .el-button &#123; font-size: 20px;&#125;&lt;/style&gt; 1234&lt;!-- å­ç»„ä»¶ --&gt;&lt;div class=&quot;child&quot;&gt; &lt;el-button type=&quot;primary&quot;&gt;å­æŒ‰é’®&lt;/button&gt;&lt;/div&gt; å½“é¡µé¢æ¸²æŸ“å‡ºæ¥åï¼Œä¼šæ˜¯å¦‚ä¸‹ç»“æœï¼š 123456&lt;div class=&quot;home&quot; data-v-fae5bece&gt; &lt;button data-v-fae5bece class=&quot;el-button el-button-primary&quot;&gt;çˆ¶æŒ‰é’®&lt;/button&gt; &lt;div class=&quot;child&quot; data-v-fae5bece&gt; &lt;button class=&quot;el-button el-button-primary&quot;&gt;å­æŒ‰é’®&lt;/button&gt; &lt;/div&gt;&lt;/div&gt; æ ¹æ®ä¸Šé¢çš„ htmlï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° .home .el-button[data-v-fae5bece] è¿™ä¸ªé€‰æ‹©å™¨ä½œç”¨ä¸åˆ°å­æŒ‰é’®è¿™ä¸ª buttonã€‚ åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦è®©çˆ¶ç»„ä»¶çš„æ ·å¼èƒ½ä½œç”¨åˆ°å­ç»„ä»¶ï¼Œå³ä½¿çˆ¶ç»„ä»¶çš„ style ä¸ŠåŠ äº† scopedï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨åˆ°æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ &gt;&gt;&gt;ï¼Œæ¯”å¦‚åœ¨åˆšåˆšçš„ä¾‹å­ä¸Šå¯ä»¥ç»™çˆ¶ç»„ä»¶æ ·å¼åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‚ æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ä¼šè¢« Vue Loader å¤„ç†ï¼Œä¸”åªèƒ½åœ¨æœ‰é¢„å¤„ç†å™¨çš„åœ°æ–¹ä½¿ç”¨ã€‚ç”±äºæŸäº›é¢„å¤„ç†å™¨æ¯”å¦‚ Sass ä¸èƒ½æ­£ç¡®è§£æ &gt;&gt;&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒçš„åˆ«åï¼š/deep/ æˆ– ::v-deep æ¥æ›¿ä»£ã€‚ 1234567&lt;style lang=&quot;scss&quot; scoped&gt;.home &#123; /deep/ .el-button &#123; font-size: 20px; &#125;&#125;&lt;/style&gt; åŠ ä¸Šæ·±åº¦ä½œç”¨é€‰æ‹©å™¨åï¼Œé€‰æ‹©å™¨ä¼šç”±åŸæ¥çš„ï¼š 1.home .el-button[data-v-fae5bece] &#123;&#125; å˜æˆå¦‚ä¸‹çš„ï¼š 1.home[data-v-fae5bece] .el-button &#123;&#125; å‚è€ƒæ–‡ç«  vueç¯‡ä¹‹äº‹ä»¶æ€»çº¿ï¼ˆEventBusï¼‰ ã€ŠVueå¼€å‘å®æˆ˜ã€‹ æ„Ÿè°¢é˜…è¯»å¦‚æœæœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œç»™æœ¬æ–‡ç‚¹ä¸ªåœ¨çœ‹å§","categories":[{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/tags/vue/"}]},{"title":"å°ç¨‹åºå‡çº§WePY2è¸©å‘è®°","slug":"wepy2","date":"2020-08-06T13:39:57.000Z","updated":"2020-08-27T15:50:01.384Z","comments":true,"path":"2020/08/06/wepy2/","link":"","permalink":"https://bubuzou.com/2020/08/06/wepy2/","excerpt":"æœ€è¿‘æœ‰ä¸ªå°ç¨‹åºé¡¹ç›®éœ€è¦è¿­ä»£ï¼Œä½†æ˜¯è¿­ä»£ä»»åŠ¡ä¸å¤šï¼Œæ—¶é—´æ¯”è¾ƒå……è£•ã€‚è€Œè¿™ä¸ªå°ç¨‹åºæœ€æ—©æ˜¯åœ¨18å¹´çš„æ—¶å€™å¼€å‘çš„ï¼Œç”¨çš„å¼€å‘æ¡†æ¶æ˜¯ WePY çš„ 1.7.2 ç‰ˆæœ¬ï¼Œå»å¹´ä¹Ÿå°±æ˜¯ 19 å¹´çš„æ—¶å€™ WePY æ¡†æ¶è¿›è¡Œäº†å‡çº§ï¼Œåˆ°äº† 2.0 ç‰ˆæœ¬ã€‚å‡çº§ä¹‹åçš„ WePYï¼Œç”¨ WePY å®˜æ–¹æ–‡æ¡£çš„è¯æ¥è¯´ï¼šé€šè¿‡ä¼˜åŒ–ç»†èŠ‚ï¼Œå¼•å…¥ Promiseã€Async Functions ç­‰è®©å¼€å‘å°ç¨‹åºé¡¹ç›®å˜å¾—æ›´åŠ ç®€å•ï¼Œé«˜æ•ˆã€‚åŸºäºè¿™äº›èƒŒæ™¯ï¼Œæˆ‘å’Œå°ä¼™ä¼´ä¸€æ‹å³åˆï¼Œå†³å®šå¯¹æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œæ¡†æ¶å‡çº§ï¼Œä½“éªŒä¸‹åˆ°åº• WePY2 èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆã€‚ æœ¬æ–‡å°†ä»¥é¡¹ç›®æ”¹åŠ¨ä¸ºå‡ºå‘ç‚¹ï¼ŒåŸºäºå½“å‰è¿™ä¸ªé¡¹ç›®çš„ç»“æ„å’Œç¼–ç æ–¹å¼æ¥è€ƒè™‘åˆ°åº•å‡çº§ WePY2 åï¼Œå“ªé‡Œéœ€è¦æ”¹ï¼Œæ€ä¹ˆæ”¹ä»¥åŠæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œé€šè¿‡å¯¹æ¯” 2 ä¸ªç‰ˆæœ¬çš„å†™æ³•å·®å¼‚è¿™ä¸ªæ€è·¯æ¥å†™ï¼Œä¸ä¼šå»å¤ªè¾ƒçœŸ WePY2 ç›¸å¯¹äº WePY1 å®ç°æˆ–åŸç†ä¸Šçš„åŒºåˆ«ã€‚ä¸‹é¢æˆ‘å°†ä¸€æ¡ä¸€æ¡çš„åˆ—å‡ºæ¥éœ€è¦æ”¹åŠ¨çš„ç‚¹ã€‚ æœ¬ç¯‡æ–‡ç« è®°å½•çš„æ˜¯æˆ‘å’Œå°ä¼™ä¼´è¿™æ¬¡å‡çº§æ¡†æ¶é‡åˆ°çš„éœ€è¦æ”¹åŠ¨çš„åœ°æ–¹å’Œå‘ï¼Œæ‰€ä½¿ç”¨çš„æ˜¯ wepy çš„ 2.1.0 ç‰ˆæœ¬ï¼Œåç»­å¦‚æœç‰ˆæœ¬å‡çº§åï¼Œæœ¬ç¯‡è®°å½•åˆ°çš„å‘å¦‚æœå·²ç»è¢«ä¿®å¤äº†ï¼Œè¯·è‡ªè¡Œå¿½ç•¥æœ¬æ–‡æ‰€è¿°çš„é—®é¢˜ã€‚å¦å¤–ä¸‹æ–‡ä¸­æ‰€è¯´åˆ°çš„ 2.x ç‰ˆæœ¬éƒ½æ˜¯æŒ‡ wepy_v2.1.0ã€‚","text":"æœ€è¿‘æœ‰ä¸ªå°ç¨‹åºé¡¹ç›®éœ€è¦è¿­ä»£ï¼Œä½†æ˜¯è¿­ä»£ä»»åŠ¡ä¸å¤šï¼Œæ—¶é—´æ¯”è¾ƒå……è£•ã€‚è€Œè¿™ä¸ªå°ç¨‹åºæœ€æ—©æ˜¯åœ¨18å¹´çš„æ—¶å€™å¼€å‘çš„ï¼Œç”¨çš„å¼€å‘æ¡†æ¶æ˜¯ WePY çš„ 1.7.2 ç‰ˆæœ¬ï¼Œå»å¹´ä¹Ÿå°±æ˜¯ 19 å¹´çš„æ—¶å€™ WePY æ¡†æ¶è¿›è¡Œäº†å‡çº§ï¼Œåˆ°äº† 2.0 ç‰ˆæœ¬ã€‚å‡çº§ä¹‹åçš„ WePYï¼Œç”¨ WePY å®˜æ–¹æ–‡æ¡£çš„è¯æ¥è¯´ï¼šé€šè¿‡ä¼˜åŒ–ç»†èŠ‚ï¼Œå¼•å…¥ Promiseã€Async Functions ç­‰è®©å¼€å‘å°ç¨‹åºé¡¹ç›®å˜å¾—æ›´åŠ ç®€å•ï¼Œé«˜æ•ˆã€‚åŸºäºè¿™äº›èƒŒæ™¯ï¼Œæˆ‘å’Œå°ä¼™ä¼´ä¸€æ‹å³åˆï¼Œå†³å®šå¯¹æˆ‘ä»¬çš„é¡¹ç›®è¿›è¡Œæ¡†æ¶å‡çº§ï¼Œä½“éªŒä¸‹åˆ°åº• WePY2 èƒ½ç»™æˆ‘ä»¬å¸¦æ¥ä»€ä¹ˆã€‚ æœ¬æ–‡å°†ä»¥é¡¹ç›®æ”¹åŠ¨ä¸ºå‡ºå‘ç‚¹ï¼ŒåŸºäºå½“å‰è¿™ä¸ªé¡¹ç›®çš„ç»“æ„å’Œç¼–ç æ–¹å¼æ¥è€ƒè™‘åˆ°åº•å‡çº§ WePY2 åï¼Œå“ªé‡Œéœ€è¦æ”¹ï¼Œæ€ä¹ˆæ”¹ä»¥åŠæœ‰å“ªäº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œé€šè¿‡å¯¹æ¯” 2 ä¸ªç‰ˆæœ¬çš„å†™æ³•å·®å¼‚è¿™ä¸ªæ€è·¯æ¥å†™ï¼Œä¸ä¼šå»å¤ªè¾ƒçœŸ WePY2 ç›¸å¯¹äº WePY1 å®ç°æˆ–åŸç†ä¸Šçš„åŒºåˆ«ã€‚ä¸‹é¢æˆ‘å°†ä¸€æ¡ä¸€æ¡çš„åˆ—å‡ºæ¥éœ€è¦æ”¹åŠ¨çš„ç‚¹ã€‚ æœ¬ç¯‡æ–‡ç« è®°å½•çš„æ˜¯æˆ‘å’Œå°ä¼™ä¼´è¿™æ¬¡å‡çº§æ¡†æ¶é‡åˆ°çš„éœ€è¦æ”¹åŠ¨çš„åœ°æ–¹å’Œå‘ï¼Œæ‰€ä½¿ç”¨çš„æ˜¯ wepy çš„ 2.1.0 ç‰ˆæœ¬ï¼Œåç»­å¦‚æœç‰ˆæœ¬å‡çº§åï¼Œæœ¬ç¯‡è®°å½•åˆ°çš„å‘å¦‚æœå·²ç»è¢«ä¿®å¤äº†ï¼Œè¯·è‡ªè¡Œå¿½ç•¥æœ¬æ–‡æ‰€è¿°çš„é—®é¢˜ã€‚å¦å¤–ä¸‹æ–‡ä¸­æ‰€è¯´åˆ°çš„ 2.x ç‰ˆæœ¬éƒ½æ˜¯æŒ‡ wepy_v2.1.0ã€‚ åˆå§‹åŒ–ä¸€ä¸ªWePY2çš„demoç”±äºæœ¬åœ°è¿˜æœ‰å…¶ä»–é¡¹ç›®ç”¨çš„æ˜¯ WePY_v1.7.2ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½æŠŠ WePY2 çš„ CLI å·¥å…·å®‰è£…åœ¨å…¨å±€ç¯å¢ƒä¸­ï¼Œåªèƒ½å®‰è£…åœ¨å½“å‰é¡¹ç›®ä¸­ã€‚å®˜æ–¹æ¨èæ˜¯ç›´æ¥ç”¨ 1.7.x çš„ CLI å»åˆå§‹åŒ– 2.0.x çš„é¡¹ç›®: 1wepy init standard#2.0.x zzodr è¿™æ ·å°±èƒ½å¤Ÿåœ¨æœ¬åœ°åˆå§‹åŒ–ä¸€ä¸ª wepy2 çš„é¡¹ç›®æ¨¡æ¿ï¼Œä½†æ˜¯ @wepy/core æ˜¯ 2.0.0-alpha.16 ç‰ˆæœ¬çš„ï¼Œå°†å®ƒæ›´æ–°åˆ°æœ€æ–°çš„ 2.1.0 ç‰ˆæœ¬ï¼Œè¿™é‡Œä¹Ÿä¸€èµ·æ›´æ–°ä¸‹æ•´ä¸ªæ—§é¡¹ç›®å’Œæ–°æ¨¡æ¿æ‰€ç”¨åˆ°çš„ä¾èµ–ï¼Œä¸‹é¢ç›´æ¥è´´å‡ºæ¥ï¼š 123456789101112131415161718192021222324252627&#123; &quot;dependencies&quot;: &#123; &quot;@wepy/core&quot;: &quot;^v2.1.0&quot;, &quot;@wepy/use-intercept&quot;: &quot;^2.1.0&quot;, &quot;@wepy/use-promisify&quot;: &quot;^2.1.0&quot;, &quot;@wepy/x&quot;: &quot;^2.0.2&quot;, &quot;miniprogram-slide-view&quot;: &quot;0.0.3&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;@babel/core&quot;: &quot;^7.1.0&quot;, &quot;@babel/preset-env&quot;: &quot;^7.1.0&quot;, &quot;@wepy/babel-plugin-import-regenerator&quot;: &quot;0.0.2&quot;, &quot;@wepy/cli&quot;: &quot;^2.1.0&quot;, &quot;@wepy/compiler-babel&quot;: &quot;^2.0.1&quot;, &quot;@wepy/compiler-sass&quot;: &quot;^2.1.0&quot;, &quot;@wepy/plugin-define&quot;: &quot;^2.1.0&quot;, &quot;babel-eslint&quot;: &quot;^7.2.1&quot;, &quot;cross-env&quot;: &quot;^5.1.3&quot;, &quot;eslint&quot;: &quot;^3.18.0&quot;, &quot;eslint-config-standard&quot;: &quot;^7.1.0&quot;, &quot;eslint-friendly-formatter&quot;: &quot;^2.0.7&quot;, &quot;eslint-plugin-html&quot;: &quot;^2.0.1&quot;, &quot;eslint-plugin-promise&quot;: &quot;^3.5.0&quot;, &quot;eslint-plugin-standard&quot;: &quot;^2.0.1&quot;, &quot;wepy-eslint&quot;: &quot;^1.5.3&quot; &#125;&#125; æ¥ä¸‹æ¥æ“ä½œä¸»è¦æ˜¯åˆ é™¤æ¨¡æ¿é‡Œçš„ä»£ç ï¼Œç„¶åæŠŠé¡¹ç›®çš„ç»“æ„å’Œä»£ç æ¬è¿‡å»ã€‚ wpyæ–‡ä»¶ä»£ç ç»“æ„è°ƒæ•´WePy å•æ–‡ä»¶ç»„ä»¶ä¸»è¦ç”± &lt;script&gt;ã€&lt;template&gt;ã€&lt;style&gt;ã€&lt;config&gt; å››éƒ¨åˆ†ç»„æˆï¼ˆä¹ŸåŒ…æ‹¬å°ç¨‹åº &lt;wxs&gt; æ ‡ç­¾ï¼‰ã€‚æ‰€ä»¥éœ€è¦æŠŠ WePY 1.7.2 ä¸­å®šä¹‰åœ¨ &lt;script&gt; ä¸­çš„ config é…ç½®éœ€è¦ç‹¬ç«‹åˆ°å¤–å±‚çš„ &lt;config&gt; ä¸­ã€‚1.7.2 å†™æ³•ï¼š 123456789&lt;template&gt;&lt;/template&gt;&lt;script&gt; export default class Home extends wepy.page &#123; config = &#123; navigationBarTitleText: &#x27;é¦–é¡µ&#x27; &#125; &#125;&lt;/script&gt;&lt;style&gt;&lt;/style&gt; 2.x å†™æ³•ï¼š 12345678&lt;template&gt;&lt;/template&gt;&lt;script&gt;&lt;/script&gt;&lt;config&gt;&#123; navigationBarTitleText: &#x27;é¦–é¡µ&#x27;&#125;&lt;/config&gt;&lt;style&gt;&lt;/style&gt; ç¨‹åº/é¡µé¢/ç»„ä»¶æ³¨å†Œæ–¹å¼è°ƒæ•´æ³¨å†Œæ–¹å¼å°†ä¸å†ä½¿ç”¨ç»§æ‰¿çš„æ–¹å¼ï¼Œè€Œæ˜¯æ”¹æˆç›´æ¥è°ƒç”¨å¯¹åº”çš„å®ä¾‹æ–¹æ³•ã€‚1.7.2 å†™æ³•ï¼š 123export default class APP extends wepy.app &#123;&#125; // æ³¨å†Œç¨‹åºexport default class HOME extends wepy.page &#123;&#125; // æ³¨å†Œé¡µé¢export default class LIST extends wepy.component &#123;&#125; // æ³¨å†Œç»„ä»¶ 2.x å†™æ³•ï¼š 123wepy.app(&#123;&#125;) // æ³¨å†Œç¨‹åºwepy.page(&#123;&#125;) // æ³¨å†Œé¡µé¢wepy.component(&#123;&#125;) // æ³¨å†Œç»„ä»¶ ä»£ç ç»“æ„ç”±ç±»ç»“æ„å˜æˆå¯¹è±¡ç»“æ„ç”±äºæ³¨å†Œæ–¹å¼çš„æ”¹å˜ï¼Œé‚£ä¹ˆè‡ªç„¶çš„ä»£ç ç»“æ„ä¹Ÿè¦æœ‰æ‰€è°ƒæ•´ã€‚1.7.2 å†™æ³•ï¼š 123456export default class HOME extends wepy.page &#123; data = &#123;&#125; methods = &#123;&#125; onLoad() &#123;&#125; onShow() &#123;&#125;&#125; 2.x å†™æ³•ï¼š 123456wepy.page(&#123; data: &#123;&#125;, methods: &#123;&#125;, onLoad() &#123;&#125;, onShow() &#123;&#125;,&#125;) ä¸Šé¢ä»…ä»…åªæ˜¯ä»¥é¡µé¢åšä¸ºä¾‹å­ï¼Œwepy.app() å’Œ wepy.component() ä¹Ÿè¦å¯¹åº”è°ƒæ•´ã€‚ è‡ªå®šä¹‰æ–¹æ³•å’Œç»„ä»¶äº‹ä»¶å¤„ç†å‡½æ•°éœ€è¦ç§»åˆ° methods é‡Œåœ¨ WePY 1.7.2 ä¸­æ³¨å†Œçš„é¡µé¢æˆ–è€…ç»„ä»¶å‡½æ•°æœ‰è¿™ä¹ˆå‡ ç§ç±»å‹ï¼š ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œæ¯”å¦‚ onLoadã€onShow ç­‰ï¼› wxml äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå³åœ¨ wxml ä¸­ç»‘å®šçš„äº‹ä»¶ï¼Œè¿™ç±»å‡½æ•°éœ€è¦å®šä¹‰åœ¨ methodsï¼Œæ¯”å¦‚ï¼šbindtapã€bindchange ç­‰ï¼› ç»„ä»¶é—´äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå“åº”ç»„ä»¶ä¹‹é—´é€šè¿‡ $broadcastã€$emitã€$invoke æ‰€ä¼ é€’çš„äº‹ä»¶å‡½æ•°ï¼Œè¿™ç±»å‡½æ•°éœ€è¦å®šä¹‰åœ¨ events å¯¹è±¡é‡Œï¼› è‡ªå®šä¹‰å‡½æ•°ï¼Œå³ç”¨äºè¢«å…¶ä»–å‡½æ•°ç›´æ¥è°ƒç”¨çš„å‡½æ•°ï¼Œéœ€è¦å®šä¹‰åœ¨å’Œ methods åŒçº§çš„ä½ç½®ã€‚ è€Œåœ¨ WePY 2 ä¸­éœ€è¦å°†ç»„ä»¶å¤„ç†å‡½æ•°å’Œè‡ªå®šä¹‰å‡½æ•°éƒ½æ”¾åˆ° methods é‡Œã€‚ä¸‹é¢å‡è®¾ HOME é¡µé¢æœ‰ä¸€ä¸ªå­ç»„ä»¶ childï¼Œä¸”å­ç»„ä»¶é‡Œä¼šæ‰§è¡Œè¿™å¥ this.$emit(&#39;updateList)ï¼ŒåŸºäºè¿™ä¸ªèƒŒæ™¯çœ‹ä¸‹ 2 ä¸ªç‰ˆæœ¬ä¸‹çš„å†™æ³•å·®å¼‚ï¼š 1.7.2 å†™æ³•ï¼š 123456789101112131415161718192021&lt;template&gt; &lt;view&gt; &lt;view bindtap=&quot;tapBox&quot;&gt;&lt;/view&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt;export default class HOME extends wepy.page &#123; data = &#123;&#125; onLoad() &#123;&#125; // ç”Ÿå‘½å‘¨æœŸå‡½æ•° onShow() &#123;&#125; // ç”Ÿå‘½å‘¨æœŸå‡½æ•° events = &#123; updateList:() =&gt; &#123;&#125; // ç»„ä»¶é—´äº‹ä»¶å¤„ç†å‡½æ•° &#125; methods = &#123; tapBox() &#123; // wxmläº‹ä»¶å¤„ç†å‡½æ•° this.getMsg() &#125; &#125; getMsg() &#123;&#125; // è‡ªå®šä¹‰å‡½æ•°&#125;&lt;/script&gt; 2.x å†™æ³•ï¼š 12345678910111213141516171819&lt;template&gt; &lt;view&gt; &lt;view @tap=&quot;tapBox&quot;&gt;&lt;/view&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt;wepy.page(&#123; data: &#123;&#125;, onLoad() &#123;&#125;, // ç”Ÿå‘½å‘¨æœŸå‡½æ•° onShow() &#123;&#125;, // ç”Ÿå‘½å‘¨æœŸå‡½æ•° methods: &#123; tapBox() &#123; // wxmläº‹ä»¶å¤„ç†å‡½æ•° this.getMsg() &#125;, updateList() &#123;&#125;, // ç»„ä»¶é—´äº‹ä»¶å¤„ç†å‡½æ•° getMsg() &#123;&#125;, // è‡ªå®šä¹‰å‡½æ•° &#125;,&#125;)&lt;/script&gt; ç»„ä»¶å¼•å…¥æ–¹å¼å˜æ›´åœ¨ 2.x ç‰ˆæœ¬ä¸­ç»„ä»¶å¼•å…¥ä¸å†é€šè¿‡ import è¿›è¡Œå¯¼å…¥ï¼Œè€Œæ˜¯ç›´æ¥å®šä¹‰åœ¨é¡µé¢çš„é…ç½® &lt;config&gt; ä¸­ã€‚1.7.2 å†™æ³•ï¼š 12345678910111213&lt;template&gt; &lt;view&gt; &lt;child&gt;&lt;/child&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt;import Child from &#x27;./components/child.wpy&#x27;;export default class HOME extends wepy.page &#123; components = &#123; child: Child &#125;&#125;&lt;/script&gt; 2.x å†™æ³•ï¼š 123456789101112131415&lt;template&gt; &lt;view&gt; &lt;child&gt;&lt;/child&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt;wepy.page(&#123;&#125;)&lt;/script&gt;&lt;config&gt;&#123; usingComponents: &#123; &#x27;child&#x27;: &#x27;./components/child.wpy&#x27;, &#125;&#125;&lt;/config&gt; å¦å¤–ï¼Œ2.x ä¸­å·²ç»å†ä¸æ”¯æŒåœ¨ app.wpy é‡Œå®šä¹‰å…¨å±€ç»„ä»¶ï¼Œè€Œ 1.7.2 ä¸­æ˜¯å¯ä»¥çš„ã€‚ ç”Ÿå‘½å‘¨æœŸå‡½æ•°è°ƒæ•´åœ¨ 2.x ä¸­ç”Ÿå‘½å‘¨æœŸå‡½æ•°åŸºæœ¬å’ŒåŸç”Ÿä¿æŒä¸€è‡´ï¼Œå’Œ 1.7.2 ç›¸æ¯”ï¼Œåªæ˜¯éœ€è¦æŠŠç»„ä»¶ä¸­çš„ onLoad æ”¹æˆäº† ready å³å¯ï¼Œå…¶ä»–æ— éœ€å˜åŠ¨ã€‚ çº§åˆ« 1.7.2 2.x app onLaunch onLaunch app onShow onShow page onLoad onLoad page onShow onShow page onReady onReady component - created component - attached component onLoad ready 2.x ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåºï¼š app onLaunch -&gt; app onShow -&gt; component created -&gt; component attached -&gt; page onLoad -&gt; page onShow -&gt; component ready -&gt; page onReady -&gt; page onUnload -&gt; component detached page onHide åœ¨å½“å‰é¡µé¢é€šè¿‡ wx.navigateTo æ‰“å¼€æ–°é¡µé¢çš„æ—¶å€™ä¼šæ‰§è¡Œï¼Œè€Œå¦‚æœæ˜¯åœ¨å½“å‰é¡µé¢ç‚¹å‡»è¿”å›ä¸Šä¸€ä¸ªé¡µé¢æˆ–è€… wx.redirectTo å¹¶ä¸ä¼šæ‰§è¡Œã€‚ ä¸å†æ”¯æŒè¯·æ±‚æ‹¦æˆªå™¨ï¼ˆå‘ï¼‰åœ¨ 1.7.2 ä¸­å¯ä»¥åœ¨ wepy.app çš„æ„é€ å‡½æ•°é‡Œé€šè¿‡é…ç½®æ‹¦æˆªå™¨å¯ä»¥å¯¹è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œè¯·æ±‚è¢«æ‹¦æˆªåå¯ä»¥åŠ ä¸Šæ›´å¤šçš„è¯·æ±‚å‚æ•°ä»¥åŠè¯·æ±‚å“åº”åå¯ä»¥è¿›è¡Œç»Ÿä¸€çš„é”™è¯¯å¤„ç†ï¼ŒåŠŸèƒ½è¿˜æ˜¯æŒºå¥½ç”¨çš„ã€‚ä½†æ˜¯åœ¨ 2.x ä¸­è¿™ä¸ªåŠŸèƒ½è‡³å°‘ä»æ–‡æ¡£ä¸Šæ˜¯æ²¡çœ‹åˆ°ï¼Œè™½ç„¶æºç é‡Œæä¾›äº†ä¸€ä¸ª use-interceptæ‹¦æˆªå™¨çš„åŒ…ï¼Œä½†æ˜¯ç»è¿‡æˆ‘å‡ ç•ªå°è¯•ä¹‹åè¿˜æ˜¯æŠ¥é”™ï¼Œæ‰€ä»¥å°±æ‰“ç®—å¼ƒç”¨æ‹¦æˆªå™¨äº†ï¼Œç›´æ¥åœ¨è¯·æ±‚é‡Œè¿›è¡Œå‚æ•°å¢åŠ å’Œé”™è¯¯å¤„ç†ã€‚request.js è¿™é‡Œè´´ä¸€ä»½å¤§æ¦‚çš„ä»£ç ï¼š 1234567891011121314151617181920import wepy from &quot;@wepy/core&quot;;import &#123; HOST &#125; from &quot;./constants&quot;;export default function(url, data, handler = toast, header = &#123;&#125;) &#123; // å¤´å‚æ•°æ·»åŠ  header[&quot;Content-Type&quot;] = &quot;application/json&quot;; header[&quot;cType&quot;] = &quot;WECHAT&quot;; return wepy.wx.request(&#123; // è¿™é‡Œ wepy.wx.request è¿™ç§å†™æ³•ï¼Œéœ€è¦åœ¨app.wpyé‡Œé…ç½®promisifyï¼Œ method: &quot;POST&quot;, data: data || &#123;&#125;, header, url: `$&#123;HOST&#125;$&#123;url&#125;`, &#125;).then(data =&gt; &#123; // è¯·æ±‚æˆåŠŸå¤„ç†ä»£ç æ”¾è¿™å„¿ return Promise.reject(data) &#125;).catch(err =&gt; &#123; // é”™è¯¯å¤„ç†ä»£ç æ”¾è¿™å„¿ return Promise.reject(err); &#125;);&#125; å…¶ä¸­ wepy.wx.request è¿™ç§å†™æ³•éœ€è¦åœ¨ app.wpy é‡Œé…ç½® promisifyï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œ use-promisify æ ‡ç­¾å±æ€§çš„å€¼å¿…é¡»è¢«åŒå¼•å·åŒ…è£¹åœ¨ 1.7.2 ä¸­å¯¹å•å¼•å·å’ŒåŒå¼•å·æ²¡æœ‰å¼ºåˆ¶è¦æ±‚ï¼Œä½†æ˜¯åœ¨ 2.x ä¸­å¿…é¡»æ˜¯åŒå¼•å·ï¼Œä¸ç„¶ç¼–è¯‘ä¼šæŠ¥é”™ã€‚1.7.2 å†™æ³•ï¼š 12345&lt;template&gt; &lt;view&gt; &lt;view class=&quot;title&quot; bindtap=&#x27;change&#x27;&gt;&lt;/view&gt; &lt;/view&gt;&lt;/template&gt; 2.x å†™æ³•ï¼š 12345&lt;template&gt; &lt;view&gt; &lt;view class&#x3D;&quot;title&quot; bindtap&#x3D;&quot;change&quot;&gt;&lt;&#x2F;view&gt; &lt;&#x2F;view&gt;&lt;&#x2F;template&gt; è°ƒç”¨åŸç”Ÿäº‹ä»¶éœ€è¦ä¼ å…¥å‚æ•°$wxå°ç¨‹åºåŸç”Ÿäº‹ä»¶ä¼šä¼ é€’ä¸€ä¸ª event å‚æ•°ã€‚è€Œ WePY çš„äº‹ä»¶åˆ†å‘å™¨åœ¨å¤„ç†äº‹ä»¶æ—¶ä¼šæœ‰ä¸€ä¸ª $event å‚æ•°ã€‚ $event å‚æ•°æ˜¯å¯¹ event è¿›è¡Œäº†ä¸€å±‚åŒ…è£…ï¼Œç›®åœ°æ˜¯ä¸ºäº†æ— ä¾µå…¥åœ°å¯¹é½ Web Event æ ‡å‡†å±æ€§ã€‚è€Œå…¶ä¸­ $event.$wx === eventã€‚ å› æ­¤ï¼ŒWePY ä¸­å“åº”äº‹ä»¶è·å¾—çš„äº‹ä»¶å‚æ•°å‡æ˜¯æŒ‡ $eventã€‚å¦‚æœæƒ³æ‹¿åˆ°åŸç”Ÿäº‹ä»¶å‚æ•°ï¼Œè¯·ä½¿ç”¨ $event.$wxã€‚1.7.2 å†™æ³•ï¼š 123456789101112131415&lt;template&gt; &lt;view&gt;&lt;input bindinput=&quot;setInput&quot; value=&quot;&#123;&#123;name&#125;&#125;&quot; /&gt;&lt;/view&gt;&lt;/template&gt;&lt;script&gt;export default class HOME extends wepy.page &#123; data = &#123; name: &#x27;&#x27;, &#125; methods = &#123; setInput(e) &#123; this.name = e.detail.value &#125; &#125;&#125;&lt;/script&gt; 2.x å†™æ³•ï¼Œåªéœ€è¦å°† bindinput=&quot;setInput&quot; æ”¹æˆ @input=&quot;setInput($wx)&quot; å³å¯ã€‚ æ¨¡æ¿è¯­æ³•ä¿®æ”¹2.x çš„æ¨¡æ¿è¯­æ³•ç»§æ‰¿äº† WXML çš„åŸºæœ¬æ¨¡æ¿è¯­æ³•ï¼Œå¹¶æ”¯æŒå¤§éƒ¨åˆ† Vue æ¨¡æ¿è¯­æ³•ã€‚å¯¹äºæ ‡ç­¾ï¼š2.x æ”¯æŒç»å¤§éƒ¨åˆ†çš„ HTML æ ‡ç­¾ï¼Œç»è¿‡ç¼–è¯‘åä¼šè½¬æˆæ ‡å‡†çš„ WXML æ¨¡æ¿è¯­æ³•ã€‚ä½†æ˜¯å¯¹äº 1.7.2 ä¸­çš„æœ‰ä¸€ä¸ªæ ‡ç­¾ &lt;repeat&gt; ä¸å†æ”¯æŒï¼Œéœ€è¦å°†å…¶æ›¿æ¢æˆ &lt;view&gt; å¹¶ä¸”ç”¨ v-for è¿›è¡Œå¾ªç¯æ¸²æŸ“ã€‚ ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æ¨¡æ¿è¯­æ³•å¯¹äº 2 ä¸ªç‰ˆæœ¬ä¹‹é—´å†™æ³•çš„å¯¹æ¯”ï¼š1.7.2 å†™æ³• 1234567891011121314151617181920212223242526272829&lt;template&gt; &lt;view&gt; &lt;!-- å±æ€§ç»‘å®š --&gt; &lt;view id=&quot;&#123;&#123; id &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;!-- æ•°æ®ç»‘å®š --&gt; &lt;view&gt;&#123;&#123; name &#125;&#125;&lt;/view&gt; &lt;!-- äº‹ä»¶ç»‘å®š --&gt; &lt;view bindtap=&quot;change(&#123;&#123; index &#125;&#125;)&quot;&gt;&lt;/view&gt; &lt;!-- classç»‘å®š --&gt; &lt;view class=&quot;change &#123;&#123;hasData ? &#x27;has-data&#x27; : &#x27;&#x27; &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;!-- styleç»‘å®š --&gt; &lt;view style=&quot;&#123;&#123; &#x27;color:&#x27; + color + &#x27;;&#x27; + &#x27;font-size:&#x27; + fontSize + &#x27;;&#x27; &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;!-- æ¡ä»¶åˆ¤æ–­ --&gt; &lt;view wx:if=&quot;&#123;&#123; flag1 &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;view wx:elif=&quot;&#123;&#123; flag2 &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;view wx:else&gt;&lt;/view&gt; &lt;!-- æ˜¾ç¤ºåˆ¤æ–­ --&gt; &lt;view hidden=&quot;&#123;&#123; !isShow &#125;&#125;&quot;&gt;&lt;/view&gt; &lt;!-- åˆ—è¡¨æ¸²æŸ“ï¼Œé»˜è®¤æ˜¯ï¼šitemã€index --&gt; &lt;view wx:for=&quot;&#123;&#123; array &#125;&#125;&quot; wx:for-index=&quot;idx&quot; wx:for-item=&quot;itemName&quot;&gt;&lt;/view&gt; &lt;/view&gt;&lt;/template&gt; 2.x å†™æ³•ï¼š 1234567891011121314151617181920212223242526272829&lt;template&gt; &lt;view&gt; &lt;!-- å±æ€§ç»‘å®š --&gt; &lt;view :id=&quot;id&quot;&gt;&lt;/view&gt; &lt;!-- æ•°æ®ç»‘å®š --&gt; &lt;view&gt;&#123;&#123; name &#125;&#125;&lt;/view&gt; &lt;!-- äº‹ä»¶ç»‘å®š --&gt; &lt;view @tap=&quot;change( index )&quot;&gt;&lt;/view&gt; &lt;!-- classç»‘å®š --&gt; &lt;view class=&quot;change&quot; :class=&quot;&#123; &#x27;has-data&#x27;: hasData &#125;&quot;&gt;&lt;/view&gt; &lt;!-- styleç»‘å®š --&gt; &lt;view :style=&quot;&#123;&#x27;color&#x27;: color, &#x27;font-size&#x27;: fontSize &#125;&quot;&gt;&lt;/view&gt; &lt;!-- æ¡ä»¶åˆ¤æ–­ --&gt; &lt;view v-if=&quot;flag1&quot;&gt;&lt;/view&gt; &lt;view v-else-if=&quot;flag2&quot;&gt;&lt;/view&gt; &lt;view v-else&gt;&lt;/view&gt; &lt;!-- æ˜¾ç¤ºåˆ¤æ–­ --&gt; &lt;view v-show=&quot;isShow&quot;&gt;&lt;/view&gt; &lt;!-- åˆ—è¡¨æ¸²æŸ“ï¼Œé»˜è®¤æ˜¯ï¼šitemã€index --&gt; &lt;view v-for=&quot;(item, index) in array&quot; :key=&quot;index&quot;&gt;&lt;/view&gt; &lt;/view&gt;&lt;/template&gt; å¯¹äº v-for å¾ªç¯åˆ—è¡¨çš„æ—¶å€™è¿™é‡Œæœ‰ä¸€ä¸ªï¼ˆå‘ï¼‰ä¸å¾—ä¸æä¸€ä¸‹ï¼Œgithub issuesç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š 1234&lt;view v-for=&quot;item in array&quot;&gt; &lt;view&gt;&#123;&#123; index &#125;&#125;&lt;/view&gt; &lt;view @tap=&quot;tapItem(index)&quot;&gt;&lt;/view&gt;&lt;/view&gt; å¯¹äºä¸Šé¢çš„ä»£ç ï¼Œ&lt;view&gt;&#123;&#123; index &#125;&#125;&lt;/view&gt; å¯ä»¥æ­£å¸¸æ˜¾ç¤ºç´¢å¼•å€¼ indexï¼Œä½†æ˜¯ tapItem ä¼ çš„å‚æ•°å´æ˜¯ undefinedï¼Œè¿™æ‰€ä»¥æˆ‘ä»¬éœ€è¦æ˜¾ç¤ºçš„å£°æ˜ç´¢å¼• v-for=&quot;(item, index) in array&quot; å³å¯ã€‚ è¡¨å•åŒå‘ç»‘å®šè°ƒæ•´2.x ä¸­ç›´æ¥ç”¨ v-model è¿›è¡Œè¡¨å•ç»‘å®šï¼Œè€Œä¸éœ€è¦å†å®šä¹‰ä¸€ä¸ªå‡½æ•°å¯¹å…¶è¿›è¡Œèµ‹å€¼æ“ä½œã€‚1.7.2 å†™æ³•ï¼š 1234567891011121314&lt;template&gt; &lt;input value=&quot;&#123;&#123; name &#125;&#125;&quot; bindtap=&quot;setInput&quot; /&gt;&lt;/template&gt;&lt;script&gt;export default class HOME extends wepy.page &#123; data = &#123; name: &#x27;&#x27;, &#125; methods = &#123; bindtap(e) &#123; this.name = e.detail.value &#125; &#125;&#125; 2.x å†™æ³•ï¼š 123456789&lt;template&gt; &lt;input v-model=&quot;name&quot; /&gt;&lt;/template&gt;&lt;script&gt;wepy.page(&#123; data: &#123; name: &#x27;&#x27;, &#125;&#125;) å…¨å±€æ•°æ®å±æ€§è·å–æ–¹å¼è°ƒæ•´æˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦åœ¨ app.wpy é‡Œå®šä¹‰å…¨å±€æ•°æ®å±æ€§ globalDataï¼š 12345export default class APP extends wepy.app &#123; globalData = &#123; isBack: false &#125;&#125; åœ¨ 2.x ä¸­å®šä¹‰æ–¹å¼æ²¡å˜ï¼Œä½†æ˜¯è·å–æ–¹å¼æœ‰æ‰€è°ƒæ•´ï¼š 12345// 1.7.2 è·å–æ–¹å¼console.log(this.$parent.globalData.isBack)// 2.x è·å–æ–¹å¼console.log(this.$app.$options.globalData.isBack) å…¨å±€æ ·å¼å¯¹ç»„ä»¶æ— æ•ˆ2.x ä¸­å¯¹ç»„ä»¶çš„å®ç°æ–¹å¼ä¿ç•™äº†å¾ˆå¤šåŸç”Ÿå°ç¨‹åºçš„ç‰¹æ€§ï¼Œæ¯”å¦‚è¿™ä¸€æ¡ï¼Œç»„ä»¶æ ·å¼ ä¸­æ˜ç¡®è¯´æ˜ï¼šé™¤ç»§æ‰¿æ ·å¼å¤–ï¼Œ app.wxss ä¸­çš„æ ·å¼ã€ç»„ä»¶æ‰€åœ¨é¡µé¢çš„çš„æ ·å¼å¯¹è‡ªå®šä¹‰ç»„ä»¶æ— æ•ˆï¼ˆé™¤éæ›´æ”¹ç»„ä»¶æ ·å¼éš”ç¦»é€‰é¡¹ï¼‰ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡æ›´æ”¹ç»„ä»¶æ ·å¼éš”ç¦»é€‰é¡¹ä½¿å¾—ç»„ä»¶å¯ä»¥è¢«å…¨å±€æ ·å¼ä½œç”¨åˆ°ï¼Œä½†æœ‰æ—¶å€™ä¹Ÿä¼šå¸¦æ¥å¼Šç«¯ï¼Œæ¯”å¦‚åœ¨æ ‡ç­¾çš„å±æ€§ class å‰é¢åŠ ä¸Š ~ï¼Œå¯ä»¥ä½¿ç»„ä»¶è·å–å…¨å±€æ ·å¼ï¼Œä½†æ˜¯è¿™æ ·ä¸€æ¥ä¹Ÿå¸¦æ¥ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯å®šä¹‰åœ¨ç»„ä»¶é‡Œçš„è¯¥ class æ ·å¼ä¼šå¤±æ•ˆğŸ˜­ã€‚è¿™æ ·çš„å‡çº§çœŸçš„è®©å†™æ ·å¼å¾ˆéš¾å—ï¼Œæ‰€ä»¥ä¸ºäº†è®©æ ·å¼å†™å¾—å°½é‡æ–¹ä¾¿ç®€å•ï¼Œæˆ‘è¿˜æ˜¯è€è€å®å®çš„æŠŠç»„ä»¶çš„æ ·å¼å°±å®šä¹‰åœ¨ç»„ä»¶é‡Œï¼Œä¸ä»å…¨å±€æ‹¿æ ·å¼äº†ã€‚ ç»„ä»¶é€šä¿¡ä¸å†æ”¯æŒ$broadcastçˆ¶ç»„ä»¶ç»™å­ç»„ä»¶ä¼ é€’æ•°æ®å¯ä»¥é€šè¿‡è®¾ç½®é™æ€æˆ–è€…åŠ¨æ€çš„ prop å±æ€§æˆ–è€…é€šè¿‡å¹¿æ’­ $broadcast æ¥è®©æ‰€æœ‰å­ç»„ä»¶éƒ½æ”¶åˆ°çˆ¶ç»„ä»¶çš„ä¿¡æ¯ï¼Œè€Œå­ç»„ä»¶ç»™çˆ¶ç»„ä»¶é€šä¿¡å¯ä»¥é€šè¿‡åœ¨çˆ¶çº§è‡ªå®šä¹‰äº‹ä»¶ï¼Œåœ¨å­ç»„ä»¶ä¸­é€šè¿‡ $emit æ¥é€šä¿¡ã€‚ä½†æ˜¯åœ¨ 2.x ä¸­ä¸å†æ”¯æŒçˆ¶çº§ç»™å­ç»„ä»¶è¿›è¡Œäº‹ä»¶å¹¿æ’­äº†ï¼Œè€Œæ˜¯å¯ä»¥é€šè¿‡ç»™å­ç»„ä»¶åŠ ä¸Š ref å±æ€§åï¼Œé€šè¿‡ this.$refs æ¥ç›´æ¥æ“ä½œå­ç»„ä»¶å‡½æ•°æ¥è¾¾æˆé€šä¿¡çš„ç›®çš„ï¼Œå¦‚ä¸‹ä»£ç ï¼šparent.wpy: 12345678910&lt;template&gt; &lt;child ref=&quot;child&quot;&gt;&lt;/child&gt;&lt;/template&gt;&lt;script&gt;wepy.page(&#123; onLoad() &#123; this.$refs.child.getList() &#125;&#125;)&lt;/script&gt; child.wpyï¼š 1234567&lt;script&gt;wepy.component(&#123; methods: &#123; getList() &#123;&#125; &#125;&#125;)&lt;/script&gt; ç»„ä»¶propä¸å†æ”¯æŒåŒå‘ç»‘å®šåœ¨ 1.7.2 ä¸­å¯ä»¥é€šè¿‡å¯ä»¥é€šè¿‡è®¾ç½® prop ç»™å­ç»„ä»¶ä¼ å‚ï¼Œå¦‚æœè®¾ç½®çš„æ—¶å€™åŠ ä¸Š .sync é‚£ä¹ˆå½“çˆ¶ç»„ä»¶å‚æ•°æ›´æ–°çš„æ—¶å€™ï¼Œä¼ é€’ç»™å­ç»„ä»¶çš„ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°ï¼Œè€Œå¦‚æœåœ¨å­ç»„ä»¶çš„ prop é‡ŒåŠ ä¸Š twoWay: true åˆ™å­ç»„ä»¶æ•°æ®å¯ä»¥ç»‘å®šåˆ°çˆ¶ç»„ä»¶ã€‚ä»è€Œå®ç°ç»„ä»¶æ•°æ®çš„åŒå‘ç»‘å®šã€‚åŠŸèƒ½è¿˜æ˜¯æŒºå¥½ç”¨çš„ï¼Œä½†é—æ†¾çš„æ˜¯åœ¨ 2.x ä¸­å·²ç»ä¸å†æ”¯æŒé€šè¿‡ twoWay: true çš„æ–¹å¼ä»å­ç»„ä»¶ç»‘å®šæ•°æ®åˆ°çˆ¶ç»„ä»¶ï¼Œçˆ¶åˆ°å­æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸å†éœ€è¦è®¾ç½® syncã€‚é‚£å­ç»„ä»¶éœ€è¦æ›´æ–°çˆ¶ç»„ä»¶çš„æ•°æ®ï¼Œåªèƒ½é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶ï¼Œç„¶ååœ¨å­ç»„ä»¶é€šè¿‡ $emit è¿›è¡Œæ›´æ–°æ•°æ®äº†ã€‚1.7.2 å†™æ³•ï¼šçˆ¶é¡µé¢ï¼š 123&lt;template&gt; &lt;child :title.sync=&quot;title&quot;&gt;&lt;/child&gt;&lt;/tempalte&gt; å­ç»„ä»¶ï¼š 123456789export default class CHILD extends wepy.component &#123; props = &#123; title: &#123; type: String, default: &#x27;&#x27;, twoWay: true &#125; &#125;&#125; 2.x å†™æ³•ï¼šçˆ¶é¡µé¢ï¼š 123456789101112131415&lt;template&gt; &lt;child :title=&quot;title&quot; @changeTitle=&quot;changeTitle&quot;&gt;&lt;/child&gt;&lt;/tempalte&gt;&lt;script&gt; export default class HOME extends wepy.page &#123; data = &#123; title: &#x27;æœ€å¼€å§‹çš„æ ‡é¢˜&#x27;, &#125; events = &#123; changeTitle(val) &#123; this.title = val &#125; &#125; &#125;&lt;/script&gt; å­ç»„ä»¶ï¼š 1234567891011wepy.page(&#123; props: &#123; title: &#123; type: String, default: &#x27;&#x27;, &#125; &#125;, onLoad()&#123; this.$emit(&#x27;changeTitle&#x27;, &#x27;æ”¹å˜ä¹‹åçš„æ ‡é¢˜&#x27;) &#125;&#125;) ç»„ä»¶æ’æ§½slotä»£ç æ’å…¥åå±‚çº§é”™ä¹±é—®é¢˜ï¼ˆå‘ï¼‰è¿™ä¸ªé—®é¢˜å·²ç»æåˆ° github issues ä¸­ï¼Œä¸”å·²ç»è¢«ä½œè€…æ ‡è®°ä¸º bugã€‚åŸå§‹ä»£ç ï¼šparent.wpy çˆ¶é¡µé¢ï¼š 123456&lt;template&gt; &lt;view&gt;parent&lt;/view&gt; &lt;child&gt; &lt;view&gt;child view&lt;/view&gt; &lt;/child&gt;&lt;/template&gt; child.wpy å­ç»„ä»¶ï¼š 123456&lt;template&gt; &lt;view&gt; &lt;view&gt;child&lt;/view&gt; &lt;slot&gt;&lt;/slot&gt; &lt;/view&gt;&lt;/template&gt; æœŸæœ›çš„ç¼–è¯‘åï¼ˆæ­£ç¡®ï¼‰çš„ template æ˜¯ï¼š 1234567&lt;template&gt; &lt;view&gt;parent&lt;/view&gt; &lt;view&gt; &lt;view&gt;child&lt;/view&gt; &lt;view&gt;child view&lt;/view&gt; &lt;/view&gt;&lt;/template&gt; è€Œå®é™… 2.x ç¼–è¯‘åçš„ template æ˜¯ä¼šå°†å¯¹åº”çš„å†…å®¹æ’å…¥åˆ°å­ç»„ä»¶ä¸æ ¹å…ƒç´ å¹¶åˆ—é‚£çº§ï¼š 1234567&lt;template&gt; &lt;view&gt;parent&lt;/view&gt; &lt;view&gt; &lt;view&gt;child&lt;/view&gt; &lt;/view&gt; &lt;view&gt;child view&lt;/view&gt;&lt;/template&gt; é’ˆå¯¹è€é¡¹ç›®é‡Œç”¨åˆ° slot çš„åœ°æ–¹ï¼Œæˆ‘åªèƒ½æ”¹å†™ä»£ç æ¥é¿å¼€è¿™ä¸ªå‘äº†ã€‚ èµ„æºå¼•å…¥è°ƒæ•´èµ„æºå¼•å…¥æ–¹å¼è°ƒæ•´ä¸»è¦æ˜¯ä»‹ç»ç»„ä»¶å¼•å…¥å’Œå›¾ç‰‡å¼•å…¥ä¸¤ç§ã€‚é¦–å…ˆæ¥çœ‹ç»„ä»¶å¼•å…¥ï¼š 12345678910&lt;config&gt;&#123; usingComponents: &#123; &#x27;load-more&#x27;: &#x27;/components/loadMore&#x27;, // ç»å¯¹è·¯å¾„ &#x27;btn&#x27;: &#x27;../btn&#x27;, // ç›¸å¯¹è·¯å¾„ &#x27;list&#x27;: &#x27;~@/components/list&#x27;, // é€šè¿‡wepy.config.jsé…ç½®åˆ«å@æŒ‡å‘srcï¼Œå®é™…ä¸Šä¹Ÿæ˜¯ç»å¯¹è·¯å¾„ &#x27;van-icon&#x27;: &#x27;module:van-icon&#x27;, // æ¨¡å—å¼•å…¥ &#125;&#125;&lt;/config&gt; å¯¹äºå›¾ç‰‡å¼•å…¥ï¼Œå­˜åœ¨ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯é™æ€çš„ï¼Œç¨‹åºåœ¨ç¼–è¯‘çš„æ—¶å€™å°±çŸ¥é“éœ€è¦æŠŠå“ªäº›å›¾ç‰‡åŠ è½½å‡ºæ¥ï¼Œå¦ä¸€ç§æ˜¯åŠ¨æ€çš„ï¼Œåªæœ‰åœ¨ç¨‹åºæ‰§è¡Œçš„æ—¶å€™æ‰çŸ¥é“è¦åŠ è½½å“ªäº›å›¾ç‰‡ã€‚å¯¹äºç¬¬ä¸€ç§æ–¹å¼ï¼Œé€šè¿‡ç›¸å¯¹è·¯å¾„ã€ç»å¯¹è·¯å¾„æˆ–è€… @ éƒ½å¯ä»¥å¼•å…¥åˆ°å›¾ç‰‡ï¼š 1234567&lt;template&gt; &lt;view&gt; &lt;image src=&quot;../bg.png&quot;&gt;&lt;/image&gt; &lt;image src=&quot;/images/icon.png&quot;&gt;&lt;/image&gt; &lt;image src=&quot;@/images/nodata.png&quot;&gt;&lt;/image&gt; &lt;/view&gt;&lt;/template&gt; å¯¹äºç¬¬äºŒç§æ–¹å¼ï¼Œéœ€è¦å°†åŠ¨æ€çš„å›¾ç‰‡æ”¾ç½®åœ¨æŸä¸ªå›ºå®šçš„ä½ç½®ï¼Œæ¯”å¦‚ /src/images/staticï¼Œç„¶åå† wepy.config.js é‡Œé…ç½® static: [&#39;/src/images/static&#39;] è¿™æ ·åœ¨ç¼–è¯‘çš„æ—¶å€™å°±ä¼šæŠŠè¿™ä¸ªè·¯å¾„ä¸‹çš„æ–‡ä»¶éƒ½æ‹·è´åˆ°è¾“å‡ºåçš„ç›®å½•ï¼Œä»è€Œèƒ½å¤Ÿå‡†ç¡®å¼•ç”¨è¿™äº›åŠ¨æ€å›¾ç‰‡ã€‚wepy.config.js é…ç½®ï¼š 123module.exports = &#123; static: [&#x27;src/images/static&#x27;],&#125; é¡µé¢ï¼š 12345678910111213141516&lt;template&gt; &lt;view&gt; &lt;image :src=&quot;&#x27;../images/static/&#x27; + fileType + &#x27;.png&#x27;&quot;&gt;&lt;/image&gt; &lt;image :src=&quot;imgSrc&quot;&gt;&lt;/image&gt; &lt;/view&gt;&lt;/template&gt;&lt;script&gt; wepy.page(&#123; data: &#123; imgSrc: &#x27;&#x27;, &#125;, onLoad() &#123; this.imgSrc = &#x27;/images/static/icon.png&#x27; &#125; &#125;)&lt;/script&gt; é™æ€å›¾ç‰‡ç‰¹æ®Šå¤„ç†ï¼šå•ç‹¬æ”¾åˆ°ä¸€ä¸ªç›®å½•é‡Œï¼Œç„¶åå†WePY.config.jsé‡Œé…ç½®static scssé‡Œå¦‚æœå¼•å…¥.wxssæ–‡ä»¶ä¼šç›´æ¥ç»ˆæ­¢ç¼–è¯‘è¿›ç¨‹ä¸‹é¢çš„ä»£ç æ˜¯ä¸€ä¸ªé¡µé¢çš„ scss æ ·å¼é‡Œï¼Œå¼•å…¥äº† wxss æ–‡ä»¶ï¼Œæœ€ç»ˆä¼šå¯¼è‡´ç¼–è¯‘è¿›ç¨‹ç»ˆæ­¢ã€‚ 1234&lt;style lang=&quot;scss&quot; type=&quot;text/scss&quot;&gt; @import &quot;./btn.scss&quot;; @import &quot;./styles/common.wxss&quot;;&lt;/style&gt; è§£å†³åŠæ³•ï¼š 123456&lt;style lang=&quot;scss&quot; type=&quot;text/scss&quot;&gt; @import &quot;./btn.scss&quot;;&lt;/style&gt;&lt;style lang=&quot;wxss&quot; type=&quot;text/wxss&quot;&gt; @import &quot;./styles/common.wxss&quot;;&lt;/style&gt; scssæ ·å¼é‡Œå­˜åœ¨ç‰¹æ®Šå­—ç¬¦ä¼šå¯¼è‡´ç¼–è¯‘æŠ¥é”™ï¼ˆå‘ï¼‰è¿™é‡Œçš„ç‰¹æ®Šå­—ç¬¦å…¶å®ä¹Ÿæ˜¯æ­£å¸¸çš„éœ€æ±‚ï¼Œæ¯”å¦‚å¼•å…¥äº†å­—ä½“å›¾æ ‡ï¼Œé‚£å¯èƒ½ä¼šæœ‰è¿™ç§æ ·å¼ content: &#39;\\6499&#39;, ç„¶åå› ä¸ºæœ‰åæ–œæ ä¼šç›´æ¥å¯¼è‡´æŠ¥é”™ç¼–è¯‘é”™è¯¯ã€‚è§£å†³æ€è·¯æ˜¯æŠŠè¿™ç§å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦çš„æ ·å¼æ”¾åˆ° wxss é‡Œï¼Œç„¶åé€šè¿‡å¦å¤–ä¸€ä¸ª style å¼•å…¥è¿›æ¥ï¼Œç¼–è¯‘å™¨è¿›è¡Œç¼–è¯‘çš„æ—¶å€™ä¼šå¯¹ scss æ ·å¼è¿›è¡Œç¼–è¯‘å¤„ç†ï¼Œä½†æ˜¯å¯¹äº wxss ä¼šç›´æ¥æ‹·è´åˆ°è¾“å…¥ç›®å½•ï¼Œè€Œä¸è¿›è¡Œç¼–è¯‘å¤„ç†ï¼Œæ‰€ä»¥èƒ½ç»•è¿‡è¿™ä¸ªå‘ã€‚ 123456789&lt;style lang=&quot;scss&quot; type=&quot;text/scss&quot;&gt; @import &quot;./btn.scss&quot;;&lt;/style&gt;&lt;style lang=&quot;wxss&quot; type=&quot;text/wxss&quot;&gt; .icon-success::after &#123; content: &#x27;\\e8921&#x27;; color: green; &#125;&lt;/style&gt; æ•°æ®ç»‘å®šæœºåˆ¶è°ƒæ•´1.7.2 ä¸­ç”¨è„æ£€æŸ¥è¿›è¡Œæ•°æ®ç»‘å®šï¼Œé€šè¿‡ $apply() æ–¹æ³•ä½¿å¾—æ•°æ®èƒ½å¤ŸåŠæ—¶æ›´æ–°ï¼Œé¡µé¢é‡æ–°æ¸²æŸ“ã€‚åœ¨ 2.x ä¸­ä½¿ç”¨äº† Vue Observer å®ç°æ•°æ®ç»‘å®šï¼Œå‘Šåˆ« $apply()ï¼Œä½†æ˜¯é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼ŒæŸä¸ªæ•°ç»„é¡¹çš„æŸä¸ªå±æ€§æ›´æ–°åï¼Œæ•°ç»„è™½ç„¶æ˜¯æ›´æ–°äº†ï¼Œä½†æ˜¯ä¸èƒ½å¤Ÿè§¦å‘é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå³ä½¿ä½¿ç”¨ splice ä¹Ÿä¸è¡Œã€‚ä¸è¿‡å¯ä»¥é€šè¿‡æµ…æ‹·è´ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œé‡æ–°èµ‹å€¼ï¼Œä»è€Œè§¦å‘é¡µé¢é‡æ–°æ¸²æŸ“ã€‚ 123456789101112131415161718192021wepy.page(&#123; data: &#123; list: [&#123; name: &#x27;aaa&#x27;, hasBorder: true, &#125;, &#123; name: &#x27;bbb&#x27;, hasBorder: false, &#125;] &#125;, methods: &#123; handleClick() &#123; this.list[1].hasBorder = true // ä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ this.list.splice(1, 1, &#123; // ä¹Ÿä¸ä¼šé‡æ–°æ¸²æŸ“é¡µé¢ name: &#x27;bbb&#x27;, hasBorder: true, &#125;) this.list = [...this.list] // æµ…æ‹·è´ï¼Œä½¿å¾—this.listçš„å¼•ç”¨åœ°å€å˜åŒ–äº†ï¼Œä½¿å¾—é¡µé¢é‡æ–°æ¸²æŸ“ &#125; &#125;&#125;)","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://bubuzou.com/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å°ç¨‹åºã€wepy","slug":"å°ç¨‹åºã€wepy","permalink":"https://bubuzou.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%81wepy/"}]},{"title":"JavaScriptä¸­çš„æ•°æ®ç±»å‹","slug":"js-datatype","date":"2020-07-29T06:11:02.000Z","updated":"2020-07-29T08:14:17.456Z","comments":true,"path":"2020/07/29/js-datatype/","link":"","permalink":"https://bubuzou.com/2020/07/29/js-datatype/","excerpt":"JavaScriptä¸­æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿè®¡ç®—æœºä¸–ç•Œä¸­å®šä¹‰çš„æ•°æ®ç±»å‹å…¶å®å°±æ˜¯ä¸ºäº†æè¿°ç°å®ä¸–ç•Œä¸­å­˜åœ¨çš„äº‹å®è€Œå®šä¹‰çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨äººæ¥ä¸¾ä¾‹ï¼š æœ‰æ²¡æœ‰äººåœ¨æˆ¿é—´é‡Œï¼Ÿè¿™é‡Œçš„æœ‰å’Œæ²¡æœ‰å°±æ˜¯æ˜¯æˆ–è€…éçš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­å¯¹åº” Boolean ç±»å‹ï¼Œtrue è¡¨ç¤ºæ˜¯ï¼Œfalse è¡¨ç¤ºéï¼› æœ‰å‡ ä¸ªäººåœ¨æˆ¿é—´é‡Œï¼Ÿè¿™é‡Œçš„å‡ ä¸ªè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªé‡çº§æ¦‚å¿µï¼Œåœ¨ JS ä¸­å¯¹åº” Number ç±»å‹ï¼ŒåŒ…å«æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„å€¼ï¼Œæ¯”å¦‚ï¼š-Infinity è¡¨ç¤ºè´Ÿæ— ç©·å¤§ã€+Infinity è¡¨ç¤ºæ­£æ— ç©·å¤§ã€NaN è¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼› æˆ¿é—´é‡Œçš„è¿™äº›äººéƒ½æ˜¯æˆ‘çš„æœ‹å‹ã€‚è¿™æ˜¯ä¸€å¥é™ˆè¿°è¯­å¥ï¼Œè¿™ç§æ–‡æœ¬ç±»çš„ä¿¡æ¯å°†ä¼šä»¥å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œå­˜å‚¨ï¼Œåœ¨ JS ä¸­å¯¹åº” String ç±»å‹ï¼› æˆ¿é—´é‡Œæ²¡æœ‰äººã€‚è¿™é‡Œçš„æ²¡æœ‰ä»£è¡¨æ— å’Œç©ºçš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­ null å’Œ undefined éƒ½å¯ä»¥è¡¨ç¤ºè¿™ä¸ªæ„æ€ï¼› ç°å®ä¸–ç•Œä¸­æ‰€æœ‰äººéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè¿™åœ¨ JS ä¸­å¯¹åº” Symbol ç±»å‹ï¼Œè¡¨ç¤ºå”¯ä¸€ä¸”ä¸å¯æ”¹å˜ï¼› Number æ‰€è¡¨ç¤ºçš„æ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ï¼Œè¶…å‡ºèŒƒå›´çš„æ•°æ®å°±æ²¡æ³•ç”¨ Number è¡¨ç¤ºäº†ï¼Œäºæ˜¯ ES10 ä¸­æå‡ºäº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼Œèƒ½è¡¨ç¤ºä»»ä½•ä½æ•°çš„æ•´æ•°ï¼› ä»¥ä¸Šæåˆ°çš„ Booleanã€Numberã€Stringã€nullã€undefinedã€Symbol å’Œ BigInt ç­‰7ç§ç±»å‹éƒ½æ˜¯ JavaScript ä¸­çš„åŸå§‹ç±»å‹ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯éåŸå§‹ç±»å‹å«åšå¯¹è±¡ç±»å‹ï¼›æ¯”å¦‚ï¼šä¸€ä¸ªäººæ˜¯å¯¹è±¡ï¼Œè¿™ä¸ªäººæœ‰åå­—ã€æ€§åˆ«ã€å¹´é¾„ç­‰ï¼› 12345let person = &#123; name: &#x27;bubuzou&#x27;, sex: &#x27;male&#x27;, age: 26,&#125;","text":"JavaScriptä¸­æœ‰å“ªäº›æ•°æ®ç±»å‹ï¼Ÿè®¡ç®—æœºä¸–ç•Œä¸­å®šä¹‰çš„æ•°æ®ç±»å‹å…¶å®å°±æ˜¯ä¸ºäº†æè¿°ç°å®ä¸–ç•Œä¸­å­˜åœ¨çš„äº‹å®è€Œå®šä¹‰çš„ã€‚æ¯”å¦‚æˆ‘ä»¬ç”¨äººæ¥ä¸¾ä¾‹ï¼š æœ‰æ²¡æœ‰äººåœ¨æˆ¿é—´é‡Œï¼Ÿè¿™é‡Œçš„æœ‰å’Œæ²¡æœ‰å°±æ˜¯æ˜¯æˆ–è€…éçš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­å¯¹åº” Boolean ç±»å‹ï¼Œtrue è¡¨ç¤ºæ˜¯ï¼Œfalse è¡¨ç¤ºéï¼› æœ‰å‡ ä¸ªäººåœ¨æˆ¿é—´é‡Œï¼Ÿè¿™é‡Œçš„å‡ ä¸ªè¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªé‡çº§æ¦‚å¿µï¼Œåœ¨ JS ä¸­å¯¹åº” Number ç±»å‹ï¼ŒåŒ…å«æ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„å€¼ï¼Œæ¯”å¦‚ï¼š-Infinity è¡¨ç¤ºè´Ÿæ— ç©·å¤§ã€+Infinity è¡¨ç¤ºæ­£æ— ç©·å¤§ã€NaN è¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼› æˆ¿é—´é‡Œçš„è¿™äº›äººéƒ½æ˜¯æˆ‘çš„æœ‹å‹ã€‚è¿™æ˜¯ä¸€å¥é™ˆè¿°è¯­å¥ï¼Œè¿™ç§æ–‡æœ¬ç±»çš„ä¿¡æ¯å°†ä¼šä»¥å­—ç¬¦ä¸²å½¢å¼è¿›è¡Œå­˜å‚¨ï¼Œåœ¨ JS ä¸­å¯¹åº” String ç±»å‹ï¼› æˆ¿é—´é‡Œæ²¡æœ‰äººã€‚è¿™é‡Œçš„æ²¡æœ‰ä»£è¡¨æ— å’Œç©ºçš„æ¦‚å¿µï¼Œåœ¨ JS ä¸­ null å’Œ undefined éƒ½å¯ä»¥è¡¨ç¤ºè¿™ä¸ªæ„æ€ï¼› ç°å®ä¸–ç•Œä¸­æ‰€æœ‰äººéƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œè¿™åœ¨ JS ä¸­å¯¹åº” Symbol ç±»å‹ï¼Œè¡¨ç¤ºå”¯ä¸€ä¸”ä¸å¯æ”¹å˜ï¼› Number æ‰€è¡¨ç¤ºçš„æ•´æ•°æ˜¯æœ‰èŒƒå›´çš„ï¼Œè¶…å‡ºèŒƒå›´çš„æ•°æ®å°±æ²¡æ³•ç”¨ Number è¡¨ç¤ºäº†ï¼Œäºæ˜¯ ES10 ä¸­æå‡ºäº†ä¸€ç§æ–°çš„æ•°æ®ç±»å‹ BigIntï¼Œèƒ½è¡¨ç¤ºä»»ä½•ä½æ•°çš„æ•´æ•°ï¼› ä»¥ä¸Šæåˆ°çš„ Booleanã€Numberã€Stringã€nullã€undefinedã€Symbol å’Œ BigInt ç­‰7ç§ç±»å‹éƒ½æ˜¯ JavaScript ä¸­çš„åŸå§‹ç±»å‹ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯éåŸå§‹ç±»å‹å«åšå¯¹è±¡ç±»å‹ï¼›æ¯”å¦‚ï¼šä¸€ä¸ªäººæ˜¯å¯¹è±¡ï¼Œè¿™ä¸ªäººæœ‰åå­—ã€æ€§åˆ«ã€å¹´é¾„ç­‰ï¼› 12345let person = &#123; name: &#x27;bubuzou&#x27;, sex: &#x27;male&#x27;, age: 26,&#125; ä¸ºä»€ä¹ˆè¦åŒºåˆ†åŸå§‹ç±»å‹å’Œå¯¹è±¡ç±»å‹ï¼Ÿä»–ä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŸåŸå§‹ç±»å‹çš„ä¸å¯å˜æ€§åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹å˜é‡åœ¨å†…å­˜ä¸­æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼š 123let name1 = &#x27;bubuzou&#x27;let name2 = name1.concat(&#x27;.com&#x27;)console.log(name1) // &#x27;bubuzou&#x27; æ‰§è¡Œå®Œä¸Šé¢è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å‘ç°å˜é‡ name1 çš„å€¼è¿˜æ˜¯ä¸å˜ï¼Œä¾ç„¶æ˜¯ bubuzouã€‚è¿™å°±è¯´æ˜äº†å­—ç¬¦ä¸²çš„ä¸å¯å˜æ€§ã€‚ä½†æ˜¯ä½ çœ‹äº†ä¸‹é¢çš„è¿™æ®µä»£ç ï¼Œä½ å°±ä¼šäº§ç”Ÿç–‘é—®äº†ï¼š 123let name1 = &#x27;bubuzou&#x27;name1 += &#x27;.com&#x27;console.log(name1) // &#x27;bubuzou.com&#x27; ä½ è¯´å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œé‚£ç°åœ¨ä¸æ˜¯å˜äº†å˜›ï¼Ÿå…¶å®è¿™åªæ˜¯å˜é‡çš„å€¼å˜äº†ï¼Œä½†æ˜¯å­˜åœ¨å†…å­˜ä¸­çš„å­—ç¬¦ä¸²ä¾ç„¶ä¸å˜ã€‚è¿™å°±æ¶‰åŠåˆ°å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨äº†ã€‚åœ¨ JavaScript ä¸­ï¼Œå˜é‡åœ¨å†…å­˜ä¸­æœ‰2ç§å­˜å‚¨æ–¹å¼ï¼šå­˜åœ¨æ ˆä¸­å’Œå­˜åœ¨å †ä¸­ã€‚é‚£ä¹ˆæ ˆå†…å­˜å’Œå †å†…å­˜æœ‰å•¥åŒºåˆ«å‘¢ï¼Ÿ æ ˆå†…å­˜ï¼š é¡ºåºå­˜å‚¨ç»“æ„ï¼Œç‰¹ç‚¹æ˜¯å…ˆè¿›åå‡ºã€‚å°±åƒä¸€ä¸ªå…µä¹’çƒç›’å­ä¸€æ ·ï¼Œå…µä¹’çƒä»å¤–é¢ä¸€ä¸ªä¸ªçš„æ”¾å…¥ç›’å­é‡Œï¼Œæœ€å…ˆå–å‡ºæ¥çš„ä¸€å®šæ˜¯æœ€åæ”¾å…¥ç›’å­çš„é‚£ä¸ªã€‚ å­˜å‚¨ç©ºé—´å›ºå®š å¯ä»¥ç›´æ¥æ“ä½œå…¶ä¿å­˜çš„å€¼ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ å †å†…å­˜ï¼š æ— åºçš„å­˜å‚¨ç»“æ„ å­˜å‚¨ç©ºé—´å¯ä»¥åŠ¨æ€å˜åŒ– æ— æ³•ç›´æ¥æ“ä½œå…¶å†…éƒ¨çš„å­˜å‚¨ï¼Œéœ€è¦é€šè¿‡å¼•ç”¨åœ°å€æ“ä½œ äº†è§£å®Œå˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼æœ‰2ç§ï¼Œé‚£æˆ‘ä»¬ç»§ç»­ä»¥ä¸Šé¢é‚£ä¸²ä»£ç ä¸ºä¾‹ï¼Œç”»å‡ºå˜é‡çš„å­˜å‚¨ç»“æ„å›¾ï¼šç„¶åæˆ‘ä»¬å¯ä»¥æè¿°ä¸‹å½“è®¡ç®—æœºæ‰§è¡Œè¿™æ®µä»£ç æ—¶å€™çš„å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿé¦–å…ˆå®šä¹‰äº†ä¸€ä¸ªå˜é‡ name1 å¹¶ä¸”ç»™å…¶èµ‹å€¼ bubuzou è¿™ä¸ªæ—¶å€™å°±ä¼šåœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´ç”¨æ¥å­˜å‚¨å­—ç¬¦ä¸² bubuzouï¼Œç„¶åå˜é‡æŒ‡å‘äº†è¿™ä¸ªå†…å­˜ç©ºé—´ã€‚ç„¶åå†æ‰§è¡Œç¬¬äºŒè¡Œä»£ç  let name2 = name1.concat(&#39;.com&#39;) è¿™é‡Œçš„æ‹¼æ¥æ“ä½œå…¶å®æ˜¯äº§ç”Ÿäº†ä¸€ä¸ªæ–°å­—ç¬¦ä¸² bubuzou.comï¼Œæ‰€ä»¥åˆä¼šä¸ºè¿™ä¸ªæ–°å­—ç¬¦ä¸²åˆ›å»ºä¸€å—æ–°å†…å­˜ï¼Œå¹¶ä¸”æŠŠå®šä¹‰çš„å˜é‡ name2 æŒ‡å‘è¿™ä¸ªå†…å­˜åœ°å€ã€‚ æ‰€ä»¥æˆ‘ä»¬çœ‹åˆ°å…¶å®æ•´ä¸ªæ“ä½œ bubuzou è¿™ä¸ªå­—ç¬¦ä¸²æ‰€åœ¨çš„å†…å­˜å…¶å®æ˜¯æ²¡æœ‰å˜åŒ–çš„ï¼Œå³ä½¿åœ¨ç¬¬äºŒæ®µä»£ç ä¸­æ‰§è¡Œäº† name1 += &#39;.com&#39; æ“ä½œï¼Œå…¶å®ä¹Ÿåªæ˜¯å˜é‡ name1 æŒ‡å‘äº†æ–°çš„å­—ç¬¦ä¸² bubuzou.com è€Œå·²ï¼Œæ—§çš„å­—ç¬¦ä¸² bubuzou ä¾ç„¶å­˜åœ¨å†…å­˜ä¸­ï¼Œä¸è¿‡ä¸€æ®µæ—¶é—´åç”±äºè¯¥å­—ç¬¦ä¸²æ²¡æœ‰è¢«å˜é‡æ‰€å¼•ç”¨ï¼Œæ‰€ä»¥ä¼šè¢«å½“æˆåƒåœ¾è¿›è¡Œå›æ”¶ï¼Œä»è€Œé‡Šæ”¾æ‰è¯¥å—å†…å­˜ç©ºé—´ã€‚ ä»è€Œæˆ‘ä»¬å¾—å‡ºç»“è®ºï¼šåŸå§‹ç±»å‹çš„å€¼éƒ½æ˜¯å›ºå®šçš„ï¼Œè€Œå¯¹è±¡ç±»å‹åˆ™æ˜¯ç”±åŸå§‹ç±»å‹çš„é”®å€¼å¯¹ç»„åˆæˆä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼›ä»–ä»¬åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼æ˜¯ä¸ä¸€æ ·çš„ï¼ŒåŸå§‹ç±»å‹çš„å€¼ç›´æ¥å­˜åœ¨æ ˆå†…å­˜ä¸­ï¼Œè€Œå¯¹è±¡ç±»å‹çš„å®é™…å€¼æ˜¯å­˜åœ¨å †å†…å­˜ä¸­çš„ï¼Œåœ¨æ ˆå†…å­˜ä¸­ä¿å­˜äº†ä¸€ä»½å¼•ç”¨åœ°å€ï¼Œè¿™ä¸ªåœ°å€æŒ‡å‘å †å†…å­˜ä¸­çš„å®é™…å€¼ï¼Œæ‰€ä»¥å¯¹è±¡ç±»å‹åˆä¹ æƒ¯è¢«å«åšå¼•ç”¨ç±»å‹ã€‚ æƒ³ä¸€ä¸ªé—®é¢˜ä¸ºä»€ä¹ˆå¼•ç”¨ç±»å‹çš„å€¼è¦å­˜å‚¨åˆ°å †å†…å­˜ä¸­ï¼Ÿèƒ½ä¸èƒ½å­˜åˆ°æ ˆå†…å­˜ä¸­å‘¢ï¼Ÿç­”æ¡ˆä¸€ï¼šå› ä¸ºå¼•ç”¨ç±»å‹å¤§å°ä¸å›ºå®šï¼Œè€Œæ ˆçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå †ç©ºé—´çš„å¤§å°æ˜¯å¯ä»¥åŠ¨æ€å˜åŒ–çš„ï¼Œæ‰€ä»¥å¼•ç”¨ç±»å‹çš„å€¼é€‚åˆå­˜åœ¨å †ä¸­ï¼›ç­”æ¡ˆäºŒï¼šåœ¨ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦é¢‘ç¹çš„åˆ‡æ¢æ‰§è¡Œä¸Šä¸‹æ–‡çš„æ—¶å€™ï¼Œå¦‚æœæŠŠå¼•ç”¨ç±»å‹çš„å€¼å­˜åˆ°æ ˆä¸­ï¼Œå°†ä¼šé€ æˆéå¸¸å¤§çš„å†…å­˜å¼€é”€ã€‚ æ¯”è¾ƒå½“æˆ‘ä»¬å¯¹ä¸¤ä¸ªå˜é‡è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œä¸åŒç±»å‹çš„å˜é‡æ˜¯æœ‰ä¸åŒè¡¨ç°çš„ï¼š 1234567891011let str1 = &#x27;hello&#x27;let str2 = &#x27;hello&#x27;console.log( str1 === str2 ) // truelet person1 = &#123; name: &#x27;bubuzou&#x27;&#125;let person2 = &#123; name: &#x27;bubuzou&#x27;&#125;console.log( person1 === person2 ) // false æˆ‘ä»¬å®šä¹‰äº†2ä¸ªå­—ç¬¦ä¸²å˜é‡å’Œ2ä¸ªå¯¹è±¡å˜é‡ï¼Œä»–ä»¬éƒ½é•¿ä¸€æ¨¡ä¸€æ ·ï¼Œä½†æ˜¯å­—ç¬¦ä¸²å˜é‡ä¼šç›¸ç­‰ï¼Œå¯¹è±¡å˜é‡å´ä¸ç›¸ç­‰ã€‚è¿™æ˜¯å› ä¸ºåœ¨ JavaScript ä¸­ï¼ŒåŸå‹ç±»å‹è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™æ¯”è¾ƒçš„æ˜¯å­˜åœ¨æ ˆä¸­çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼›è€Œå¼•ç”¨ç±»å‹è¿›è¡Œæ¯”è¾ƒçš„æ—¶å€™ï¼Œæ˜¯æ¯”è¾ƒæ ˆå†…å­˜ä¸­çš„å¼•ç”¨åœ°å€æ˜¯å¦ç›¸ç­‰ã€‚å¦‚ä¸Šå‡ ä¸ªå˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ¨¡å‹å¦‚å›¾æ‰€ç¤ºï¼š å¤åˆ¶å˜é‡è¿›è¡Œå¤åˆ¶çš„æ—¶å€™ï¼ŒåŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹å˜é‡ä¹Ÿæ˜¯æœ‰åŒºåˆ«çš„ï¼Œæ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š 1234let str1 = &#x27;hello&#x27;let str2 = str1str2 = &#x27;world&#x27;console.log( str1 ) // &#x27;hello&#x27; let str1 = &#39;hello&#39;: å¤åˆ¶å‰ï¼Œå®šä¹‰äº†ä¸€ä¸ªå˜é‡ str1ï¼Œå¹¶ä¸”ç»™å…¶èµ‹å€¼ helloï¼Œè¿™ä¸ªæ—¶å€™ hello è¿™ä¸ªå­—ç¬¦ä¸²å°±ä¼šåœ¨æ ˆå†…å­˜ä¸­è¢«åˆ†é…ä¸€å—ç©ºé—´è¿›è¡Œå­˜å‚¨ï¼Œç„¶åå˜é‡ str1 ä¼šæŒ‡å‘è¿™ä¸ªå†…å­˜åœ°å€ï¼› let str2 = str1ï¼šå¤åˆ¶åï¼ŒæŠŠ str1 çš„å€¼èµ‹å€¼ç»™ str2ï¼Œè¿™ä¸ªæ—¶å€™ä¼šåœ¨æ ˆä¸­æ–°å¼€è¾Ÿä¸€å—ç©ºé—´ç”¨æ¥å­˜å‚¨ str2 çš„å€¼ï¼› str2 = &#39;world&#39;ï¼šç»™ str2 èµ‹å€¼äº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸² worldï¼Œé‚£ä¹ˆå°†æ–°å»ºä¸€å—å†…å­˜ç”¨æ¥å­˜å‚¨ worldï¼ŒåŒæ—¶ str2 åŸæ¥çš„å€¼ hello çš„å†…å­˜ç©ºé—´å› ä¸ºæ²¡æœ‰å˜é‡æ‰€å¼•ç”¨ï¼Œæ‰€ä»¥ä¸€æ®µæ—¶é—´åå»ºè¢«å½“æˆåƒåœ¾å›æ”¶ï¼› console.log( str1 )ï¼šå› ä¸º str1 å’Œ str2 çš„æ ˆå†…å­˜åœ°å€æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥å³ä½¿ str2 çš„å€¼è¢«æ”¹å˜ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ° str1ã€‚ ç„¶åæˆ‘ä»¬ç»§ç»­å¾€ä¸‹ï¼Œçœ‹ä¸‹å¼•ç”¨ç±»å‹çš„å¤åˆ¶ï¼š 1234567let person1 &#x3D; &#123; name: &#39;bubuzou&#39;, age: 20&#125;let person2 &#x3D; person1person2.name &#x3D; &#39;bubuzou.com&#39;console.log( person1.name) &#x2F;&#x2F; &#39;bubuzou.com&#39; åŸå§‹ç±»å‹è¿›è¡Œå¤åˆ¶çš„æ—¶å€™æ˜¯å˜é‡çš„å€¼è¿›è¡Œé‡æ–°èµ‹å€¼ï¼Œè€Œå¦‚ä¸Šå›¾æ‰€ç¤ºï¼šå¼•ç”¨ç±»å‹è¿›è¡Œå¤åˆ¶çš„æ—¶å€™æ˜¯æŠŠå˜é‡æ‰€æŒ‡å‘çš„å¼•ç”¨åœ°å€è¿›è¡Œèµ‹å€¼ç»™æ–°çš„å˜é‡ï¼Œæ‰€ä»¥å¤åˆ¶å person1 å’Œ person2 éƒ½æŒ‡å‘å †å†…å­˜ä¸­çš„åŒä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥å½“æ”¹å˜ person2.name çš„æ—¶å€™ï¼Œ person1.name ä¹Ÿä¼šè¢«æ”¹å˜å°±æ˜¯è¿™ä¸ªåŸå› ã€‚ å€¼ä¼ é€’å’Œå¼•ç”¨ä¼ é€’å…ˆè¯´ä¸€ä¸‹ç»“è®ºï¼Œåœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰å‡½æ•°çš„å‚æ•°ä¼ é€’éƒ½æ˜¯æŒ‰å€¼è¿›è¡Œä¼ é€’çš„ã€‚çœ‹å¦‚ä¸‹ä»£ç ï¼š 123456let name = &#x27;bubuzou&#x27;function changeName(name) &#123; name = &#x27;bubuzou.com&#x27;&#125;changeName(name)console.log( name ) // &#x27;bubuzou&#x27; å®šä¹‰äº†ä¸€ä¸ªå˜é‡ nameï¼Œå¹¶èµ‹å€¼ä¸º bubuzouï¼Œå‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼ å…¥ nameï¼Œè¿™ä¸ªæ—¶å€™ä¼šåœ¨å‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªå±€éƒ¨å˜é‡ name å¹¶ä¸”æŠŠå…¨å±€å˜é‡çš„å€¼ bubuzou ä¼ é€’ç»™ä»–ï¼Œè¿™ä¸ªæ“ä½œå…¶å®æ˜¯åœ¨å†…å­˜é‡Œæ–°å»ºäº†ä¸€å—ç©ºé—´ç”¨æ¥å­˜æ”¾å±€éƒ¨å˜é‡çš„å€¼ï¼Œç„¶ååˆæŠŠå±€éƒ¨å˜é‡çš„å€¼æ”¹æˆäº† bubuzou.comï¼Œè¿™ä¸ªæ—¶å€™å…¶å®å†…å­˜ä¸­ä¼šæœ‰3å—åœ°å€ç©ºé—´åˆ†åˆ«ç”¨æ¥å­˜æ”¾å…¨å±€å˜é‡çš„å€¼ bubuzouã€å±€éƒ¨å˜é‡åŸæ¥çš„å€¼ bubuzouã€å’Œå±€éƒ¨å˜é‡æ–°çš„å€¼ bubuzou.comï¼›ä¸€æ—¦å‡½æ•°è°ƒç”¨ç»“æŸï¼Œå±€éƒ¨å˜é‡å°†è¢«é”€æ¯ï¼Œä¸€æ®µæ—¶é—´åç”±äºå±€éƒ¨å˜é‡æ–°æ—§å€¼æ²¡æœ‰å˜é‡å¼•ç”¨ï¼Œé‚£è¿™ä¸¤å—ç©ºé—´å°†è¢«å›æ”¶é‡Šæ”¾ï¼›æ‰€ä»¥è¿™ä¸ªæ—¶å€™å…¨å±€ name çš„å€¼ä¾ç„¶æ˜¯ bubuzouã€‚ å†æ¥çœ‹çœ‹å¼•ç”¨ç±»å‹çš„ä¼ å‚ï¼Œä¼šä¸ä¼šæœ‰æ‰€ä¸åŒå‘¢ï¼Ÿ 12345678let person = &#123; name: &#x27;bubuzou&#x27;&#125;function changePerosn(person) &#123; person.name = &#x27;bubuzou.com&#x27;&#125;changePerosn( person )console.log( person.name ) // &#x27;bubuzou.com&#x27; å¼•ç”¨ç±»å‹è¿›è¡Œå‡½æ•°ä¼ å‚çš„æ—¶å€™ï¼Œä¼šæŠŠå¼•ç”¨åœ°å€å¤åˆ¶ç»™å±€éƒ¨å˜é‡ï¼Œæ‰€ä»¥å…¨å±€çš„ person å’Œå‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ person æ˜¯æŒ‡å‘åŒä¸€ä¸ªå †åœ°å€çš„ï¼Œæ‰€ä»¥ä¸€æ—¦ä¸€æ–¹æ”¹å˜ï¼Œå¦ä¸€æ–¹ä¹Ÿå°†è¢«æ”¹å˜ï¼Œæ‰€ä»¥è‡³æ­¤æˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥ä¸‹ç»“è®ºè¯´ï¼šå½“å‡½æ•°è¿›è¡Œä¼ å‚çš„æ—¶å€™å¦‚æœå‚æ•°æ˜¯å¼•ç”¨ç±»å‹é‚£ä¹ˆå°±æ˜¯å¼•ç”¨ä¼ é€’å˜›ï¼Ÿ å°†ä¸Šé¢çš„ä¾‹å­æ”¹é€ ä¸‹ï¼š 1234567891011let person = &#123; name: &#x27;bubuzou&#x27;&#125;function changePerosn(person) &#123; person.name = &#x27;bubuzou.com&#x27; person = &#123; name: &#x27;hello world&#x27; &#125;&#125;changePerosn( person ) console.log( person.name ) // &#x27;bubuzou.com&#x27; å¦‚æœ person æ˜¯å¼•ç”¨ä¼ é€’çš„è¯ï¼Œé‚£å°±ä¼šè‡ªåŠ¨æŒ‡å‘å€¼è¢«æ”¹ä¸º hello world çš„æ–°å¯¹è±¡ï¼›äº‹å®ä¸Šå…¨å±€å˜é‡ person çš„å¼•ç”¨åœ°å€è‡ªå§‹è‡³ç»ˆéƒ½æ²¡æœ‰æ”¹å˜ï¼Œå€’æ˜¯å±€éƒ¨å˜é‡ person çš„å¼•ç”¨åœ°å€å‘ç”Ÿäº†æ”¹å˜ã€‚ null å’Œ undefined å‚»å‚»åˆ†ä¸æ¸…ï¼Ÿnull åœ¨ JavaScript ä¸­è‡ªæˆä¸€ç§åŸå§‹ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼ nullï¼Œè¡¨ç¤ºæ— ã€ç©ºã€å€¼æœªçŸ¥ç­‰ç‰¹æ®Šå€¼ã€‚å¯ä»¥ç›´æ¥ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼ä¸º nullï¼š 1let s = null undefined å’Œ null ä¸€æ ·ä¹Ÿæ˜¯è‡ªæˆä¸€ç§åŸå§‹ç±»å‹ï¼Œè¡¨ç¤ºå®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™è¿™ä¸ªå˜é‡çš„å€¼å°±æ˜¯ undefined: 12let sconsole.log( s) // undefined è™½ç„¶å¯ä»¥ç»™å˜é‡ç›´æ¥èµ‹å€¼ä¸º undefined ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯åŸåˆ™ä¸Šå¦‚æœä¸€ä¸ªå˜é‡å€¼æœªå®šï¼Œæˆ–è€…è¡¨ç¤ºç©ºï¼Œåˆ™ç›´æ¥èµ‹å€¼ä¸º null æ¯”è¾ƒåˆé€‚ï¼Œä¸å»ºè®®ç»™å˜é‡èµ‹å€¼ undefinedã€‚null å’Œ undefined åœ¨è¿›è¡Œé€»è¾‘åˆ¤æ–­çš„æ—¶å€™éƒ½æ˜¯ä¼šè¿”å› false çš„ï¼š 12let a = null, bconsole.log( a ? &#x27;a&#x27; : b ? &#x27;b&#x27; : &#x27;c&#x27;) // &#x27;c&#x27; null åœ¨è½¬æˆæ•°å­—ç±»å‹çš„æ—¶å€™ä¼šå˜æˆ 0ï¼Œè€Œ undefined ä¼šå˜æˆ NaN: 123let a = null, bconsole.log( +null ) // 0console.log( + b ) // NaN è®¤è¯†æ–°çš„åŸå§‹ç±»å‹ SymbolSymbol å€¼è¡¨ç¤ºå”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ˜¯ ES6 ä¸­æ–°å¼•è¿›çš„ä¸€ç§åŸå§‹ç±»å‹ã€‚å¯ä»¥é€šè¿‡ Symbol() æ¥åˆ›å»ºä¸€ä¸ªé‡è¦çš„å€¼ï¼Œä¹Ÿå¯ä»¥ä¼ å…¥æè¿°å€¼ï¼›å…¶å”¯ä¸€æ€§ä½“ç°åœ¨å³ä½¿æ˜¯ä¼ å…¥ä¸€æ ·çš„æè¿°ï¼Œä»–ä»¬ä¸¤è€…ä¹‹é—´ä¹Ÿæ˜¯ä¸ä¼šç›¸ç­‰çš„ï¼š 123let a = Symbol(&#x27;bubuzou&#x27;)let b = Symbol(&#x27;bubuzou&#x27;)console.log( a === b ) // false å…¨å±€çš„ Symbolé‚£è¿˜æ˜¯ä¸æ˜¯ä»»æ„2ä¸ªæè¿°ä¸€æ ·çš„ Symbol éƒ½æ˜¯ä¸ç›¸ç­‰çš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚å¯ä»¥é€šè¿‡ Symbol.for() æ¥æŸ¥æ‰¾æˆ–æ–°å»ºä¸€ä¸ª Symbolï¼š 123let a = Symbol.for(&#x27;bubuzou&#x27;)let b = Symbol.for(&#x27;bubuzou&#x27;)console.log( a === b ) // true ä½¿ç”¨ Symbol.for() å¯ä»¥åœ¨æ ¹æ®ä¼ å…¥çš„æè¿°åœ¨å…¨å±€èŒƒå›´å†…è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™æ–°å»ºä¸€ä¸ª Symbolï¼Œå¹¶ä¸”è¿”å›ï¼›æ‰€ä»¥å½“æ‰§è¡Œç¬¬äºŒè¡Œä»£ç  Symbol.for(&#39;bubuzou&#39;) çš„æ—¶å€™ï¼Œå°±ä¼šæ‰¾åˆ°å…¨å±€çš„é‚£ä¸ªæè¿°ä¸º bubuzou çš„ Symbolï¼Œæ‰€ä»¥è¿™é‡Œ a å’Œ b æ˜¯ä¼šç»å¯¹ç›¸ç­‰çš„ã€‚ å±…ç„¶å¯ä»¥é€šè¿‡æè¿°æ‰¾åˆ° Symbolï¼Œ é‚£æ˜¯å¦å¯ä»¥é€šè¿‡ Symbol æ¥æ‰¾åˆ°æè¿°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä½†æ˜¯å¿…é¡»æ˜¯å…¨å±€çš„ Symbolï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™ä¼šè¿”å› undefined: 123let a = Symbol.for(&#x27;bubuzou&#x27;)let desc = Symbol.keyFor( a )console.log( desc ) // &#x27;bubuzou&#x27; ä½†æ˜¯å¯¹äºä»»ä½•ä¸€ä¸ª Symbol éƒ½æœ‰ä¸€ä¸ªå±æ€§ descriptionï¼Œè¡¨ç¤ºè¿™ä¸ª Symbol çš„æè¿°ï¼š 12let a = Symbol(&#x27;bubuzou&#x27;)console.log( a.description ) // &#x27;bubuzou&#x27; Symbol ä½œä¸ºå¯¹è±¡å±æ€§æˆ‘ä»¬çŸ¥é“å¯¹è±¡çš„å±æ€§é”®å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œä½†æ˜¯ä¸èƒ½æ˜¯ Number æˆ–è€… Booleanï¼›Symbol è¢«è®¾è®¡å‡ºæ¥å…¶å®æœ€å¤§çš„åˆè¡·å°±æ˜¯ç”¨äºå¯¹è±¡çš„å±æ€§é”®ï¼š 12345let age = Symbol(&#x27;20&#x27;)let person = &#123; name: &#x27;bubuzou&#x27;, [age]: &#x27;20&#x27;, // åœ¨å¯¹è±¡å­—é¢é‡ä¸­ä½¿ç”¨ `Symbol` çš„æ—¶å€™éœ€è¦ä½¿ç”¨ä¸­æ‹¬å·åŒ…èµ·æ¥&#125; è¿™é‡Œç»™ person å®šä¹‰äº†ä¸€ä¸ª Symbol ä½œä¸ºå±æ€§é”®çš„å±æ€§ï¼Œè¿™ä¸ªç›¸æ¯”äºç”¨å­—ç¬¦ä¸²ä½œä¸ºå±æ€§é”®æœ‰å•¥å¥½å¤„å‘¢ï¼Ÿæœ€æ˜æ˜¾çš„å¥½å¤„å°±æ˜¯å¦‚æœè¿™ä¸ª person å¯¹è±¡æ˜¯å¤šä¸ªå¼€å‘è€…è¿›è¡Œå¼€å‘ç»´æŠ¤ï¼Œé‚£ä¹ˆå¾ˆå®¹æ˜“å†ç»™ person æ·»åŠ å±æ€§çš„æ—¶å€™å‡ºç°åŒåçš„ï¼Œå¦‚æœæ˜¯ç”¨å­—ç¬¦ä¸²ä½œä¸ºå±æ€§é”®é‚£è‚¯å®šæ˜¯å†²çªäº†ï¼Œä½†æ˜¯å¦‚æœç”¨ Symbol ä½œä¸ºå±æ€§é”®ï¼Œå°±ä¸ä¼šå­˜åœ¨è¿™ä¸ªé—®é¢˜äº†ï¼Œå› ä¸ºå®ƒæ˜¯å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œæ‰€ä»¥å¯ä»¥ä½¿å¯¹è±¡çš„å±æ€§å—åˆ°ä¿æŠ¤ï¼Œä¸ä¼šè¢«æ„å¤–çš„è®¿é—®æˆ–è€…é‡å†™ã€‚ æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœç”¨ Symbol ä½œä¸ºå¯¹è±¡çš„å±æ€§é”®çš„æ—¶å€™ï¼Œfor in ã€Object.getOwnPropertyNamesã€æˆ– Object.keys() è¿™é‡Œå¾ªç¯æ˜¯æ— æ³•è·å– Symbol å±æ€§é”®çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ Object.getOwnPropertySymbols() æ¥è·å–ï¼›åœ¨ä¸Šé¢çš„ä»£ç åŸºç¡€ä¸Šï¼š 123456for (let o in person) &#123; console.log( o ) // &#x27;name&#x27;&#125;console.log (Object.keys( person )) // [&#x27;name&#x27;]console.log(Object.getOwnPropertyNames( person )) // [&#x27;name&#x27;]console.log(Object.getOwnPropertySymbols( person )) // [Symbol(20)] ä½ å¯èƒ½ä¸çŸ¥é“çš„ Number ç±»å‹JavaScript ä¸­çš„æ•°å­—æ¶‰åŠåˆ°äº†ä¸¤ç§ç±»å‹ï¼šä¸€ç§æ˜¯ Number ç±»å‹ï¼Œä»¥ 64 ä½çš„æ ¼å¼ IEEE-754 å­˜å‚¨ï¼Œä¹Ÿè¢«ç§°ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œå°±æ˜¯æˆ‘ä»¬å¹³å¸¸ä½¿ç”¨çš„æ•°å­—ï¼Œå…¶èŒƒå›´æ˜¯ $2^{52}$ åˆ° -$2^{52}$ï¼›ç¬¬äºŒç§ç±»å‹æ˜¯ BigIntï¼Œèƒ½å¤Ÿè¡¨ç¤ºä»»æ„é•¿åº¦çš„æ•´æ•°ï¼ŒåŒ…æ‹¬è¶…å‡º $2^{52}$ åˆ° -$2^{52}$ è¿™ä¸ªèŒƒå›´å¤–çš„æ•°ã€‚è¿™é‡Œæˆ‘ä»¬åªä»‹ç» Number æ•°å­—ã€‚ å¸¸è§„æ•°å­—å’Œç‰¹æ®Šæ•°å­—å¯¹äºä¸€ä¸ªå¸¸è§„çš„æ•°å­—ï¼Œæˆ‘ä»¬ç›´æ¥å†™å³å¯ï¼Œæ¯”å¦‚: 1let age = 20 ä½†æ˜¯è¿˜æœ‰ä¸€ç§ä½æ•°ç‰¹åˆ«å¤šçš„æ•°å­—æˆ‘ä»¬ä¹ æƒ¯ç”¨ç§‘å­¦è®¡æ•°æ³•çš„è¡¨ç¤ºæ–¹æ³•æ¥å†™ï¼š 12let billion = 1000000000;let b = 1e9 ä»¥ä¸Šä¸¤ç§å†™æ³•æ˜¯ä¸€ä¸ªæ„æ€ï¼Œ 1e9 è¡¨ç¤º 1 x $10^9$ï¼›å¦‚æœæ˜¯ 1e-3 è¡¨ç¤º 1 / $10^3$ = 0.001ã€‚åœ¨ JavaScript ä¸­ä¹Ÿå¯ä»¥ç”¨æ•°å­—è¡¨ç¤ºä¸åŒçš„è¿›åˆ¶ï¼Œæ¯”å¦‚ï¼šåè¿›åˆ¶ä¸­çš„ 10 åœ¨ äºŒã€å…«å’Œåå…­è¿›åˆ¶ä¸­å¯ä»¥åˆ†åˆ«è¡¨ç¤ºæˆ 0b1010ã€0o12 å’Œ 0xaï¼›å…¶ä¸­çš„ 0b æ˜¯äºŒè¿›åˆ¶å‰ç¼€ï¼Œ0o æ˜¯å…«è¿›åˆ¶å‰ç¼€ï¼Œè€Œ ox æ˜¯åå…­è¿›åˆ¶çš„å‰ç¼€ã€‚ æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ toString(base) æ–¹æ³•æ¥è¿›è¡Œè¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼Œ base æ˜¯è¿›åˆ¶çš„åŸºæ•°ï¼Œè¡¨ç¤ºå‡ è¿›åˆ¶ï¼Œé»˜è®¤æ˜¯ 10 è¿›åˆ¶çš„ï¼Œä¼šè¿”å›ä¸€ä¸ªè½¬æ¢æ•°å€¼çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚æ¯”å¦‚ï¼š 1234let num = 10console.log( num.toString( 2 )) // &#x27;1010&#x27;console.log( num.toString( 8 )) // &#x27;12&#x27;console.log( num.toString( 16 )) // &#x27;a&#x27; æ•°å­—ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨æ–¹æ³•ï¼Œ10..toString( 2 ) è¿™é‡Œçš„ 2ä¸ª . å·ä¸æ˜¯å†™é”™äº†ï¼Œè€Œæ˜¯å¿…é¡»æ˜¯2ä¸ªï¼Œå¦åˆ™ä¼šæŠ¥ SyntaxError é”™è¯¯ã€‚ç¬¬ä¸€ä¸ªç‚¹è¡¨ç¤ºå°æ•°ç‚¹ï¼Œç¬¬äºŒä¸ªæ‰æ˜¯è°ƒç”¨æ–¹æ³•ã€‚ç‚¹ç¬¦å·é¦–å…ˆä¼šè¢«è®¤ä¸ºæ˜¯æ•°å­—å¸¸é‡çš„ä¸€éƒ¨åˆ†ï¼Œå…¶æ¬¡å†è¢«è®¤ä¸ºæ˜¯å±æ€§è®¿é—®ç¬¦ï¼Œå¦‚æœåªå†™ä¸€ä¸ªç‚¹çš„è¯ï¼Œè®¡ç®—æœºæ— æ³•çŸ¥é“è¿™ä¸ªæ˜¯è¡¨ç¤ºä¸€ä¸ªå°æ•°å‘¢è¿˜æ˜¯å»è°ƒç”¨å‡½æ•°ã€‚æ•°å­—ç›´æ¥è°ƒç”¨å‡½æ•°è¿˜å¯ä»¥æœ‰ä»¥ä¸‹å‡ ç§å†™æ³•ï¼š 123(10).toString(2) // å°†10ç”¨æ‹¬å·åŒ…èµ·æ¥10.0.toString(2) // å°†10å†™æˆ10.0çš„å½¢å¼10 .toString(2) // ç©ºæ ¼åŠ ä¸Šç‚¹ç¬¦å·è°ƒç”¨ Number ç±»å‹é™¤äº†å¸¸è§„æ•°å­—ä¹‹å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ç‰¹æ®Šçš„æ•°å­—ï¼š NaNï¼šè¡¨ç¤ºä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œé€šå¸¸æ˜¯ç”±ä¸åˆç†çš„è®¡ç®—å¯¼è‡´çš„ç»“æœï¼Œæ¯”å¦‚æ•°å­—é™¤ä»¥å­—ç¬¦ä¸² 1 / &#39;a&#39;;NaN å’Œä»»ä½•æ•°è¿›è¡Œæ¯”è¾ƒéƒ½æ˜¯è¿”å› falseï¼ŒåŒ…æ‹¬ä»–è‡ªå·±ï¼š NaN == NaN ä¼šè¿”å› false;å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯ NaN å‘¢ï¼Ÿæœ‰å››ç§æ–¹æ³•ï¼š æ–¹æ³•ä¸€ï¼šé€šè¿‡ isNaN() å‡½æ•°ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šå¯¹ä¼ å…¥çš„å­—ç¬¦ä¸²ä¹Ÿè¿”å› trueï¼Œæ‰€ä»¥åˆ¤æ–­ä¸å‡†ç¡®ï¼Œä¸æ¨èä½¿ç”¨ï¼š 12isNaN( 1 / &#x27;a&#x27;)` // trueisNaN( &#x27;a&#x27; ) // true æ–¹æ³•äºŒï¼šé€šè¿‡ Number.isNaN()ï¼Œæ¨èä½¿ç”¨ï¼š 12Number.isNaN( 1 / &#x27;a&#x27;)` // trueNumber.isNaN( &#x27;a&#x27; ) // false æ–¹æ³•ä¸‰ï¼šé€šè¿‡ Object.is(a, isNaN): 12Object.is( 0/&#x27;a&#x27;, NaN) // trueObject.is( &#x27;a&#x27;, NaN) // false æ–¹æ³•å››ï¼šé€šè¿‡åˆ¤æ–­ n !== nï¼Œè¿”å› trueï¼Œ åˆ™ n æ˜¯ NaN : 12let s = 1/&#x27;a&#x27;console.log( s !== s ) // true +Infinityï¼šè¡¨ç¤ºæ­£æ— ç©·å¤§ï¼Œæ¯”å¦‚ 1/0 è®¡ç®—çš„ç»“æœ, -Infinity è¡¨ç¤ºè´Ÿæ— ç©·å¤§ï¼Œæ¯”å¦‚ -1/0 çš„ç»“æœã€‚ +0 å’Œ -0ï¼ŒJavaScript ä¸­çš„æ•°å­—éƒ½æœ‰æ­£è´Ÿä¹‹åˆ†ï¼ŒåŒ…æ‹¬é›¶ä¹Ÿæ˜¯è¿™æ ·ï¼Œä»–ä»¬ä¼šç»å¯¹ç›¸ç­‰ï¼š 1console.log( +0 === -0 ) // true ä¸ºä»€ä¹ˆ 0.1 + 0.2 ä¸ç­‰äº 0.31console.log( 0.1 + 0.2 == 0.3 ) // false æœ‰æ²¡æœ‰æƒ³è¿‡ä¸ºä»€ä¹ˆä¸Šé¢çš„ä¼šä¸ç›¸ç­‰ï¼Ÿå› ä¸ºæ•°å­—åœ¨ JavaScript å†…éƒ¨æ˜¯ç”¨äºŒè¿›åˆ¶è¿›è¡Œå­˜å‚¨çš„ï¼Œå…¶éµå¾ª IEEE 754 æ ‡å‡†çš„ï¼Œç”¨ 64 ä½æ¥å­˜å‚¨ä¸€ä¸ªæ•°å­—ï¼Œ64 ä½åˆè¢«åˆ†éš”æˆ 1ã€11 å’Œ 52 ä½æ¥åˆ†åˆ«è¡¨ç¤ºç¬¦å·ä½ã€æŒ‡æ•°ä½å’Œå°¾æ•°ä½ã€‚æ¯”å¦‚åè¿›åˆ¶çš„ 0.1 è½¬æˆäºŒè¿›åˆ¶åæ˜¯å¤šå°‘ï¼Ÿæˆ‘ä»¬æ‰‹åŠ¨è®¡ç®—ä¸€ä¸‹ï¼Œåè¿›åˆ¶å°æ•°è½¬äºŒè¿›åˆ¶å°æ•°çš„è§„åˆ™æ˜¯â€œä¹˜2å–æ•´ï¼Œé¡ºåºæ’åˆ—â€ï¼Œå…·ä½“åšæ³•æ˜¯ï¼šç”¨2ä¹˜åè¿›åˆ¶å°æ•°ï¼Œå¯ä»¥å¾—åˆ°ç§¯ï¼Œå°†ç§¯çš„æ•´æ•°éƒ¨åˆ†å–å‡ºï¼Œå†ç”¨2ä¹˜ä½™ä¸‹çš„å°æ•° éƒ¨åˆ†ï¼Œåˆå¾—åˆ°ä¸€ä¸ªç§¯ï¼Œå†å°†ç§¯çš„æ•´æ•°éƒ¨åˆ†å–å‡ºï¼Œå¦‚æ­¤è¿›è¡Œï¼Œç›´åˆ°ç§¯ä¸­çš„å°æ•°éƒ¨åˆ†ä¸ºé›¶ï¼Œæˆ–è€…è¾¾åˆ°æ‰€è¦æ±‚çš„ç²¾åº¦ä¸ºæ­¢ã€‚ 123456780.1 * 2 &#x3D; 0.2 &#x2F;&#x2F; ç¬¬1æ­¥ï¼šæ•´æ•°ä¸º0ï¼Œå°æ•°0.20.2 * 2 &#x3D; 0.4 &#x2F;&#x2F; ç¬¬2æ­¥ï¼šæ•´æ•°ä¸º0ï¼Œå°æ•°0.40.4 * 2 &#x3D; 0.8 &#x2F;&#x2F; ç¬¬3æ­¥ï¼šæ•´æ•°ä¸º0ï¼Œå°æ•°0.80.8 * 2 &#x3D; 1.6 &#x2F;&#x2F; ç¬¬4æ­¥ï¼šæ•´æ•°ä¸º1ï¼Œå°æ•°0.60.6 * 2 &#x3D; 1.2 &#x2F;&#x2F; ç¬¬5æ­¥ï¼šæ•´æ•°ä¸º1ï¼Œå°æ•°0.20.2 * 2 &#x3D; 0.4 &#x2F;&#x2F; ç¬¬6æ­¥ï¼šæ•´æ•°ä¸º0ï¼Œå°æ•°0.40.4 * 2 &#x3D; 0.8 &#x2F;&#x2F; ç¬¬7æ­¥ï¼šæ•´æ•°ä¸º0ï¼Œå°æ•°0.8... æˆ‘ä»¬è¿™æ ·ä¾æ¬¡è®¡ç®—ä¸‹å»ä¹‹åå‘ç°å¾—åˆ°æ•´æ•°çš„é¡ºåºæ’åˆ—æ˜¯ 0001100110011001100.... æ— é™å¾ªç¯ï¼Œæ‰€ä»¥ç†è®ºä¸Šåè¿›åˆ¶çš„ 0.1 è½¬æˆäºŒè¿›åˆ¶åä¼šæ˜¯ä¸€ä¸ªæ— é™å°æ•° 0.0001100110011001100...ï¼Œç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºåå°†æ˜¯ 1.100110011001100... x $2^{-4}$ ï¼Œä½†æ˜¯ç”±äº IEEE 754 æ ‡å‡†è§„å®šäº†ä¸€ä¸ªæ•°å­—çš„å­˜å‚¨ä½æ•°åªèƒ½æ˜¯ 64 ä½ï¼Œæœ‰æ•ˆä½æ•°æ˜¯ 52 ä½ï¼Œæ‰€ä»¥å°†ä¼šå¯¹ 1100110011001100.... è¿™ä¸ªæ— é™æ•°å­—è¿›è¡Œèˆå…¥æ€»å…± 52 ä½ä½œä¸ºæœ‰æ•ˆä½ï¼Œç„¶åäºŒè¿›åˆ¶çš„æœ«å°¾å–èˆè§„åˆ™æ˜¯çœ‹åä¸€ä½æ•°å¦‚æœæ˜¯ 1 åˆ™è¿›ä½ï¼Œå¦‚æœæ˜¯ 0 åˆ™ç›´æ¥èˆå»ã€‚é‚£ä¹ˆç”±äº 1100110011001100.... è¿™ä¸²æ•°å­—çš„ç¬¬ 53 ä½åˆšå¥½æ˜¯ 1 ï¼Œæ‰€ä»¥æœ€ç»ˆçš„ä¼šå¾—åˆ°çš„æ•°å­—æ˜¯ 1100110011001100110011001100110011001100110011001101ï¼Œå³1.100110011001100110011001100110011001100110011001101 x $2^{-4}$ã€‚åè¿›åˆ¶è½¬äºŒè¿›åˆ¶ä¹Ÿå¯ä»¥ç”¨ toString æ¥è¿›è¡Œè½¬åŒ–: 1console.log( 0.1.toString(2) ) // &#x27;0.0001100110011001100110011001100110011001100110011001101&#x27; æˆ‘ä»¬å‘ç°åè¿›åˆ¶çš„ 0.1 åœ¨è½¬åŒ–æˆäºŒè¿›åˆ¶å°æ•°çš„æ—¶å€™å‘ç”Ÿäº†ç²¾åº¦çš„ä¸¢å¤±ï¼Œç”±äºè¿›ä½ï¼Œå®ƒæ¯”çœŸå®çš„å€¼æ›´å¤§äº†ã€‚è€Œ 0.2 å…¶å®ä¹Ÿæœ‰è¿™æ ·çš„é—®é¢˜ï¼Œä¹Ÿä¼šå‘ç”Ÿç²¾åº¦çš„ä¸¢å¤±ï¼Œæ‰€ä»¥å®é™…ä¸Š 0.1 + 0.2 ä¸ä¼šç­‰äº 0.3: 1console.log( 0.1 + 0.2 ) // 0.30000000000000004 é‚£æ˜¯ä¸æ˜¯æ²¡åŠæ³•åˆ¤æ–­ä¸¤ä¸ªå°æ•°æ˜¯å¦ç›¸ç­‰äº†å‘¢ï¼Ÿç­”æ¡ˆè‚¯å®šæ˜¯å¦å®šçš„ï¼Œæƒ³è¦åˆ¤æ–­2ä¸ªå°æ•° n1 å’Œ n2 æ˜¯å¦ç›¸ç­‰å¯ä»¥å¦‚ä¸‹æ“ä½œï¼š æ–¹æ³•ä¸€ï¼šä¸¤å°æ•°ä¹‹å·®çš„ç»å¯¹å€¼å¦‚æœæ¯” Number.EPSILON è¿˜å°ï¼Œé‚£ä¹ˆè¯´æ˜ä¸¤æ•°æ˜¯ç›¸ç­‰çš„ã€‚ Number.EPSILON æ˜¯ ES6 ä¸­çš„è¯¯å·®ç²¾åº¦ï¼Œå®é™…å€¼å¯ä»¥è®¤ä¸ºç­‰äº $2^{-52}$ã€‚ 123if ( Math.abs( n1 - n2 ) &lt; Number.EPSILON ) &#123; console.log( &#x27;n1 å’Œ n2 ç›¸ç­‰&#x27; )&#125; æ–¹æ³•äºŒï¼šé€šè¿‡ toFixed(n) å¯¹ç»“æœè¿›è¡Œèˆå…¥ï¼ŒtoFixed() å°†ä¼šè¿”å›å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ä¸€å…ƒåŠ  + å°†å…¶è½¬æˆæ•°å­—ï¼š 12let sum = 0.1 + 0.2console.log( +sum.toFixed(2) === 0.3 ) // true æ•°å€¼çš„è½¬åŒ–å¯¹æ•°å­—è¿›è¡Œæ“ä½œçš„æ—¶å€™å°†å¸¸å¸¸é‡åˆ°æ•°å€¼çš„èˆå…¥å’Œå­—ç¬¦ä¸²è½¬æ•°å­—çš„é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬å·©å›ºä¸‹åŸºç¡€ã€‚å…ˆæ¥çœ‹èˆå…¥çš„ï¼š Math.floor()ï¼Œå‘ä¸‹èˆå…¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ•´æ•°: 12Math.floor(2.2) // 2Math.floor(2.8) // 2 Math.ceil()ï¼Œå‘ä¸Šèˆå…¥ï¼Œå¾—åˆ°ä¸€ä¸ªæ•´æ•°ï¼š 12Math.ceil(2.2) // 3Math.ceil(2.8) // 3 Math.round()ï¼Œå¯¹ç¬¬ä¸€ä½å°æ•°è¿›è¡Œå››èˆäº”å…¥ï¼š 123Math.round(2.26) // 2Math.round(2.46) // 2Math.round(2.50) // 3 Number.prototype.toFixed(n)ï¼Œå’Œ Math.round() ä¸€æ ·ä¼šè¿›è¡Œå››èˆäº”å…¥ï¼Œå°†æ•°å­—èˆå…¥åˆ°å°æ•°ç‚¹å n ä½ï¼Œå¹¶ä¸”ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¿”å›ï¼š 12312..toFixed(2) // &#x27;12.00&#x27;12.14.toFixed(1) // &#x27;12.1&#x27;12.15.toFixed(1) // &#x27;12.2&#x27; ä¸ºä»€ä¹ˆ 6.35.toFixed(1) ä¼šç­‰äº 6.3 ï¼Ÿå› ä¸º 6.35 å…¶å®æ˜¯ä¸€ä¸ªæ— é™å°æ•°ï¼š 16.35.toFixed(20) // &quot;6.34999999999999964473&quot; æ‰€ä»¥åœ¨ 6.35.toFixed(1) æ±‚å€¼çš„æ—¶å€™ä¼šå¾—åˆ° 6.3ã€‚ å†æ¥çœ‹çœ‹å­—ç¬¦ä¸²è½¬æ•°å­—çš„æƒ…å†µï¼š Number(n) æˆ– +nï¼Œç›´æ¥å°† n è¿›è¡Œä¸¥æ ¼è½¬åŒ–ï¼š 123456Number(&#x27; &#x27;) // 0console.log( +&#x27;&#x27;) // 0Number(&#x27;010&#x27;) // 10console.log( +&#x27;010&#x27; ) // 10Number(&#x27;12a&#x27;) // NaNconsole.log( +&#x27;12a&#x27; ) // NaN parseInt()ï¼Œéä¸¥æ ¼è½¬åŒ–ï¼Œä»å·¦åˆ°å³è§£æå­—ç¬¦ä¸²ï¼Œé‡åˆ°éæ•°å­—å°±åœæ­¢è§£æï¼Œå¹¶ä¸”æŠŠè§£æçš„æ•°å­—è¿”å›ï¼š 1234parseInt(&#x27;12a&#x27;) // 12parseInt(&#x27;a12&#x27;) // NaNparseInt(&#x27;&#x27;) // NaNparseInt(&#x27;0xA&#x27;) // 10ï¼Œ0xå¼€å¤´çš„å°†ä¼šè¢«å½“æˆåå…­è¿›åˆ¶æ•° parseInt() é»˜è®¤æ˜¯ç”¨åè¿›åˆ¶å»è§£æå­—ç¬¦ä¸²çš„ï¼Œå…¶å®ä»–æ˜¯æ”¯æŒä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°çš„ï¼Œè¡¨ç¤ºè¦ä»¥å¤šå°‘è¿›åˆ¶çš„ åŸºæ•°å»è§£æç¬¬ä¸€ä¸ªå‚æ•°ï¼š 12parseInt(&#x27;1010&#x27;, 2) // 10parseInt(&#x27;ff&#x27;, 16) // 255 å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯ä¸æ˜¯æ•´æ•°ï¼Ÿä»‹ç»ä¸¤ç§æ–¹æ³•ï¼š æ–¹æ³•ä¸€ï¼šé€šè¿‡ Number.isInteger(): 12Number.isInteger(12.0) // trueNumber.isInteger(12.2) // false æ–¹æ³•äºŒï¼štypeof num == &#39;number&#39; &amp;&amp; num % 1 == 0 123function isInteger(num) &#123; return typeof num == &#x27;number&#x27; &amp;&amp; num % 1 == 0&#125; å¼•ç”¨ç±»å‹é™¤äº†åŸå§‹ç±»å‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„ç±»å‹ï¼šå¼•ç”¨ç±»å‹ã€‚é«˜ç¨‹é‡Œè¿™æ ·æè¿°ä»–ï¼šå¼•ç”¨ç±»å‹æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œ ç”¨äºå°†æ•°æ®å’ŒåŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çœ‹åˆ°æœ€å¤šçš„å¼•ç”¨ç±»å‹å°±æ˜¯ Objectï¼Œåˆ›å»ºä¸€ä¸ª Object æœ‰ä¸¤ç§æ–¹å¼ï¼š æ–¹å¼ä¸€ï¼šé€šè¿‡ new æ“ä½œç¬¦ï¼š 123let person = new Object()person.name = &#x27;bubuzou&#x27;person.age = 20 æ–¹å¼äºŒï¼šé€šè¿‡å¯¹è±¡å­—é¢é‡ï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€å–œæ¬¢ç”¨çš„æ–¹å¼ï¼š 1234let person = &#123; name: &#x27;bubuzou&#x27;, age: 20&#125; å†…ç½®çš„å¼•ç”¨ç±»å‹é™¤äº† Object å¤–ï¼Œåœ¨ JavaScript ä¸­è¿˜æœ‰åˆ«çš„å†…ç½®çš„å¼•ç”¨ç±»å‹ï¼Œæ¯”å¦‚ï¼š Array æ•°ç»„ Date æ—¥æœŸ RegExp æ­£åˆ™è¡¨è¾¾å¼ Function å‡½æ•° ä»–ä»¬çš„åŸå‹é“¾çš„é¡¶ç«¯éƒ½ä¼šæŒ‡å‘ Object: 12let d = new Date()console.log( d.__proto__.__proto__.constructor ) // Æ’ Object() &#123; [native code] &#125; åŒ…è£…ç±»å‹å…ˆæ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆåŸå§‹ç±»å‹çš„å˜é‡æ²¡æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯å´èƒ½å¤Ÿè°ƒç”¨æ–¹æ³•å‘¢ï¼Ÿ 12let str = &#x27;bubuzou&#x27;str.substring(0, 3) // &#x27;bub&#x27; å› ä¸º JavaScript ä¸ºäº†æ›´å¥½åœ°æ“ä½œåŸå§‹ç±»å‹ï¼Œè®¾è®¡å‡ºäº†å‡ ä¸ªå¯¹åº”çš„åŒ…è£…ç±»å‹ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼š Boolean Number String ä¸Šé¢é‚£ä¸²ä»£ç çš„æ‰§è¡Œè¿‡ç¨‹å…¶å®æ˜¯è¿™æ ·çš„ï¼š åˆ›å»º String ç±»å‹çš„ä¸€ä¸ªå®ä¾‹; åœ¨å®ä¾‹ä¸Šè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•; é”€æ¯è¿™ä¸ªå®ä¾‹ ç”¨ä»£ç ä½“ç°ä¸€ä¸‹ï¼š 123let str = new String(&#x27;bubuzou&#x27;)str.substring(0, 3)str = null åŸå§‹ç±»å‹è°ƒç”¨å‡½æ•°å…¶å®å°±æ˜¯è‡ªåŠ¨è¿›è¡Œäº†è£…ç®±æ“ä½œï¼Œå°†åŸå§‹ç±»å‹è½¬æˆäº†åŒ…è£…ç±»å‹ï¼Œç„¶åå…¶å®åŸå§‹ç±»å‹å’ŒåŒ…è£…ç±»å‹æ˜¯æœ‰æœ¬è´¨åŒºåˆ«çš„ï¼ŒåŸå§‹ç±»å‹æ˜¯åŸå§‹å€¼ï¼Œè€ŒåŒ…è£…ç±»å‹æ˜¯å¯¹è±¡å®ä¾‹ï¼š 12345let str1 = &#x27;bubuzou&#x27;let str2 = new String(&#x27;bubuzou&#x27;)console.log( str1 === str2 ) // fasleconsole.log( typeof str1 ) // &#x27;string&#x27;console.log( typeof str2 ) // &#x27;object&#x27; å±…ç„¶æœ‰è£…ç®±æ“ä½œï¼Œé‚£è‚¯å®šä¹Ÿæœ‰æ‹†ç®±æ“ä½œï¼Œæ‰€è°“çš„æ‹†ç®±å°±æ˜¯åŒ…è£…ç±»å‹è½¬æˆåŸå§‹ç±»å‹çš„è¿‡ç¨‹ï¼Œåˆå« ToPromitiveï¼Œæ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 123456let obj = &#123; toString: () =&gt; &#123; return &#x27;bubuzou&#x27; &#125;, valueOf: () =&gt; &#123; return 20 &#125;,&#125;console.log( +obj ) // 20console.log( `$&#123;obj&#125;` ) // &#x27;bubuzou&#x27; åœ¨æ‹†ç®±æ“ä½œçš„æ—¶å€™ï¼Œé»˜è®¤ä¼šå°è¯•è°ƒç”¨åŒ…è£…ç±»å‹çš„ toString() å’Œ valueOf() æ–¹æ³•ï¼Œå¯¹äºä¸åŒçš„ hint è°ƒç”¨é¡ºåºä¼šæœ‰æ‰€åŒºåˆ«ï¼Œå¦‚æœ hint æ˜¯ string åˆ™ä¼˜å…ˆè°ƒç”¨ toString()ï¼Œå¦åˆ™çš„è¯ï¼Œåˆ™ä¼˜å…ˆè°ƒç”¨ valueOf()ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€ä¸ª Object å¯¹è±¡å…·æœ‰ toString() å’Œ valueOf() æ–¹æ³•ï¼š 123let obj = &#123;&#125;console.log( obj.toString() ) // &#x27;[object Object]&#x27;console.log( obj.valueOf() ) // &#123;&#125;ï¼ŒvalueOfä¼šè¿”å›å¯¹è±¡æœ¬èº« ç±»å‹è£…æ¢Javascript æ˜¯å¼±ç±»å‹çš„è¯­éŸ³ï¼Œæ‰€ä»¥å¯¹å˜é‡è¿›è¡Œæ“ä½œçš„æ—¶å€™ç»å¸¸ä¼šå‘ç”Ÿç±»å‹çš„è½¬æ¢ï¼Œå°¤å…¶æ˜¯éšå¼ç±»å‹è½¬æ¢ï¼Œå¯èƒ½ä¼šè®©ä»£ç æ‰§è¡Œç»“æœå‡ºä¹æ„æ–™ä¹‹å¤–ï¼Œæ¯”å¦‚å¦‚ä¸‹çš„ä»£ç ä½ èƒ½ç†è§£å…¶æ‰§è¡Œç»“æœå˜›ï¼Ÿ 12[] + &#123;&#125; // &#x27;[object Object]&#x27;&#123;&#125; + [] // 0 ç±»å‹è½¬æ¢è§„åˆ™æ‰€ä»¥æˆ‘ä»¬éœ€è¦çŸ¥é“ç±»å‹è½¬æ¢çš„è§„åˆ™ï¼Œä»¥ä¸‹æ•´ç†å‡ºä¸€ä¸ªè¡¨æ ¼ï¼Œåˆ—å‡ºäº†å¸¸è§å€¼å’Œç±»å‹ä»¥åŠè½¬æ¢ä¹‹åçš„ç»“æœï¼Œä»…ä¾›å‚è€ƒã€‚ è½¬æ¢å‰çš„å€¼ è½¬æ¢å‰ç±»å‹ toBoolean toNumber toString true Boolean - 1 â€œtrueâ€ false Boolean - 0 â€œfalseâ€ null Null false 0 â€œnullâ€ undefined Undefined false NaN â€œundefinedâ€ 123 Number true - â€œ123â€ Infinity Number true - â€œInfinityâ€ 0 Number false - â€œ0â€ NaN Number false - â€œNaNâ€ â€œâ€ String false 0 - â€œ â€œ String true 0 - â€œ0â€ String true 0 - â€œ123â€ String true 123 - â€œ123abcâ€ String true NaN - Symbol() Symbol true TypeError TypeError {} Object true NaN â€œ[object Object]â€ [] Object true 0 â€œâ€ [â€œ0â€] Object true 0 â€œ0â€ [â€œ0â€, â€œaâ€] Object true NaN â€œ0,aâ€ [â€œ0â€, undefined, â€œaâ€] Object true Nan â€œ0,,aâ€ æ˜¾ç¤ºç±»å‹è½¬æ¢æˆ‘ä»¬å¹³æ—¶å†™ä»£ç çš„æ—¶å€™åº”è¯¥å°½é‡è®©å†™å‡ºæ¥çš„ä»£ç é€šä¿—æ˜“æ‡‚ï¼Œè®©åˆ«äººèƒ½é˜…è¯»åçŸ¥é“ä½ æ˜¯è¦åšä»€ä¹ˆï¼Œæ‰€ä»¥åœ¨å¯¹ç±»å‹è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™åº”è¯¥å°½é‡æ˜¾ç¤ºçš„å¤„ç†ã€‚æ¯”å¦‚å°†å­—ç¬¦ä¸²è½¬æˆæ•°å­—ï¼Œå¯ä»¥è¿™æ ·ï¼š 123Number( &#x27;21&#x27; ) // 21Number( &#x27;21.8&#x27; ) // 21.8+&#x27;21&#x27; // 21 å°†æ•°å­—æ˜¾ç¤ºè½¬æˆå­—ç¬¦ä¸²å¯ä»¥è¿™æ ·ï¼š 12String(21) // &#x27;21&#x27;21..toString() // &#x27;21&#x27; æ˜¾ç¤ºè½¬æˆå¸ƒå°”ç±»å‹å¯ä»¥è¿™æ ·ï¼š 1234Boolean(&#x27;21&#x27;) // trueBoolean( undefined ) // false!!NaN // false!!&#x27;21&#x27; // true é™¤äº†ä»¥ä¸Šä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›å…³äºç±»å‹è½¬æ¢çš„å†·é—¨æ“ä½œï¼Œæœ‰æ—¶å€™ä¹ŸæŒºç®¡ç”¨çš„ï¼šç›´æ¥ç”¨ä¸€å…ƒåŠ æ“ä½œç¬¦è·å–å½“å‰æ—¶é—´çš„æ¯«ç§’æ•°ï¼š 1+new Date() // 1595517982686 ç”¨ ~ é…åˆ indexOf() å°†æ“ä½œç»“æœç›´æ¥è½¬æˆå¸ƒå°”ç±»å‹ï¼š 1234let str = &#x27;bubuzou.com&#x27;if (~str.indexOf(&#x27;.com&#x27;)) &#123; console.log( &#x27;strå¦‚æœåŒ…å«äº†.comå­—ç¬¦ä¸²ï¼Œåˆ™ä¼šæ‰“å°è¿™å¥è¯&#x27; )&#125; ä½¿ç”¨ ~~ å¯¹å­—ç¬¦æˆ–æ•°å­—æˆªå–æ•´æ•°ï¼Œå’Œ Math.floor() æœ‰ç¨è®¸ä¸åŒï¼š 12345~~21.1 // 21~~-21.9 // -21~~&#x27;1.2a&#x27; // 0Math.floor( 21.1 ) // 21Math.floor( -21.9 ) // -22 éšå¼ç±»å‹è½¬æ¢éšå¼ç±»å‹è½¬æ¢å‘ç”Ÿåœ¨ JavaScript çš„è¿è¡Œæ—¶ï¼Œé€šå¸¸æ˜¯ç”±æŸäº›æ“ä½œç¬¦æˆ–è¯­å¥å¼•èµ·çš„ï¼Œæœ‰ä¸‹é¢è¿™å‡ ç§æƒ…å†µï¼š éšå¼è½¬æˆå¸ƒå°”ç±»å‹ï¼š if (..)è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚ for ( .. ; .. ; .. )è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼(ç¬¬äºŒä¸ª)ã€‚ while (..) å’Œ do..while(..) å¾ªç¯ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚ ? :ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚ é€»è¾‘è¿ç®—ç¬¦ || (é€»è¾‘æˆ–)å’Œ &amp;&amp; (é€»è¾‘ä¸)å·¦è¾¹çš„æ“ä½œæ•°(ä½œä¸ºæ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼) 1234567if (42) &#123; console.log(42)&#125;while (&#x27;bubuzou&#x27;) &#123; console.log(&#x27;bubuzou&#x27;)&#125;const c = null ? &#x27;å­˜åœ¨&#x27; : &#x27;ä¸å­˜åœ¨&#x27; // &#x27;ä¸å­˜åœ¨&#x27; ä¸Šä¾‹ä¸­çš„éå¸ƒå°”å€¼ä¼šè¢«éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼ä»¥ä¾¿æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ã€‚éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ || å’Œ &amp;&amp; æ“ä½œç¬¦ã€‚|| çš„æ“ä½œè¿‡ç¨‹æ˜¯åªæœ‰å½“å·¦è¾¹çš„å€¼è¿”å› false çš„æ—¶å€™æ‰ä¼šå¯¹å³è¾¹è¿›è¡Œæ±‚å€¼ä¸”å°†å®ƒä½œä¸ºæœ€åç»“æœè¿”å›ï¼Œç±»ä¼¼ a ? a : b è¿™ç§æ•ˆæœ: 12const a = &#x27;a&#x27; || &#x27;b&#x27; // &#x27;a&#x27;const b = &#x27;&#x27; || &#x27;c&#x27; // &#x27;c&#x27; è€Œ &amp;&amp; çš„æ“ä½œè¿‡ç¨‹æ˜¯åªæœ‰å½“å·¦è¾¹çš„å€¼è¿”å› true çš„æ—¶å€™æ‰å¯¹å³è¾¹è¿›è¡Œæ±‚å€¼ä¸”å°†å³è¾¹çš„å€¼ä½œä¸ºç»“æœè¿”å›ï¼Œç±»ä¼¼ a ? b : a è¿™ç§æ•ˆæœï¼š 12const a = &#x27;a&#x27; &amp;&amp; &#x27;b&#x27; // &#x27;b&#x27;const b = &#x27;&#x27; &amp;&amp; &#x27;c&#x27; // &#x27;&#x27; æ•°å­¦æ“ä½œç¬¦ - * / ä¼šå¯¹éæ•°å­—ç±»å‹çš„ä¼šä¼˜å…ˆè½¬æˆæ•°å­—ç±»å‹ï¼Œä½†æ˜¯å¯¹ + æ“ä½œç¬¦ä¼šæ¯”è¾ƒç‰¹æ®Šï¼š å½“ä¸€ä¾§ä¸º String ç±»å‹ï¼Œè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶ä¼šä¼˜å…ˆå°†å¦ä¸€ä¾§è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚ å½“ä¸€ä¾§ä¸º Number ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™å°†åŸå§‹ç±»å‹è½¬æ¢ä¸º Number ç±»å‹ã€‚ å½“ä¸€ä¾§ä¸º Number ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºå¼•ç”¨ç±»å‹ï¼Œå°†å¼•ç”¨ç±»å‹å’Œ Number ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²åæ‹¼æ¥ã€‚1234542 + &#x27;bubuzou&#x27; // &#x27;42bubuzou&#x27;42 + null // 4242 + true // 4342 + [] // &#x27;42&#x27;42 + &#123;&#125; // &#x27;42[object Object]&#x27; å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰ å®½æ¾ç›¸ç­‰ï¼ˆ==ï¼‰å’Œä¸¥æ ¼ç›¸ç­‰ï¼ˆ===ï¼‰åœ¨é¢è¯•çš„æ—¶å€™ç»å¸¸ä¼šè¢«é—®åˆ°ï¼Œè€Œå›ç­”ä¸€èˆ¬æ˜¯ == æ˜¯åˆ¤æ–­å€¼æ˜¯å¦ç›¸ç­‰ï¼Œè€Œ === é™¤äº†åˆ¤æ–­å€¼ä¼šä¸ä¼šç›¸ç­‰ä¹‹å¤–è¿˜ä¼šåˆ¤æ–­ç±»å‹æ˜¯å¦ç›¸ç­‰ï¼Œè¿™ä¸ªç­”æ¡ˆä¸å®Œå…¨æ­£ç¡®ï¼Œæ›´å¥½çš„å›ç­”æ˜¯ï¼š== åœ¨æ¯”è¾ƒè¿‡ç¨‹ä¸­å…è®¸å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢ï¼Œè€Œ === ä¸ä¼šã€‚ é‚£ == æ˜¯æ€ä¹ˆè¿›è¡Œç±»å‹è½¬æ¢çš„å‘¢ï¼Ÿ æ•°å­—å’Œå­—ç¬¦ä¸²æ¯”ï¼Œå­—ç¬¦ä¸²å°†è½¬æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼š 1220 == &#x27;20&#x27; // true20 === &#x27;20&#x27; // false åˆ«çš„ç±»å‹å’Œå¸ƒå°”ç±»å‹æ¯”è¾ƒï¼Œå¸ƒå°”ç±»å‹å°†é¦–å…ˆè½¬æˆæ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œtrue è½¬æˆæ•°å­— 1, false è½¬æˆæ•°å­— 0ï¼Œæ³¨æ„è¿™ä¸ªæ˜¯éå¸¸å®¹æ˜“å‡ºé”™çš„ä¸€ä¸ªç‚¹ï¼š 123456&#x27;bubuzou&#x27; == true // false&#x27;0&#x27; == false // truenull == false // false,undefined == false // false[] == true // false[&#x27;1&#x27;] == true // true æ‰€ä»¥å†™ä»£ç è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™ä¸€å®šä¸è¦å†™æˆ x == true æˆ– x == false è¿™ç§ï¼Œè€Œåº”è¯¥ç›´æ¥ if (x) åˆ¤æ–­ã€‚ null å’Œ undefined: null == undefined æ¯”è¾ƒç»“æœæ˜¯ trueï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œnullã€undefined å’Œå…¶ä»–ä»»ä½•ç»“æœçš„æ¯”è¾ƒå€¼éƒ½ä¸º falseã€‚å¯ä»¥è®¤ä¸ºåœ¨ == çš„æƒ…å†µä¸‹ï¼Œnull å’Œ undefined å¯ä»¥ç›¸äº’çš„è¿›è¡Œéšå¼ç±»å‹è½¬æ¢ã€‚ 1234567null == undefined // truenull == &#x27;&#x27; // falsenull == 0 // falsenull == false // falseundefined == &#x27;&#x27; // falseundefined == 0 // falseundefined == false // false åŸå§‹ç±»å‹å’Œå¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œå¼•ç”¨ç±»å‹ä¼šé¦–å…ˆè¿›è¡Œ ToPromitive è½¬æˆåŸå§‹ç±»å‹ç„¶åè¿›è¡Œæ¯”è¾ƒï¼Œè§„åˆ™å‚è€ƒä¸Šé¢ä»‹ç»çš„æ‹†ç®±æ“ä½œï¼š 1234&#x27;42&#x27; == [42] // true&#x27;1,2,3&#x27; == [1, 2, 3] // true&#x27;[object Object]&#x27; == &#123;&#125; // true0 == [undefined] // true ç‰¹æ®Šçš„å€¼ 12345NaN == NaN // false+0 == -0 // true[] == ![] // trueï¼Œ![]çš„ä¼˜å…ˆçº§æ¯”==é«˜ï¼Œæ‰€ä»¥![]å…ˆè½¬æˆå¸ƒå°”å€¼å˜æˆfalseï¼›å³å˜æˆ[] == falseï¼Œfalseå†è½¬æˆæ•°å­—0ï¼Œ[]è½¬æˆæ•°å­—0ï¼Œæ‰€ä»¥[] == ![]0 == &#x27;\\n&#x27; // true ç±»å‹æ£€æµ‹ç”¨typeofæ£€æµ‹åŸå§‹ç±»å‹JavaScript ä¸­æœ‰ nullã€undefinedã€booleanã€numberã€stringã€Symbol ç­‰å…­ç§åŸå§‹ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ typeof æ¥åˆ¤æ–­å€¼æ˜¯ä»€ä¹ˆåŸå§‹ç±»å‹çš„ï¼Œä¼šè¿”å›ç±»å‹çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼š 12345typeof undefined // &#x27;undefined&#x27;typeof true // &#x27;boolean&#x27;typeof 42 // &#x27;number&#x27;typeof &quot;42&quot; // &#x27;string&#x27;typeof Symbol() // &#x27;symbol&#x27; ä½†æ˜¯åŸå§‹ç±»å‹ä¸­æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œtypeof null ä¼šå¾—åˆ° â€˜objectâ€™ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ typeof å¯¹åŸå§‹å€¼è¿›è¡Œç±»å‹åˆ¤æ–­çš„æ—¶å€™ä¸èƒ½å¾—åˆ°ä¸€ä¸ªå‡†ç¡®çš„ç­”æ¡ˆï¼Œé‚£å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ null ç±»å‹çš„å‘¢ï¼Ÿ 12let o = null!o &amp;&amp; typeof o === &#x27;object&#x27; // ç”¨äºåˆ¤æ–­ o æ˜¯å¦æ˜¯ null ç±»å‹ undefined å’Œ undeclared æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå‰è€…æ˜¯è¡¨ç¤ºåœ¨ä½œç”¨åŸŸä¸­å®šä¹‰äº†ä½†æ˜¯æ²¡æœ‰èµ‹å€¼çš„å˜é‡ï¼Œè€Œåè€…æ˜¯è¡¨ç¤ºåœ¨ä½œç”¨åŸŸä¸­æ²¡æœ‰å®šä¹‰çš„å˜é‡ï¼›åˆ†åˆ«è¡¨ç¤º undefined æœªå®šä¹‰ã€undeclared æœªå£°æ˜ã€‚ typeof èƒ½å¤Ÿå¯¹åŸå§‹ç±»å‹è¿›è¡Œåˆ¤æ–­ï¼Œé‚£æ˜¯å¦ä¹Ÿèƒ½åˆ¤æ–­å¼•ç”¨ç±»å‹å‘¢ï¼Ÿ 12345typeof [] // &#x27;object&#x27;typeof &#123;&#125; // &#x27;object&#x27;typeof new Date() // &#x27;object&#x27;typeof new RegExp() // &#x27;object&#x27;typeof new Function() // &#x27;function&#x27; ä»ä¸Šé¢çš„ç»“æœæˆ‘ä»¬å¯ä»¥å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“è®ºï¼š typeof å¯¹å¼•ç”¨ç±»å‹åˆ¤æ–­çš„æ—¶å€™åªæœ‰ function ç±»å‹å¯ä»¥æ­£ç¡®åˆ¤æ–­ï¼Œå…¶ä»–éƒ½æ— æ³•æ­£ç¡®åˆ¤æ–­å…·ä½“æ˜¯ä»€ä¹ˆå¼•ç”¨ç±»å‹ã€‚ ç”¨instanceofæ£€æµ‹å¼•ç”¨ç±»å‹æˆ‘ä»¬çŸ¥é“ typeof åªèƒ½å¯¹éƒ¨åˆ†åŸå§‹ç±»å‹è¿›è¡Œæ£€æµ‹ï¼Œå¯¹å¼•ç”¨ç±»å‹æ¯«æ— åŠæ³•ã€‚JavaScript æä¾›äº†ä¸€ä¸ªæ“ä½œç¬¦ instanceofï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹ä»–æ˜¯å¦èƒ½æ£€æµ‹å¼•ç”¨ç±»å‹ï¼š 12[] instanceof Array // true[] instanceof Object // true æˆ‘ä»¬å‘ç°æ•°ç»„å³æ˜¯ Array çš„å®ä¾‹ï¼Œä¹Ÿæ˜¯ Object çš„å®ä¾‹ï¼Œå› ä¸ºæ‰€ä»¥å¼•ç”¨ç±»å‹åŸå‹é“¾çš„ç»ˆç‚¹éƒ½æ˜¯ Objectï¼Œæ‰€ä»¥ Array è‡ªç„¶æ˜¯ Object çš„å®ä¾‹ã€‚é‚£ä¹ˆæˆ‘ä»¬å¾—å‡ºç»“è®ºï¼šinstanceof ç”¨äºæ£€æµ‹å¼•ç”¨ç±»å‹å¥½åƒä¹Ÿä¸æ˜¯å¾ˆé è°±çš„é€‰æ‹©ã€‚ ç”¨toStringè¿›è¡Œç±»å‹æ£€æµ‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Object.prototype.toString.call() æ¥æ£€æµ‹ä»»ä½•å˜é‡å€¼çš„ç±»å‹ï¼š 1234567891011121314Object.prototype.toString.call(true) // &#x27;[object Boolean]&#x27;Object.prototype.toString.call(undefined) // &#x27;[object Undefined]&#x27;Object.prototype.toString.call(null) // &#x27;[object Null]&#x27;Object.prototype.toString.call(20) // &#x27;[object Number]&#x27;Object.prototype.toString.call(&#x27;bubuzou&#x27;) // &#x27;[object String]&#x27;Object.prototype.toString.call(Symbol()) // &#x27;[object Symbol]&#x27;Object.prototype.toString.call([]) // &#x27;[object Array]&#x27;Object.prototype.toString.call(&#123;&#125;) // &#x27;[object Object]&#x27;Object.prototype.toString.call(function()&#123;&#125;) // &#x27;[object Function]&#x27;Object.prototype.toString.call(new Date()) // &#x27;[object Date]&#x27;Object.prototype.toString.call(new RegExp()) // &#x27;[object RegExp]&#x27;Object.prototype.toString.call(JSON) // &#x27;[object JSON]&#x27;Object.prototype.toString.call(MATH) // &#x27;[object MATH]&#x27;Object.prototype.toString.call(window) // &#x27;[object RegExp]&#x27; å‚è€ƒæ–‡ç«  ã€JS è¿›é˜¶ã€‘ä½ çœŸçš„æŒæ¡å˜é‡å’Œç±»å‹äº†å— ä½ ä¸çŸ¥é“çš„JSä¸­å·-ç¬¬å››ç«  JSä¸­çš„æ ˆå†…å­˜å †å†…å­˜ IEEE 754","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"ä½¿ç”¨nvmæ¥ç®¡ç†Nodeç‰ˆæœ¬","slug":"nvm","date":"2020-03-26T13:11:58.000Z","updated":"2020-08-12T09:46:13.360Z","comments":true,"path":"2020/03/26/nvm/","link":"","permalink":"https://bubuzou.com/2020/03/26/nvm/","excerpt":"ä½¿ç”¨nvmæ¥ç®¡ç†Nodeç‰ˆæœ¬nvm æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ›å»ºä¸åŒç‰ˆæœ¬ Node çš„éš”ç¦»ç¯å¢ƒï¼Œä»è€Œé¿å…ä¸åŒç‰ˆæœ¬åŒ…ä¹‹é—´çš„å¹²æ‰°ã€‚å®˜æ–¹ github å¸è½½å…¨å±€å®‰è£…çš„Nodeæœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°ç¼–è¯‘é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œè€Œå‡çº§ Node ç‰ˆæœ¬ä¹‹åé€Ÿåº¦ä¼šæ˜æ˜¾æå‡ã€‚æ‰€ä»¥è¿™æ‰æœ‰ä½¿ç”¨ nvm æ¥ç®¡ç† Node çš„æ•…äº‹ã€‚ ç›®å‰æœ¬åœ°å…¨å±€å®‰è£…çš„ Node ç‰ˆæœ¬æ˜¯ 9.11.1ï¼Œ è¿™ä¸ªç‰ˆæœ¬è¿˜æ˜¯18å¹´4æœˆå·¦å³æ›´æ–°çš„ï¼Œæ˜¯ç›¸å½“çš„è·Ÿä¸ä¸ŠèŠ‚å¥äº†ã€‚è¿™é‡Œå¯ä»¥æŸ¥çœ‹ Node å†å²ç‰ˆæœ¬ã€‚ å®‰è£… nvm ä¹‹å‰æœ€å¥½æ˜¯å°†ç°æœ‰çš„å…¨å±€ Node è¿›è¡Œå¸è½½ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå†²çªã€‚","text":"ä½¿ç”¨nvmæ¥ç®¡ç†Nodeç‰ˆæœ¬nvm æ˜¯ Node.js çš„ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼Œå¯ä»¥åˆ›å»ºä¸åŒç‰ˆæœ¬ Node çš„éš”ç¦»ç¯å¢ƒï¼Œä»è€Œé¿å…ä¸åŒç‰ˆæœ¬åŒ…ä¹‹é—´çš„å¹²æ‰°ã€‚å®˜æ–¹ github å¸è½½å…¨å±€å®‰è£…çš„Nodeæœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°ç¼–è¯‘é€Ÿåº¦ç‰¹åˆ«æ…¢ï¼Œè€Œå‡çº§ Node ç‰ˆæœ¬ä¹‹åé€Ÿåº¦ä¼šæ˜æ˜¾æå‡ã€‚æ‰€ä»¥è¿™æ‰æœ‰ä½¿ç”¨ nvm æ¥ç®¡ç† Node çš„æ•…äº‹ã€‚ ç›®å‰æœ¬åœ°å…¨å±€å®‰è£…çš„ Node ç‰ˆæœ¬æ˜¯ 9.11.1ï¼Œ è¿™ä¸ªç‰ˆæœ¬è¿˜æ˜¯18å¹´4æœˆå·¦å³æ›´æ–°çš„ï¼Œæ˜¯ç›¸å½“çš„è·Ÿä¸ä¸ŠèŠ‚å¥äº†ã€‚è¿™é‡Œå¯ä»¥æŸ¥çœ‹ Node å†å²ç‰ˆæœ¬ã€‚ å®‰è£… nvm ä¹‹å‰æœ€å¥½æ˜¯å°†ç°æœ‰çš„å…¨å±€ Node è¿›è¡Œå¸è½½ï¼Œå¦åˆ™ä¼šå‘ç”Ÿå†²çªã€‚ ç»ˆç«¯ä¸‹æŸ¥çœ‹ Node çš„å…¨å±€å®‰è£…ç›®å½•ï¼š 12ccp:~ ccp$ which node&#x2F;usr&#x2F;local&#x2F;bin&#x2F;node Mac ç¯å¢ƒä¸‹å…¨å±€çš„ Node ä¼šè¢«å®‰è£…åœ¨ /usr/local/bin/ ç›®å½•ä¸‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦æ‰“å¼€è¿™ä¸ªç›®å½•ï¼› æ‰“å¼€è®¿è¾¾ï¼Œç„¶åæŒ‰ä¸‹å¿«æ·é”® â‡§ + âŒ˜ + Gï¼Œè¾“å…¥ä¸Šé¢çš„ç›®å½•ï¼Œå³å¯æ‰“å¼€å¯¹åº”çš„ç›®å½•ï¼› æ¥ä¸‹æ¥ä¾æ¬¡æ£€æŸ¥å¹¶ä¸”åˆ é™¤è¿™äº›ç›®å½•ä¸‹çš„ node å’Œ node_modules ç›¸å…³æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼š /usr/local/lib /usr/local/include æ‰“å¼€ /usr/local/bin å¹¶åˆ é™¤ node å¯æ‰§è¡Œæ–‡ä»¶; å¦‚æœä½ æ˜¯ä½¿ç”¨çš„ brew install node å®‰è£…çš„ Nodeï¼Œé‚£ä¹ˆä½ è¿˜éœ€è¦åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œ brew uninstall node å‘½ä»¤æ¥å¸è½½ã€‚ è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½è¿˜éœ€è¦åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œä¸€äº›æŒ‡ä»¤ï¼š 12345678sudo rm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;npmsudo rm &#x2F;usr&#x2F;local&#x2F;share&#x2F;man&#x2F;man1&#x2F;node.1sudo rm &#x2F;usr&#x2F;local&#x2F;lib&#x2F;dtrace&#x2F;node.dsudo rm -rf ~&#x2F;.npmsudo rm -rf ~&#x2F;.node-gypsudo rm &#x2F;opt&#x2F;local&#x2F;bin&#x2F;nodesudo rm &#x2F;opt&#x2F;local&#x2F;include&#x2F;nodesudo rm -rf &#x2F;opt&#x2F;local&#x2F;lib&#x2F;node_modules è‡³æ­¤ï¼Œå…¨å±€å®‰è£…çš„ Node æ‰ç®—å¸è½½å¹²å‡€ã€‚ å®‰è£…nvm åœ¨ç»ˆç«¯é‡Œæ‰§è¡Œå¦‚ä¸‹è„šæœ¬ï¼š 1curl -o- https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;nvm-sh&#x2F;nvm&#x2F;v0.35.3&#x2F;install.sh | bash ç„¶ååœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ command -v nvmï¼Œå¦‚æœæ˜¾ç¤º nvm åˆ™è¡¨ç¤ºå®‰è£…æˆåŠŸï¼›å¦åˆ™å¦‚æœæ˜¾ç¤º nvm: command not foundï¼Œåˆ™éœ€è¦åšå¦‚ä¸‹æ“ä½œï¼š åœ¨ .nvm åŒçº§ç›®å½•ä¸‹åˆ›å»º .bash_profile æ–‡ä»¶ï¼Œç»ˆç«¯é”®å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 1touch ~&#x2F;.bash_profile æŠŠä»¥ä¸‹ä»£ç è´´åˆ°ä¸Šé¢çš„æ–‡ä»¶ä¸­ï¼š 12export NVM_DIR&#x3D;~&#x2F;.nvmsource ~&#x2F;.nvm&#x2F;nvm.sh nvm å®‰è£…åï¼Œå¯ä»¥ç”¨ nvm ls æ¥æŸ¥çœ‹ï¼Œå¦‚æœä¼šæ˜¾ç¤ºå®‰è£…çš„ Node ç‰ˆæœ¬åˆ—è¡¨ï¼Œåˆ™æ˜¾ç¤ºå®‰è£…æˆåŠŸã€‚æœ‰äº† nvm åï¼Œåœ¨ç”¨ npm install xxx -g è¿›è¡Œå…¨å±€å®‰è£…çš„æ—¶å€™ä¼šæŠŠåŒ…å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ Node ä¸‹ï¼Œå¦‚æœæ˜¯ Mac åˆ™ç›®å½• user/.nvm/versions/node/v12.16.1/bin ä¸‹å¯ä»¥çœ‹åˆ°å¯¹åº”çš„å…¨å±€å‘½ä»¤ã€‚ nvmå¸¸ç”¨å‘½ä»¤ nvm ls-remote æŸ¥çœ‹ Node è¿œç¨‹ç‰ˆæœ¬åº“ nvm install node å°†å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Node nvm install v12.7.0 å°†å®‰è£… 12.7.0 ç‰ˆæœ¬çš„ Node nvm uninstall v12.7.0 å¸è½½ 12.7.0 ç‰ˆæœ¬çš„ Node nvm ls æŸ¥çœ‹å·²ç»å®‰è£…çš„ Node ç‰ˆæœ¬ nvm use v12.7.0 åˆ‡æ¢ 12.7.0 ä¸ºå½“å‰ä½¿ç”¨çš„ç‰ˆæœ¬ nvm alias default v12.7.0 å°† 12.7.0 è®¾ç½®ä¸º Node çš„é»˜è®¤ç‰ˆæœ¬ nvm which v12.7.0 æŸ¥çœ‹ 12.7.0 ç‰ˆæœ¬çš„ Node çš„å®‰è£…ç›®å½•ï¼Œæ¯”å¦‚ï¼š/Users/ccp/.nvm/versions/node/v12.7.0/bin/node nvm --help æŸ¥çœ‹æ›´å¤šå‘½ä»¤ç”¨æ³• å…¶ä»–ç›¸å…³å‘½ä»¤ command -v nvm æŸ¥çœ‹ nvm æ˜¯å¦å®‰è£…æˆåŠŸ node -v æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„ Node ç‰ˆæœ¬ which node æŸ¥çœ‹å½“å‰ Node çš„å®‰è£…ç›®å½• å…¶ä»–é—®é¢˜ ç”±äº Node ç‰ˆæœ¬çš„å‡çº§ï¼Œæ‰€ä»¥å½“ç¼–è¯‘é¡¹ç›®çš„æ—¶å€™å¯èƒ½ä¼šæŠ¥ä¾èµ–åŒ…çš„é”™è¯¯ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å‡çº§ä¾èµ–åŒ…ï¼Œå°†é¡¹ç›®çš„ node_modules ç›®å½•åˆ äº†ï¼Œé‡æ–°æ‰§è¡Œ npm installã€‚ å‡çº§ Node åï¼Œç”±äºå†…å­˜ 2048M çš„é™åˆ¶ï¼Œç¼–è¯‘é¡¹ç›®çš„æ—¶å€™å¾ˆæœ‰å¯èƒ½ä¼šæŠ¥ JS stack trace å†…å­˜æº¢å‡ºçš„é”™è¯¯ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨ increase-memory-limit æ¥è§£å†³ã€‚","categories":[{"name":"webç»¼åˆ","slug":"webç»¼åˆ","permalink":"https://bubuzou.com/categories/web%E7%BB%BC%E5%90%88/"}],"tags":[{"name":"node","slug":"node","permalink":"https://bubuzou.com/tags/node/"}]},{"title":"Vue-Test-Utils + Jest å•å…ƒæµ‹è¯•å…¥é—¨ä¸å®è·µ","slug":"Vue-Test-Utils+Jest","date":"2019-10-23T17:41:11.000Z","updated":"2020-10-23T08:49:26.347Z","comments":true,"path":"2019/10/24/Vue-Test-Utils+Jest/","link":"","permalink":"https://bubuzou.com/2019/10/24/Vue-Test-Utils+Jest/","excerpt":"ä»‹ç»Vue-Test-Utils æ˜¯ Vue.js å®˜æ–¹çš„å•å…ƒæµ‹è¯•å®ç”¨å·¥å…·åº“ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API æ¥ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¾ˆä¾¿æ·çš„å»å†™ Vue åº”ç”¨ä¸­çš„å•å…ƒæµ‹è¯•ã€‚ ä¸»æµçš„å•å…ƒæµ‹è¯•è¿è¡Œå™¨æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ Jestã€Mocha å’Œ Karma ç­‰ï¼Œè¿™å‡ ä¸ªåœ¨ Vue-Test-Utils æ–‡æ¡£é‡Œéƒ½æœ‰å¯¹åº”çš„æ•™ç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬åªä»‹ç» Vue-Test-Utils + Jest ç»“åˆçš„ç¤ºä¾‹ã€‚ Jest æ˜¯ä¸€ä¸ªç”± Facebook å¼€å‘çš„æµ‹è¯•æ¡†æ¶ã€‚Vue å¯¹å…¶è¿›è¡Œæè¿°ï¼šæ˜¯åŠŸèƒ½æœ€å…¨çš„æµ‹è¯•è¿è¡Œå™¨ã€‚å®ƒæ‰€éœ€çš„é…ç½®æ˜¯æœ€å°‘çš„ï¼Œé»˜è®¤å®‰è£…äº† JSDOMï¼Œå†…ç½®æ–­è¨€ä¸”å‘½ä»¤è¡Œçš„ç”¨æˆ·ä½“éªŒéå¸¸å¥½ã€‚ä¸è¿‡ä½ éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå°†å•æ–‡ä»¶ç»„ä»¶å¯¼å…¥åˆ°æµ‹è¯•ä¸­çš„é¢„å¤„ç†å™¨ã€‚æˆ‘ä»¬å·²ç»åˆ›å»ºäº† vue-jest é¢„å¤„ç†å™¨æ¥å¤„ç†æœ€å¸¸è§çš„å•æ–‡ä»¶ç»„ä»¶ç‰¹æ€§ï¼Œä½†ä»ä¸æ˜¯ vue-loader 100% çš„åŠŸèƒ½ã€‚","text":"ä»‹ç»Vue-Test-Utils æ˜¯ Vue.js å®˜æ–¹çš„å•å…ƒæµ‹è¯•å®ç”¨å·¥å…·åº“ï¼Œå®ƒæä¾›äº†ä¸€ç³»åˆ—çš„ API æ¥ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¾ˆä¾¿æ·çš„å»å†™ Vue åº”ç”¨ä¸­çš„å•å…ƒæµ‹è¯•ã€‚ ä¸»æµçš„å•å…ƒæµ‹è¯•è¿è¡Œå™¨æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ Jestã€Mocha å’Œ Karma ç­‰ï¼Œè¿™å‡ ä¸ªåœ¨ Vue-Test-Utils æ–‡æ¡£é‡Œéƒ½æœ‰å¯¹åº”çš„æ•™ç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬åªä»‹ç» Vue-Test-Utils + Jest ç»“åˆçš„ç¤ºä¾‹ã€‚ Jest æ˜¯ä¸€ä¸ªç”± Facebook å¼€å‘çš„æµ‹è¯•æ¡†æ¶ã€‚Vue å¯¹å…¶è¿›è¡Œæè¿°ï¼šæ˜¯åŠŸèƒ½æœ€å…¨çš„æµ‹è¯•è¿è¡Œå™¨ã€‚å®ƒæ‰€éœ€çš„é…ç½®æ˜¯æœ€å°‘çš„ï¼Œé»˜è®¤å®‰è£…äº† JSDOMï¼Œå†…ç½®æ–­è¨€ä¸”å‘½ä»¤è¡Œçš„ç”¨æˆ·ä½“éªŒéå¸¸å¥½ã€‚ä¸è¿‡ä½ éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿå°†å•æ–‡ä»¶ç»„ä»¶å¯¼å…¥åˆ°æµ‹è¯•ä¸­çš„é¢„å¤„ç†å™¨ã€‚æˆ‘ä»¬å·²ç»åˆ›å»ºäº† vue-jest é¢„å¤„ç†å™¨æ¥å¤„ç†æœ€å¸¸è§çš„å•æ–‡ä»¶ç»„ä»¶ç‰¹æ€§ï¼Œä½†ä»ä¸æ˜¯ vue-loader 100% çš„åŠŸèƒ½ã€‚ ç¯å¢ƒé…ç½®é€šè¿‡è„šæ‰‹æ¶ vue-cli æ¥æ–°å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œå¦‚æœé€‰æ‹©äº† Unit Testing å•å…ƒæµ‹è¯•ä¸”é€‰æ‹©çš„æ˜¯ Jest ä½œä¸ºæµ‹è¯•è¿è¡Œå™¨ï¼Œé‚£ä¹ˆåœ¨é¡¹ç›®åˆ›å»ºå¥½åï¼Œå°±ä¼šè‡ªåŠ¨é…ç½®å¥½å•å…ƒæµ‹è¯•éœ€è¦çš„ç¯å¢ƒï¼Œç›´æ¥èƒ½ç”¨ Vue-Test-Utils å’Œ Jest çš„ API æ¥å†™æµ‹è¯•ç”¨ä¾‹äº†ã€‚ ä½†æ˜¯æ–°å»ºé¡¹ç›®ä¹‹åˆæ²¡æœ‰é€‰æ‹©å•å…ƒæµ‹è¯•åŠŸèƒ½ï¼Œéœ€è¦åé¢å»æ·»åŠ çš„è¯ï¼Œæœ‰ä¸¤ç§æ–¹æ¡ˆï¼š ç¬¬ä¸€ç§é…ç½®ï¼š ç›´æ¥åœ¨é¡¹ç›®ä¸­æ·»åŠ ä¸€ä¸ª unit-jest æ’ä»¶ï¼Œä¼šè‡ªåŠ¨å°†éœ€è¦çš„ä¾èµ–å®‰è£…é…ç½®å¥½ã€‚ 1vue add @vue&#x2F;unit-jest ç¬¬äºŒç§é…ç½®ï¼š è¿™ç§é…ç½®ä¼šéº»çƒ¦ä¸€ç‚¹ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„æ“ä½œæ­¥éª¤ã€‚ å®‰è£…ä¾èµ– å®‰è£… Jest å’Œ Vue Test Utils 1npm install --save-dev jest @vue&#x2F;test-utils å®‰è£… babel-jest ã€ vue-jest å’Œ 7.0.0-bridge.0 ç‰ˆæœ¬çš„ babel-core 1npm install --save-dev babel-jest vue-jest babel-core@7.0.0-bridge.0 å®‰è£… jest-serializer-vue 1npm install --save-dev jest-serializer-vue é…ç½® JestJest çš„é…ç½®å¯ä»¥åœ¨ package.json é‡Œé…ç½®ï¼›ä¹Ÿå¯ä»¥æ–°å»ºä¸€ä¸ªæ–‡ä»¶ jest.config.jsï¼Œ æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•å³å¯ã€‚è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯é…ç½®åœ¨ jest.config.js ä¸­ï¼š 123456789101112131415161718module.exports = &#123; moduleFileExtensions: [ &#x27;js&#x27;, &#x27;vue&#x27; ], transform: &#123; &#x27;^.+\\\\.vue$&#x27;: &#x27;&lt;rootDir&gt;/node_modules/vue-jest&#x27;, &#x27;^.+\\\\.js$&#x27;: &#x27;&lt;rootDir&gt;/node_modules/babel-jest&#x27; &#125;, moduleNameMapper: &#123; &#x27;^@/(.*)$&#x27;: &#x27;&lt;rootDir&gt;/src/$1&#x27; &#125;, snapshotSerializers: [ &#x27;jest-serializer-vue&#x27; ], testMatch: [&#x27;**/__tests__/**/*.spec.js&#x27;], transformIgnorePatterns: [&#x27;&lt;rootDir&gt;/node_modules/&#x27;]&#125; å„é…ç½®é¡¹è¯´æ˜ï¼š moduleFileExtensions å‘Šè¯‰ Jest éœ€è¦åŒ¹é…çš„æ–‡ä»¶åç¼€ transform åŒ¹é…åˆ° .vue æ–‡ä»¶çš„æ—¶å€™ç”¨ vue-jest å¤„ç†ï¼Œ åŒ¹é…åˆ° .js æ–‡ä»¶çš„æ—¶å€™ç”¨ babel-jest å¤„ç† moduleNameMapper å¤„ç† webpack çš„åˆ«åï¼Œæ¯”å¦‚ï¼šå°† @ è¡¨ç¤º /src ç›®å½• snapshotSerializers å°†ä¿å­˜çš„å¿«ç…§æµ‹è¯•ç»“æœè¿›è¡Œåºåˆ—åŒ–ï¼Œä½¿å¾—å…¶æ›´ç¾è§‚ testMatch åŒ¹é…å“ªäº›æ–‡ä»¶è¿›è¡Œæµ‹è¯• transformIgnorePatterns ä¸è¿›è¡ŒåŒ¹é…çš„ç›®å½• é…ç½® package.jsonå†™ä¸€ä¸ªæ‰§è¡Œæµ‹è¯•çš„å‘½ä»¤è„šæœ¬ï¼š 12345&#123; &quot;script&quot;: &#123; &quot;test&quot;: &quot;jest&quot; &#125;&#125; ç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸ºäº†ä¿è¯ç¯å¢ƒçš„ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬ä»åˆ›å»ºé¡¹ç›®å¼€å§‹ä¸€æ­¥ä¸€æ­¥æ¼”ç¤ºæ“ä½œæ­¥éª¤ã€‚ ç”¨ vue-cli åˆ›å»ºä¸€ä¸ªé¡¹ç›®å½“å‰æˆ‘ç”¨åˆ°çš„æ˜¯ 3.10.0 ç‰ˆæœ¬çš„ vue-cliã€‚å¼€å§‹åˆ›å»ºé¡¹ç›®ï¼š 1vue create first-vue-jest é€‰æ‹© Manually select features è¿›è¡Œæ‰‹åŠ¨é€‰æ‹©åŠŸèƒ½é…ç½®ï¼š 12345678Vue CLI v3.10.0â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ Update available: 4.0.4 â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜? Please pick a preset: VUE-CLI3 (vue-router, node-sass, babel, eslint) default (babel, eslint)â¯ Manually select features å‹¾é€‰ Babelã€Unit Testingï¼š 12345678910? Check the features needed for your project: â—‰ Babel â—¯ TypeScript â—¯ Progressive Web App (PWA) Support â—¯ Router â—¯ Vuex â—¯ CSS Pre-processors â—¯ Linter &#x2F; Formatter â—‰ Unit Testing â—¯ E2E Testing é€‰æ‹© Jest: 123? Pick a unit testing solution: Mocha + Chaiâ¯ Jest é€‰æ‹© In dedicated config files å°†å„é…ç½®ä¿¡æ¯é…ç½®åœ¨å¯¹åº”çš„ config æ–‡ä»¶é‡Œï¼š 123? Where do you prefer placing config for Babel, PostCSS, ESLint, etc.? (Use arrow keys)â¯ In dedicated config files In package.json è¾“å…¥nï¼Œä¸ä¿å­˜é¢„è®¾ï¼š 1? Save this as a preset for future projects? (y&#x2F;N) n é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œéƒ¨åˆ†æ–‡ä»¶çš„é…ç½®ä¿¡æ¯å¦‚ä¸‹ï¼š babel.config.js: 123456module.exports = &#123; presets: [ &#x27;@vue/cli-plugin-babel/preset&#x27; ]&#125; jest.config.jsï¼Œ è¿™ä¸ªæ–‡ä»¶çš„é…ç½®é»˜è®¤æ˜¯é¢„è®¾æ’ä»¶çš„ï¼Œå¯ä»¥æŒ‰å®é™…éœ€æ±‚æ”¹æˆä¸Šé¢æåˆ°çš„é…ç½® Jest é‡Œçš„é…ç½®ä¸€æ ·ã€‚ 123module.exports = &#123; preset: &#x27;@vue/cli-plugin-unit-jest&#x27;&#125; package.json: 123456789101112131415161718192021&#123; &quot;name&quot;: &quot;first-vue-jest&quot;, &quot;version&quot;: &quot;0.1.0&quot;, &quot;private&quot;: true, &quot;scripts&quot;: &#123; &quot;serve&quot;: &quot;vue-cli-service serve&quot;, &quot;build&quot;: &quot;vue-cli-service build&quot;, &quot;test:unit&quot;: &quot;vue-cli-service test:unit&quot; &#125;, &quot;dependencies&quot;: &#123; &quot;core-js&quot;: &quot;^3.1.2&quot;, &quot;vue&quot;: &quot;^2.6.10&quot; &#125;, &quot;devDependencies&quot;: &#123; &quot;@vue/cli-plugin-babel&quot;: &quot;^4.0.0&quot;, &quot;@vue/cli-plugin-unit-jest&quot;: &quot;^4.0.0&quot;, &quot;@vue/cli-service&quot;: &quot;^4.0.0&quot;, &quot;@vue/test-utils&quot;: &quot;1.0.0-beta.29&quot;, &quot;vue-template-compiler&quot;: &quot;^2.6.10&quot; &#125;&#125; æ‰§è¡Œæµ‹è¯•å‘½ä»¤ç”¨ä¸Šé¢çš„æ­¥éª¤åˆ›å»ºçš„é¡¹ç›®å®Œæˆé¡¹ç›®åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ package.json çš„ scripts é¡¹ä¸­çœ‹åˆ°æœ‰ä¸ª test:unit ï¼Œæ‰§è¡Œå®ƒï¼š 12cd first-vue-jestnpm run test:unit ç„¶åç»ˆç«¯é‡Œä¼šçœ‹åˆ°è¾“å‡ºç»“æœï¼ŒPASS è¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹é€šè¿‡äº†ï¼Œè¿™ä¸ªæ˜¯å®˜æ–¹æä¾›å•å…ƒæµ‹è¯•ä¾‹å­ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å†™ç‚¹è‡ªå·±çš„ä¸œè¥¿ã€‚ å®ç°ä¸€ä¸ªToDoList çœ‹ä¸Šé¢çš„åŸå‹å›¾ï¼Œæœ‰è¿™ä¹ˆå‡ ç‚¹æ˜ç¡®çš„éœ€æ±‚ï¼š åœ¨å¤´éƒ¨å³ä¾§è¾“å…¥æ¡†è¾“å…¥è¦åšçš„äº‹æƒ…ï¼Œæ•²å›è½¦åï¼Œå†…å®¹è·‘åˆ°å¾…å®Œæˆåˆ—è¡¨é‡Œï¼ŒåŒæ—¶æ¸…ç©ºè¾“å…¥æ¡† è¾“å…¥æ¡†ä¸ºç©ºçš„æ—¶å€™æ•²å›è½¦ï¼Œä¸åšä»»ä½•å˜åŒ– å¾…å®Œæˆåˆ—è¡¨æ”¯æŒç¼–è¾‘åŠŸèƒ½ï¼Œå·²å®Œæˆåˆ—è¡¨ä¸èƒ½è¿›è¡Œç¼–è¾‘ æ¯ä¸ªåˆ—è¡¨é¡¹çš„å³ä¾§éƒ½æœ‰åˆ é™¤æŒ‰é’®ï¼Œç”¨ - å·è¡¨ç¤ºï¼Œç‚¹å‡»ååˆ é™¤è¯¥é¡¹ å¾…å®Œæˆåˆ—è¡¨æœ‰æ ‡è®°ä¸ºå·²å®Œæˆçš„æŒ‰é’®ï¼Œç”¨ âˆš å·è¡¨ç¤ºï¼Œç‚¹å‡»åå½“å‰é¡¹ç§»åŠ¨åˆ°å·²å®Œæˆåˆ—è¡¨ å·²å®Œæˆåˆ—è¡¨æœ‰æ ‡è®°ä¸ºæœªå®Œæˆçš„æŒ‰é’®ï¼Œç”¨ x å·è¡¨ç¤ºï¼Œç‚¹å‡»åå½“å‰é¡¹ç§»åŠ¨åˆ°æœªå®Œæˆåˆ—è¡¨ åˆ—è¡¨åºå·ä»1å¼€å§‹é€’å¢ å½“å¾…å®Œæˆåˆ—è¡¨ä¸ºç©ºçš„æ—¶å€™ï¼Œä¸æ˜¾ç¤ºå¾…å®Œæˆå­—æ · å½“å·²å®Œæˆåˆ—è¡¨ä¸ºç©ºçš„æ—¶å€™ï¼Œä¸æ˜¾ç¤ºå·²å®Œæˆå­—æ · å…ˆæŠŠä¸Šé¢çš„é¡µé¢å†™å¥½å†™é¡µé¢ä¹‹å‰å…ˆæŠŠåˆ›å»ºé¡¹ç›®çš„æ—¶å€™ç”Ÿæˆçš„ HelloWorld.vue å’Œå¯¹åº”çš„æµ‹è¯•æ–‡ä»¶ example.spec.js åˆ é™¤ï¼›åŒæ—¶ä¿®æ”¹ App.vue æ–‡ä»¶ï¼Œå¼•å…¥ ToDoList ç»„ä»¶ï¼š 123456789101112131415&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;ToDoList&gt;&lt;/ToDoList&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import ToDoList from &#x27;./components/ToDoList&#x27;export default &#123; components: &#123; ToDoList &#125;&#125;&lt;/script&gt; åœ¨ src/compoents ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶ ToDoList.vueï¼Œæ ·å¼è¾ƒå¤šå°±ä¸è´´å‡ºæ¥äº†ï¼Œå…·ä½“å¯ä»¥å»çœ‹æœ¬é¡¹ç›®æºç ï¼š 12345678910111213141516171819202122232425262728293031323334353637&lt;template&gt; &lt;div class=&quot;todolist&quot;&gt; &lt;header&gt; &lt;h5&gt;ToDoList&lt;/h5&gt; &lt;input class=&quot;to-do-text&quot; v-model=&quot;toDoText&quot; @keyup.enter=&quot;enterText&quot; placeholder=&quot;è¾“å…¥è®¡åˆ’è¦åšçš„äº‹æƒ…&quot;/&gt; &lt;/header&gt; &lt;h4 v-show=&quot;toDoList.length &gt; 0&quot;&gt;å¾…å®Œæˆ&lt;/h4&gt; &lt;ul class=&quot;wait-to-do&quot;&gt; &lt;li v-for=&quot;(item, index) in toDoList&quot; :keys=&quot;item&quot;&gt; &lt;p&gt; &lt;i&gt;&#123;&#123;index + 1&#125;&#125;&lt;/i&gt; &lt;input :value=&quot;item&quot; @blur=&quot;setValue(index, $event)&quot; type=&quot;text&quot; /&gt; &lt;/p&gt; &lt;p&gt; &lt;span class=&quot;move&quot; @click=&quot;removeToComplete(item, index)&quot;&gt;âˆš&lt;/span&gt; &lt;span class=&quot;del&quot; @click=&quot;deleteWait(index)&quot;&gt;-&lt;/span&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;h4 v-show=&quot;completedList.length &gt; 0&quot;&gt;å·²å®Œæˆ&lt;/h4&gt; &lt;ul class=&quot;has-completed&quot;&gt; &lt;li v-for=&quot;(item, index) in completedList&quot; :keys=&quot;item&quot;&gt; &lt;p&gt; &lt;i&gt;&#123;&#123;index + 1&#125;&#125;&lt;/i&gt; &lt;input :value=&quot;item&quot; disabled=&quot;true&quot; type=&quot;text&quot; /&gt; &lt;/p&gt; &lt;p&gt; &lt;span class=&quot;move&quot; @click=&quot;removeToWait(item, index)&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;del&quot; @click=&quot;deleteComplete(index)&quot;&gt;-&lt;/span&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718192021222324252627282930313233343536&lt;script&gt;export default &#123; data() &#123; return &#123; toDoText: &#x27;&#x27;, toDoList: [], completedList: [] &#125; &#125;, methods: &#123; setValue(index, e) &#123; this.toDoList.splice(index, 1, e.target.value) &#125;, removeToComplete(item, index) &#123; this.completedList.splice(this.completedList.length, 0, item) this.toDoList.splice(index, 1) &#125;, removeToWait(item, index) &#123; this.toDoList.splice(this.toDoList.length, 0, item) this.completedList.splice(index, 1) &#125;, enterText() &#123; if (this.toDoText.trim().length &gt; 0) &#123; this.toDoList.splice(this.toDoList.length, 0, this.toDoText) this.toDoText = &#x27;&#x27; &#125; &#125;, deleteWait(index) &#123; this.toDoList.splice(index, 1) &#125;, deleteComplete(index) &#123; this.completedList.splice(index, 1) &#125; &#125;&#125;;&lt;/script&gt; é¡µé¢å†™å®Œï¼ŒåŸå‹ä¸Šçš„éœ€æ±‚ä¹Ÿå¤§æ¦‚å¼€å‘å®Œæˆï¼Œé¡µé¢å¤§æ¦‚é•¿å¦‚ä¸‹æ ·å­ï¼š ä¿®æ”¹ç›®å½•é…ç½®æ¥ä¸‹æ¥å°±æ˜¯å¼€å§‹ç¼–å†™å•å…ƒæµ‹è¯•æ–‡ä»¶äº†ï¼Œå†™ä¹‹å‰æˆ‘ä»¬å…ˆæŠŠæµ‹è¯•æ–‡ä»¶ç›®å½•ä¿®æ”¹ä¸‹ä¸º __tests__ï¼ŒåŒæ—¶ä¿®æ”¹ jest.config.js ä¸ºå¦‚ä¸‹é…ç½®ï¼Œæ³¨æ„å…¶ä¸­çš„ testMatch å·²ç»ä¿®æ”¹ä¸ºåŒ¹é… __tests__ ç›®å½•ä¸‹çš„æ‰€æœ‰ .js æ–‡ä»¶äº†ã€‚ 123456789101112131415161718module.exports = &#123; moduleFileExtensions: [ &#x27;js&#x27;, &#x27;vue&#x27; ], transform: &#123; &#x27;^.+\\\\.vue$&#x27;: &#x27;&lt;rootDir&gt;/node_modules/vue-jest&#x27;, &#x27;^.+\\\\.js$&#x27;: &#x27;&lt;rootDir&gt;/node_modules/babel-jest&#x27; &#125;, moduleNameMapper: &#123; &#x27;^@/(.*)$&#x27;: &#x27;&lt;rootDir&gt;/src/$1&#x27; &#125;, snapshotSerializers: [ &#x27;jest-serializer-vue&#x27; ], testMatch: [&#x27;**/__tests__/**/*.spec.js&#x27;], transformIgnorePatterns: [&#x27;&lt;rootDir&gt;/node_modules/&#x27;]&#125; ç¼–å†™æµ‹è¯•æ–‡ä»¶åœ¨ __tests__/unit/ ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ todolist.spec.jsï¼Œæˆ‘ä»¬çº¦å®šæµ‹è¯•æŸä¸ª vue æ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒçš„å•å…ƒæµ‹è¯•æ–‡ä»¶ä¹ æƒ¯å‘½åæˆ *.spec.js æˆ– *.test.jsã€‚ 123456789import &#123; shallowMount &#125; from &#x27;@vue/test-utils&#x27;import ToDoList from &#x27;@/components/ToDoList&#x27;describe(&#x27;test ToDoList&#x27;, () =&gt; &#123; it(&#x27;è¾“å…¥æ¡†åˆå§‹å€¼ä¸ºç©ºå­—ç¬¦ä¸²&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) expect(wrapper.vm.toDoText).toBe(&#x27;&#x27;) &#125;)&#125;) ä¸Šé¢è¿™ä¸ªæµ‹è¯•æ–‡ä»¶ç®€è¦è¯´æ˜ï¼š shallowMount å°†ä¼šåˆ›å»ºä¸€ä¸ªåŒ…å«è¢«æŒ‚è½½å’Œæ¸²æŸ“çš„ Vue ç»„ä»¶çš„ Wrapperï¼Œåªå­˜æ ¹å½“å‰ç»„ä»¶ï¼Œä¸åŒ…å«å­ç»„ä»¶ã€‚ describe(name, fn) è¿™è¾¹æ˜¯å®šä¹‰ä¸€ä¸ªæµ‹è¯•å¥—ä»¶ï¼Œtest ToDoList æ˜¯æµ‹è¯•å¥—ä»¶çš„åå­—ï¼Œfn æ˜¯å…·ä½“çš„å¯æ‰§è¡Œçš„å‡½æ•° it(name, fn) æ˜¯ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¾“å…¥æ¡†åˆå§‹å€¼ä¸ºç©ºå­—ç¬¦ä¸² æ˜¯æµ‹è¯•ç”¨ä¾‹çš„åå­—ï¼Œfn æ˜¯å…·ä½“çš„å¯æ‰§è¡Œå‡½æ•°ï¼›ä¸€ä¸ªæµ‹è¯•å¥—ä»¶é‡Œå¯ä»¥ä¿æŠ¤å¤šä¸ªæµ‹è¯•ç”¨ä¾‹ã€‚ expect æ˜¯ Jest å†…ç½®çš„æ–­è¨€é£æ ¼ï¼Œä¸šç•Œè¿˜å­˜åœ¨åˆ«çš„æ–­è¨€é£æ ¼æ¯”å¦‚ Shouldã€Assert ç­‰ã€‚ toBe æ˜¯ Jest æä¾›çš„æ–­è¨€æ–¹æ³•ï¼Œ æ›´å¤šçš„å¯ä»¥åˆ°Jest Expect æŸ¥çœ‹å…·ä½“ç”¨æ³•ã€‚ 123456789it(&#x27;å¾…å®Œæˆåˆ—è¡¨åˆå§‹å€¼åº”è¯¥ä¸ºç©ºæ•°ç»„&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) expect(wrapper.vm.toDoList.length).toBe(0)&#125;)it(&#x27;å·²å®Œæˆåˆ—è¡¨åˆå§‹å€¼åº”è¯¥ä¸ºç©ºæ•°ç»„&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) expect(wrapper.vm.completedList).toEqual([])&#125;) å¾…å®Œæˆå’Œå·²å®Œæˆåˆ—è¡¨ï¼Œå±…ç„¶æ˜¯åˆ—è¡¨ï¼Œæ‰€ä»¥å­˜æ”¾æ•°æ®çš„å­—æ®µå¿…é¡»æ˜¯ Array ç±»å‹ï¼Œç©ºåˆ—è¡¨å°±æ˜¯ç©ºæ•°ç»„ã€‚å¦‚æœç¬¬äºŒä¸ªæµ‹è¯•ç”¨ä¾‹æ”¹æˆï¼š 1expect(wrapper.vm.completedList).toBe([]) å°†ä¼šæŠ¥é”™ï¼Œå› ä¸º toBe æ–¹æ³•å†…éƒ¨æ˜¯è°ƒç”¨ Object.is(value1, value2) æ¥æ¯”è¾ƒ2ä¸ªå€¼æ˜¯å¦ç›¸ç­‰çš„ï¼Œå’Œ == æˆ– === çš„åˆ¤æ–­é€»è¾‘ä¸ä¸€æ ·ã€‚æ˜¾ç„¶ Object.is([], []) ä¼šè¿”å› falseã€‚ 12345678910111213141516171819202122it(&#x27;è¾“å…¥æ¡†å€¼å˜åŒ–çš„æ—¶å€™ï¼ŒtoDoTextåº”è¯¥è·Ÿç€å˜åŒ–&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.find(&#x27;.to-do-text&#x27;).setValue(&#x27;æ™šä¸Šè¦é™ªå¦ˆå¦ˆé€›è¶…å¸‚&#x27;) expect(wrapper.vm.toDoText).toBe(&#x27;æ™šä¸Šè¦é™ªå¦ˆå¦ˆé€›è¶…å¸‚&#x27;)&#125;)it(&#x27;è¾“å…¥æ¡†æ²¡æœ‰å€¼ï¼Œæ•²å…¥å›è½¦çš„æ—¶å€™ï¼Œæ— å˜åŒ–&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) const length = wrapper.vm.toDoList.length const input = wrapper.find(&#x27;.to-do-text&#x27;) input.setValue(&#x27;&#x27;) input.trigger(&#x27;keyup.enter&#x27;) expect(wrapper.vm.toDoList.length).toBe(length)&#125;)it(&#x27;è¾“å…¥æ¡†æœ‰å€¼ï¼Œæ•²å…¥å›è½¦çš„æ—¶å€™ï¼Œå¾…å®Œæˆåˆ—è¡¨å°†æ–°å¢ä¸€æ¡æ•°æ®ï¼ŒåŒæ—¶æ¸…ç©ºè¾“å…¥æ¡†&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) const length = wrapper.vm.toDoList.length const input = wrapper.find(&#x27;.to-do-text&#x27;) input.setValue(&#x27;æ™šä¸Šå»åƒå¤§é¤&#x27;) input.trigger(&#x27;keyup.enter&#x27;) expect(wrapper.vm.toDoList.length).toBe(length + 1) expect(wrapper.vm.toDoText).toBe(&#x27;&#x27;)&#125;) setValue å¯ä»¥è®¾ç½®ä¸€ä¸ªæ–‡æœ¬æ§ä»¶çš„å€¼å¹¶æ›´æ–° v-model ç»‘å®šçš„æ•°æ®ã€‚ .to-do-text æ˜¯ä¸€ä¸ª CSS é€‰æ‹©å™¨ï¼›Vue-Test-Utils æä¾›äº† find æ–¹æ³•æ¥é€šè¿‡æŸ¥æ‰¾é€‰æ‹©å™¨ï¼Œæ¥è¿”å›ä¸€ä¸ª Wrapperï¼›é€‰æ‹©å™¨å¯ä»¥æ˜¯ CSS é€‰æ‹©å™¨ã€å¯ä»¥æ˜¯ Vue ç»„ä»¶ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†ç»„ä»¶çš„ name æˆ– ref å±æ€§ï¼Œæ¯”å¦‚å¯ä»¥è¿™æ ·ç”¨ï¼šwrapper.find(&#123; name: &#39;my-button&#39; &#125;) wrapper.vm æ˜¯ä¸€ä¸ª Vue å®ä¾‹ï¼Œåªæœ‰ Vue ç»„ä»¶çš„åŒ…è£¹å™¨æ‰æœ‰ vm è¿™ä¸ªå±æ€§ï¼›é€šè¿‡ wrapper.vm å¯ä»¥è®¿é—®æ‰€æœ‰ Vue å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ã€‚æ¯”å¦‚ï¼šwrapper.vm.$dataã€wrapper.vm.$nextTick()ã€‚ trigger æ–¹æ³•å¯ä»¥ç”¨æ¥è§¦å‘ä¸€ä¸ª DOM äº‹ä»¶ï¼Œè¿™é‡Œè§¦å‘çš„äº‹ä»¶éƒ½æ˜¯åŒæ­¥çš„ï¼Œæ‰€ä»¥ä¸å¿…å°†æ–­è¨€æ”¾åˆ° $nextTick() é‡Œå»æ‰§è¡Œï¼›åŒæ—¶æ”¯æŒä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå½“æ•è·åˆ°äº‹ä»¶çš„æ—¶å€™ï¼Œå¯ä»¥è·å–åˆ°ä¼ å…¥å¯¹è±¡çš„å±æ€§ã€‚å¯ä»¥è¿™æ ·å†™ï¼šwrapper.trigger(&#39;click&#39;, &#123;name: &quot;bubuzou.com&quot;&#125;) 1234567it(&#x27;å¾…å®Œæˆåˆ—è¡¨æ”¯æŒç¼–è¾‘åŠŸèƒ½ï¼Œç¼–è¾‘åæ›´æ–°toDoListæ•°ç»„&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;toDoList: [&#x27;è·‘æ­¥åŠå°æ—¶&#x27;]&#125;) wrapper.find(&#x27;.wait-to-do li&#x27;).find(&#x27;input&#x27;).setValue(&#x27;ç»•ç€å…¬å›­è·‘3åœˆ&#x27;) wrapper.find(&#x27;.wait-to-do li&#x27;).find(&#x27;input&#x27;).trigger(&#x27;blur&#x27;) expect(wrapper.vm.toDoList[0]).toBe(&#x27;ç»•ç€å…¬å›­è·‘3åœˆ&#x27;)&#125;) å…ˆç”¨ setData ç»™ toDoList è®¾ç½®ä¸€ä¸ªåˆå§‹å€¼ï¼Œä½¿å…¶æ¸²æŸ“å‡ºä¸€ä¸ªåˆ—è¡¨é¡¹ï¼›ç„¶åæ‰¾åˆ°è¿™ä¸ªåˆ—è¡¨é¡¹ï¼Œç”¨ setValue ç»™å…¶è®¾ç½®å€¼ï¼Œæ¨¡æ‹Ÿäº†ç¼–è¾‘ï¼›åˆ—è¡¨é¡¹çš„è¾“å…¥æ¡†æ˜¯ç”¨ :value=&quot;item&quot; ç»‘å®šçš„ value, æ‰€ä»¥ setValue æ— æ³•è§¦å‘æ›´æ–°ï¼›åªèƒ½é€šè¿‡ trigger æ¥è§¦å‘æ›´æ–° toDoList çš„å€¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839it(&#x27;å¾…å®Œæˆåˆ—è¡¨ç‚¹å‡»åˆ é™¤ï¼ŒåŒæ—¶æ›´æ–°toDoListæ•°ç»„&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;toDoList: [&#x27;ç¡å‰çœ‹ä¸€å°æ—¶ä¹¦&#x27;]&#125;) expect(wrapper.vm.toDoList.length).toBe(1) wrapper.find(&#x27;.wait-to-do li&#x27;).find(&#x27;.del&#x27;).trigger(&#x27;click&#x27;) expect(wrapper.vm.toDoList.length).toBe(0)&#125;)it(&#x27;ç‚¹å‡»å¾…å®Œæˆåˆ—è¡¨ä¸­æŸé¡¹çš„å·²å®ŒæˆæŒ‰é’®ï¼Œæ•°æ®å¯¹åº”æ›´æ–°&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;toDoList: [&#x27;ä¸­åˆé¥­ååƒä¸€ä¸ªè‹¹æœ&#x27;]&#125;) expect(wrapper.vm.toDoList.length).toBe(1) expect(wrapper.vm.completedList.length).toBe(0) wrapper.find(&#x27;.wait-to-do li&#x27;).find(&#x27;.move&#x27;).trigger(&#x27;click&#x27;) expect(wrapper.vm.toDoList.length).toBe(0) expect(wrapper.vm.completedList.length).toBe(1)&#125;)it(&#x27;ç‚¹å‡»å·²å®Œæˆåˆ—è¡¨ä¸­æŸé¡¹çš„æœªå®ŒæˆæŒ‰é’®ï¼Œæ•°æ®å¯¹åº”æ›´æ–°&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;completedList: [&#x27;å”±äº†ä¸€é¦–æ­Œ&#x27;]&#125;) expect(wrapper.vm.toDoList.length).toBe(0) expect(wrapper.vm.completedList.length).toBe(1) wrapper.find(&#x27;.has-completed li&#x27;).find(&#x27;.move&#x27;).trigger(&#x27;click&#x27;) expect(wrapper.vm.toDoList.length).toBe(1) expect(wrapper.vm.completedList.length).toBe(0)&#125;)it(&#x27;åˆ—è¡¨åºå·ä»1å¼€å§‹é€’å¢&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;toDoList: [&#x27;æ—©ä¸Šåšä½œä¸š&#x27;, &#x27;ä¸‹åˆå»é€›è¡—&#x27;]&#125;) expect(wrapper.vm.toDoList.length).toBe(2) expect(wrapper.find(&#x27;.wait-to-do&#x27;).html()).toMatch(&#x27;&lt;i&gt;1&lt;/i&gt;&#x27;) expect(wrapper.find(&#x27;.wait-to-do&#x27;).html()).toMatch(&#x27;&lt;i&gt;2&lt;/i&gt;&#x27;)&#125;)it(&#x27;å½“å¾…å®Œæˆåˆ—è¡¨ä¸ºç©ºçš„æ—¶å€™ï¼Œä¸æ˜¾ç¤ºå¾…å®Œæˆå­—æ ·&#x27;, () =&gt; &#123; const wrapper = shallowMount(ToDoList) wrapper.setData(&#123;toDoList: []&#125;) expect(wrapper.find(&#x27;h4&#x27;).isVisible()).toBeFalsy() wrapper.setData(&#123;toDoList: [&#x27;æ˜å¤©å»çˆ¬åŒ—å±±&#x27;]&#125;) expect(wrapper.find(&#x27;h4&#x27;).isVisible()).toBeTruthy()&#125;) ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ä¸­å¯ä»¥å†™å¤šä¸ª expect ä»¥ä¿è¯æ–­è¨€çš„å‡†ç¡®æ€§ã€‚ å¼‚æ­¥æµ‹è¯•æœ€åæˆ‘ä»¬ä¸ºäº†æ¨¡æ‹Ÿå¼‚æ­¥æµ‹è¯•ï¼Œæ‰€ä»¥åŠ ä¸€ä¸ªéœ€æ±‚ï¼Œå³é¡µé¢åŠ è½½çš„æ—¶å€™ä¼šå»è¯·æ±‚è¿œç¨‹å¾…å®Œæˆåˆ—è¡¨çš„æ•°æ®ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º __mocks__ ç›®å½•ï¼ŒåŒæ—¶æ–°å»º axios.js: 12345678910111213141516const toToList = &#123; success: true, data: [&#x27;ä¸Šåˆå»å›¾ä¹¦é¦†çœ‹ä¹¦&#x27;, &#x27;ä¸‹å»å‡ºå»é€›è¡—&#x27;]&#125;export const get = (url) =&gt; &#123; if (url === &#x27;toToList.json&#x27;) &#123; return new Promise((resolve, reject) =&gt; &#123; if (toToList.success) &#123; resolve(toToList) &#125; else &#123; reject(new Error()) &#125; &#125;) &#125;&#125; ä¿®æ”¹ ToDoList.vueï¼Œå¯¼å…¥ axios å’Œå¢åŠ  mountedï¼š 12345678910111213&lt;script&gt;import * as axios from &#x27;../../__mocks__/axios&#x27;export default &#123; mounted () &#123; axios.get(&#x27;toToList.json&#x27;).then(res =&gt; &#123; this.toDoList = res.data &#125;).catch(err =&gt; &#123; &#125;) &#125;,&#125;;&lt;/script&gt; æµ‹è¯•ç”¨ä¾‹ç¼–å†™ä¸ºï¼š 123456it(&#x27;å½“é¡µé¢æŒ‚è½½çš„æ—¶å€™å»è¯·æ±‚æ•°æ®ï¼Œè¯·æ±‚æˆåŠŸååº”è¯¥ä¼šè¿”å›2æ¡æ•°æ®&#x27;, (done) =&gt; &#123; wrapper.vm.$nextTick(() =&gt; &#123; expect(wrapper.vm.toDoList.length).toBe(2) done() &#125;)&#125;) å¯¹äºå¼‚æ­¥çš„ä»£ç ï¼Œå†™æ–­è¨€çš„æ—¶å€™éœ€è¦æ”¾åœ¨ wrapper.vm.$nextTick() é‡Œï¼Œä¸”æ‰‹åŠ¨è°ƒç”¨ done()ã€‚ é…ç½®æµ‹è¯•è¦†ç›–ç‡æµ‹è¯•ç”¨ä¾‹å†™äº†éƒ¨åˆ†ï¼Œå¦‚æœæˆ‘ä»¬çœ‹ä¸‹è¦†ç›–ç‡å¦‚ä½•ï¼Œå°±éœ€è¦è¦é…ç½®æµ‹è¯•è¦†ç›–ç‡ã€‚åœ¨ jest.config.js é‡Œæ–°å¢é…ç½®ï¼š 12collectCoverage: true,collectCoverageFrom: [&quot;**/*.&#123;js,vue&#125;&quot;, &quot;!**/node_modules/**&quot;], åœ¨ package.json çš„ scripts ä¸­æ–°å¢ä¸€æ¡é…ç½®: 1&quot;test:cov&quot;: &quot;vue-cli-service test:unit --coverage&quot; ç„¶åæˆ‘ä»¬åœ¨ç»ˆç«¯è¿è¡Œï¼š npm run test:covï¼Œç»“æœå¦‚ä¸‹ï¼š è¿è¡Œæµ‹è¯•è¦†ç›–ç‡å‘½ååä¼šåœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆ coverage ç›®å½•ï¼Œæµè§ˆå™¨æ‰“å¼€é‡Œé¢çš„ index.html ï¼š","categories":[{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/categories/vue/"}],"tags":[{"name":"jest","slug":"jest","permalink":"https://bubuzou.com/tags/jest/"},{"name":"vue-test-utils","slug":"vue-test-utils","permalink":"https://bubuzou.com/tags/vue-test-utils/"},{"name":"å•å…ƒæµ‹è¯•","slug":"å•å…ƒæµ‹è¯•","permalink":"https://bubuzou.com/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"}]},{"title":"Gitå¸¸ç”¨æ“ä½œï¼Œä¸€æ–‡æ‰“å°½","slug":"git-all-actions","date":"2019-09-24T08:29:10.000Z","updated":"2019-09-24T10:32:10.699Z","comments":true,"path":"2019/09/24/git-all-actions/","link":"","permalink":"https://bubuzou.com/2019/09/24/git-all-actions/","excerpt":"åˆ›å»ºç‰ˆæœ¬åº“ git clone url å…‹éš†è¿œç¨‹ç‰ˆæœ¬åº“ git init åˆå§‹åŒ–æœ¬åœ°ç‰ˆæœ¬åº“","text":"åˆ›å»ºç‰ˆæœ¬åº“ git clone url å…‹éš†è¿œç¨‹ç‰ˆæœ¬åº“ git init åˆå§‹åŒ–æœ¬åœ°ç‰ˆæœ¬åº“ é…ç½® git config --global user.name &#39;chengcp&#39; é…ç½®globalçº§åˆ«çš„ç”¨æˆ·å git config --global user.email &#39;1326895569@qq.com&#39; é…ç½®globalçº§åˆ«çš„é‚®ç®± git config --global -l æŸ¥çœ‹globalçº§åˆ«çš„é…ç½®åˆ—è¡¨ git config --global --unset user.name åˆ é™¤ç”¨æˆ·å git config --global alias.last &#39;log -1 HEAD&#39; é…ç½®laståˆ«åï¼Œä½¿ç”¨git lastå°†æ˜¾ç¤ºæœ€è¿‘çš„ä¸€æ¬¡æäº¤è®°å½• æ·»åŠ å’Œåˆ é™¤æ–‡ä»¶ git add file1 file2 æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº git add dir æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒº git add . æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº git mv oldname newname å¯¹ä¸€ä¸ªå·²ç»è¿½è¸ªè¿‡çš„æ–‡ä»¶è¿›è¡Œæ”¹åï¼ŒåŒæ—¶åŠ å…¥æš‚å­˜åŒº git rm file1 file2 åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼ŒåŒæ—¶å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº git rm --cached file åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒºï¼›trackedå˜æˆuntracked æäº¤ git commit file1 file 2 -m message æäº¤æš‚å­˜åŒºæŒ‡å®šæ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ git commit -m message æäº¤æš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ git commit -a -m message è‡ªåŠ¨æš‚å­˜æ‰€æœ‰å·²ç»è¿½è¸ªè¿‡çš„æ–‡ä»¶ï¼Œä¸”æäº¤åˆ°æœ¬åœ°ä»“åº“ git commit --amend -m message ä½¿ç”¨ä¸€æ¬¡æ–°çš„æäº¤ï¼Œæ›¿ä»£ä¸Šæ¬¡æäº¤ åˆ†æ”¯ git branch æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch â€“r æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹åˆ†æ”¯ git branch â€“a æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹å’Œæœ¬åœ°åˆ†æ”¯ git branch â€“v æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰åˆ†æ”¯æœ€æ–°ä¸€æ¬¡æäº¤ä¿¡æ¯ git branch [branch] æ–°å»ºåˆ†æ”¯ git checkout â€“b [branch] æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶ä¸”åˆ‡æ¢è¿‡å» git branch [branch] [commit] åŸºäºæŸæ¬¡æäº¤ï¼Œå»ºç«‹ä¸€ä¸ªåˆ†æ”¯ git branch --track [branch] [remote-branch] å»ºç«‹ä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶ä¸”ä¸è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³» git branch --set-upstream [branch] [remote-branch] åœ¨ç°æœ‰çš„æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯ä¹‹é—´å»ºç«‹è¿½è¸ªå…³ç³» git branch â€“m [old-branch] [new-branch] é‡å‘½ååˆ†æ”¯ git merge [branch] æŠŠæŒ‡å®šåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ git chery-pick [commit] [commit] é€‰æ‹©æäº¤ï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯ git branch â€“d [branch] åˆ é™¤æœ¬åœ°åˆ†æ”¯ git push origin â€“d [branch] åˆ é™¤è¿œç¨‹åˆ†æ”¯ git checkout [branch] åˆ‡æ¢åˆ†æ”¯ git checkout - åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæœ€è¿‘ä½¿ç”¨è¿‡çš„åˆ†æ”¯ æ ‡ç­¾ git tag åˆ—å‡ºæ‰€æœ‰æ ‡ç­¾ git show [tag] æŸ¥çœ‹æŒ‡å®šæ ‡ç­¾ä¿¡æ¯ git tag [tag] ç»™æœ€è¿‘ä¸€æ¬¡æäº¤æ‰“ä¸€ä¸ªæ ‡ç­¾ git tag [tag] [commit] åœ¨æŸæ¬¡æäº¤ä¸Šæ‰“ä¸€ä¸ªæ ‡ç­¾ git tag â€“d [tag] åˆ é™¤æœ¬åœ°æŒ‡å®šæ ‡ç­¾ git push origin â€“d tag [tag] åˆ é™¤è¿œç¨‹çš„æ ‡ç­¾ git push origin [tag] æ¨é€æŒ‡å®šæ ‡ç­¾ git push origin --tags æ¨é€æ‰€æœ‰æ ‡ç­¾ æŸ¥çœ‹ä¿¡æ¯ git status æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ git help [command] è·å–å¸®åŠ©æ–‡æ¡£ git [command] --help è·å–å¸®åŠ©æ–‡æ¡£ git log æŸ¥çœ‹å½“å‰åˆ†æ”¯çš„æäº¤è®°å½• git log â€“all æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯çš„æäº¤è®°å½• git log -5 --oneline --graph æŸ¥çœ‹æœ€è¿‘5æ¬¡æäº¤è®°å½•ï¼Œä»¥å•è¡Œã€æ ‘çŠ¶å›¾å½¢å¼æ˜¾ç¤º git reflog æŸ¥çœ‹æœ¬åœ°æ‰€æœ‰å˜æ›´è®°å½• git diff æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚ git diff -- file æŸä¸ªæ–‡ä»¶åœ¨å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚ git diff HEAD å·¥ä½œåŒºå’Œæœ€æ–°ä¸€æ¬¡æäº¤çš„å·®å¼‚ git diff --cached æš‚å­˜åŒºå’ŒHEADçš„å·®å¼‚ git diff branch_a branch_b â€“ file æŸæ–‡ä»¶åœ¨ä¸¤ä¸ªåˆ†æ”¯é—´çš„å·®å¼‚ è¿œç¨‹æ“ä½œ git remote -v æŸ¥çœ‹æ‰€æœ‰è¿œç¨‹ä»“åº“ git ls-remote origin æŸ¥çœ‹è¿œç¨‹ä»“åº“å¼•ç”¨åˆ—è¡¨ git remote show origin æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯ git fetch origin æ‹‰å–è¿œç¨‹ä»“åº“æœ€æ–°æäº¤ git pull origin master æ‹‰å–è¿œç¨‹masterï¼Œå¹¶ä¸”åˆå¹¶åˆ°æœ¬åœ°å½“å‰åˆ†æ”¯ git remote add upstream url æ·»åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå‘½åä¸ºupstream git push origin master æ¨é€åˆ°è¿œç¨‹originçš„masteråˆ†æ”¯ git push origin --all æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ git remote prune origin åˆ é™¤è¿œç¨‹ä»“åº“ä¸­ä¸å­˜åœ¨çš„åˆ†æ”¯ æ’¤é”€ git reset --soft HEAD å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¿ç•™å·¥ä½œåŒºå’Œæš‚å­˜åŒº git reset --mixed HEAD å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œä¿ç•™å·¥ä½œåŒºï¼Œæ¸…ç©ºæš‚å­˜åŒºï¼›--mixedæ˜¯é»˜è®¤å‚æ•°ï¼Œå³ç­‰åŒäºgit reset HEAD git reset --hard HEAD å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬ï¼Œæ¸…ç©ºå·¥ä½œåŒºå’Œæš‚å­˜åŒº git reset HEAD -- file æ¸…ç©ºæš‚å­˜åŒºä¸­æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹ git checkout -- file æ£€å‡ºæš‚å­˜åŒºçš„æ–‡ä»¶åˆ°å·¥ä½œç›®å½• git checkout . æ£€å‡ºæš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œç›®å½• git revert HEAD~ 2 å›æ»šåˆ°2ä¸ªç¥–å…ˆæäº¤çš„ç‰ˆæœ¬ï¼ŒåŒæ—¶äº§ç”Ÿæ–°çš„æäº¤è®°å½• git revert --continue å†²çªè§£å†³ï¼Œä¸”æŠŠä¿®æ”¹æäº¤åˆ°æš‚å­˜åŒºåæ‰§è¡Œå›æ»šï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„æäº¤ git revert â€“abort å–æ¶ˆå›æ»šï¼Œå›åˆ°ä¹‹å‰çš„çŠ¶æ€ å‚¨è— git stash å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å˜æ›´ä¿å­˜åˆ°å‚¨è—å †æ ˆä¸­ï¼ŒåŒæ—¶å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ¢å¤åˆ°HEADä¸€æ · git stash list æŸ¥çœ‹å‚¨è—åˆ—è¡¨ git stash pop åº”ç”¨æœ€è¿‘çš„ä¸€æ¬¡å‚¨è—ï¼Œå¹¶ä¸”ä»å‚¨è—æ ˆä¸­ç§»é™¤è¯¥æ¡è®°å½• git stash apply stash@&#123;0&#125; åº”ç”¨æœ€è¿‘çš„ä¸€æ¬¡å‚¨è—ï¼Œä¸ç§»é™¤è®°å½•ï¼›ç­‰åŒäº git stash apply git stash pop --index åº”ç”¨æœ€è¿‘ä¸€æ¬¡å‚¨è—ï¼Œ--indexè¡¨ç¤ºæš‚å­˜åŒºçš„å˜æ›´ä¹Ÿä¼šæ›´æ–°ï¼Œå¦åˆ™åªæ›´æ–°å·¥ä½œåŒºå˜æ›´ git stash drop stash@&#123;0&#125; ç§»é™¤å‚¨è—è®°å½•","categories":[{"name":"git","slug":"git","permalink":"https://bubuzou.com/categories/git/"}],"tags":[{"name":"git","slug":"git","permalink":"https://bubuzou.com/tags/git/"}]},{"title":"vue-quill-editoræ’å…¥å›¾ç‰‡è·¯å¾„å¤ªé•¿é—®é¢˜è§£å†³","slug":"vue-quill-editor","date":"2019-07-26T02:49:08.000Z","updated":"2020-10-23T08:12:27.542Z","comments":true,"path":"2019/07/26/vue-quill-editor/","link":"","permalink":"https://bubuzou.com/2019/07/26/vue-quill-editor/","excerpt":"æœ€è¿‘åšé¡¹ç›®çš„æ—¶å€™æœ‰ä¸€ä¸ªå‘å¸ƒæ–°é—»çš„éœ€æ±‚ï¼Œæ–°é—»ç¼–è¾‘çš„æ—¶å€™è¦æ±‚èƒ½å‘å¸ƒå¸¦æ ¼å¼çš„æ–‡æœ¬å†…å®¹å’Œèƒ½å±•ç¤ºæ”¯æŒå›¾ç‰‡ã€‚ç”±äºé¡¹ç›®æ˜¯ç”¨vueå¼€å‘çš„ï¼Œæ‰€ä»¥æ‰¾ç¼–è¾‘å™¨çš„æ—¶å€™é€‰äº† vue-quill-editor ã€‚ç¼–è¾‘å™¨é•¿å¦‚ä¸‹çš„æ ·å­ï¼š","text":"æœ€è¿‘åšé¡¹ç›®çš„æ—¶å€™æœ‰ä¸€ä¸ªå‘å¸ƒæ–°é—»çš„éœ€æ±‚ï¼Œæ–°é—»ç¼–è¾‘çš„æ—¶å€™è¦æ±‚èƒ½å‘å¸ƒå¸¦æ ¼å¼çš„æ–‡æœ¬å†…å®¹å’Œèƒ½å±•ç¤ºæ”¯æŒå›¾ç‰‡ã€‚ç”±äºé¡¹ç›®æ˜¯ç”¨vueå¼€å‘çš„ï¼Œæ‰€ä»¥æ‰¾ç¼–è¾‘å™¨çš„æ—¶å€™é€‰äº† vue-quill-editor ã€‚ç¼–è¾‘å™¨é•¿å¦‚ä¸‹çš„æ ·å­ï¼š ç°åœ¨çš„é—®é¢˜ä½†æ˜¯è¿™ä¸ªç¼–è¾‘å™¨ä¼šæŠŠæ’å…¥çš„å›¾ç‰‡ä¼šè½¬æˆ base64 ä½çš„ç¼–ç ï¼Œä½¿å¾—ç¼–è¾‘å™¨å†…å®¹ä¿å­˜è¿›æ•°æ®åº“çš„æ—¶å€™ä¼šè¶…å‡ºé™åˆ¶é•¿åº¦ï¼Œä»è€ŒæŠ¥é”™ã€‚ ä»é—®é¢˜æ¥æºç€æ‰‹é¦–å…ˆè¦æ˜ç™½å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„åŸå› æ˜¯ vue-quill-editor ç¼–è¾‘å™¨é»˜è®¤æŠŠä¸Šä¼ çš„å›¾ç‰‡ç»™è½¬æˆ base64 ç¼–ç ï¼Œé‚£æ˜¯ä¸æ˜¯æœ‰è¿™ä¹ˆä¸€ä¸ªé…ç½®å‚æ•°å¯ä»¥è®¾ç½®ä¸Šä¼ åå›¾ç‰‡çš„æ ¼å¼å‘¢ï¼Ÿç»è¿‡ä¸€ç•ªæ–‡æ¡£çš„æŸ¥æ‰¾ï¼Œè²Œä¼¼æ˜¯æ²¡æœ‰ã€‚ä½†æ˜¯æä¾›äº†ä¸€ä¸ª handlers å¯ä»¥è‡ªå®šä¹‰å›¾ç‰‡ä¸Šä¼ çš„æ–¹å¼ï¼Œé‚£å°±ä»è¿™é‡Œä¸‹æ–‡ç« ã€‚å¤§æ¦‚æ„æ€æ˜¯ç‚¹å‡»è¿™ä¸ªå›¾ç‰‡æŒ‰é’®çš„æ—¶å€™ï¼Œä¼šå‡ºå‘ä¸€ä¸ªå›è°ƒï¼Œå¯ä»¥åœ¨å›è°ƒé‡Œè§¦å‘è‡ªå·±çš„æ–‡ä»¶ä¸Šä¼ å¼€å…³ã€‚è¿™é‡Œæˆ‘ç”¨çš„æ–‡ä»¶ä¸Šä¼ æ˜¯ element-ui çš„ el-uploadã€‚ å®‰è£…vue-quill-editor1npm install vue-quill-editor --save é…ç½®vue-quill-editoré…ç½® html 123456789&lt;quill-editor v-model=&quot;ruleForm.content&quot; ref=&quot;myQuillEditor&quot; :options=&quot;editorOption&quot; class=&quot;ql-editor&quot; :class=&quot;operationType.includes(&#x27;check&#x27;) ? &#x27;disabled&#x27; : &#x27;&#x27;&quot; :disabled=&quot;operationType.includes(&#x27;check&#x27;)&quot; &gt;&lt;/quill-editor&gt; å¯¼å…¥vue-quill-editor ä¸”è®¾ç½®componentsï¼š 123456import &#123; quillEditor &#125; from &#x27;vue-quill-editor&#x27;export default &#123; components: &#123; quillEditor &#125;&#125; è®¾ç½®options: 123456789101112131415161718192021222324252627282930editorOption:&#123; modules: &#123; toolbar: &#123; container: [ [&#x27;bold&#x27;, &#x27;italic&#x27;, &#x27;underline&#x27;, &#x27;strike&#x27;], [&#x27;blockquote&#x27;, &#x27;code-block&#x27;], [&#123; &#x27;list&#x27;: &#x27;ordered&#x27; &#125;, &#123; &#x27;list&#x27;: &#x27;bullet&#x27; &#125;], [&#123; &#x27;script&#x27;: &#x27;sub&#x27; &#125;, &#123; &#x27;script&#x27;: &#x27;super&#x27; &#125;], [&#123; &#x27;indent&#x27;: &#x27;-1&#x27; &#125;, &#123; &#x27;indent&#x27;: &#x27;+1&#x27; &#125;], [&#123; &#x27;size&#x27;: [&#x27;small&#x27;, false, &#x27;large&#x27;, &#x27;huge&#x27;] &#125;], [&#123; &#x27;header&#x27;: [1, 2, 3, 4, 5, 6, false] &#125;], [&#123; &#x27;color&#x27;: [] &#125;, &#123; &#x27;background&#x27;: [] &#125;], [&#123; &#x27;align&#x27;: [] &#125;], [&#x27;clean&#x27;], [&#x27;link&#x27;, &#x27;image&#x27;] ], handlers: &#123; image: function(value) &#123; if (value) &#123; // è§¦å‘element-uiçš„æ–‡ä»¶ä¸Šä¼  document.querySelector(&quot;.avatar-uploader input&quot;).click(); &#125; else &#123; this.quill.format(&quot;image&quot;, false); &#125; &#125;, &#125; &#125; &#125;, placeholder: &#x27;è¯·è¾“å…¥&#x27;,&#125;, å¼•å…¥ç›¸å…³styleï¼š 12345&lt;style lang=&quot;scss&quot;&gt; @import &#x27;~quill/dist/quill.core.css&#x27;; @import &#x27;~quill/dist/quill.snow.css&#x27;; @import &#x27;~quill/dist/quill.bubble.css&#x27;;&lt;/style&gt; é…ç½®el-uploadtemplateï¼š 123456789101112&lt;el-upload ref=&quot;quillUploader&quot; class=&quot;avatar-uploader&quot; :action=&quot;serverUrl&quot; :show-file-list=&quot;false&quot; :auto-upload=&quot;false&quot; :on-change=&quot;onChangeQuill&quot; :before-upload=&quot;beforeUpload&quot; :limit=&quot;20&quot; :multiple=&quot;true&quot; :accept=&quot;acceptFile&quot;&gt;&lt;/el-upload&gt; onChangeçš„æ—¶å€™æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ ï¼Œè¿™é‡Œçš„æ–‡ä»¶ä¸Šä¼ ç”¨çš„æ˜¯è…¾è®¯çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ŒcosUtilså°è£…äº†ä¸€äº›å¯¹è±¡å­˜å‚¨çš„ä¸€äº›å·¥å…·æ–¹æ³•ï¼Œä½ ä»¬å¯ä»¥è‡ªè¡Œæ›¿æ¢æˆè‡ªå·±åç«¯çš„ä¸Šä¼ æ¥å£ã€‚ä¸‹é¢è¿™æ®µä»£ç çš„å¤§æ¦‚æ„æ€æ˜¯æ–‡ä»¶ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨æœåŠ¡å™¨æˆåŠŸä¹‹åï¼Œæ‹¿åˆ°å…·ä½“çš„å›¾ç‰‡åœ°å€ï¼Œæ’å…¥åˆ°ç¼–è¾‘å™¨å…‰æ ‡æ‰€åœ¨çš„ä½ç½®ï¼Œè¿™ä¸ªæ—¶å€™å›¾ç‰‡å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ 123456789101112131415onChangeQuill(file, fileList) &#123; let fileName = file.uid + file.name cosUtils.putObject(fileName, file.raw, &#x27;operate/&#x27;, (err, data) =&gt; &#123; // æ–°é—»å›¾ç‰‡å­˜åˆ°operate/ç›®å½•ä¸‹ console.log(err || data) if (!err) &#123; let quill = this.$refs.myQuillEditor.quill let length = quill.getSelection().index // å›¾ç‰‡ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨åçš„å…·ä½“åœ°å€ let imgSrc = `https://huzhouhuanzi-xxxxxxx.cos.ap-shanghai.myqcloud.com/operate/$&#123;fileName&#125;` quill.insertEmbed(length, &quot;image&quot;, imgSrc) // è°ƒæ•´å…‰æ ‡åˆ°æœ€å quill.setSelection(length + 1) &#125; &#125;)&#125;","categories":[{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/categories/vue/"}],"tags":[{"name":"å›¾åƒ","slug":"å›¾åƒ","permalink":"https://bubuzou.com/tags/%E5%9B%BE%E5%83%8F/"},{"name":"upload","slug":"upload","permalink":"https://bubuzou.com/tags/upload/"},{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/tags/vue/"}]},{"title":"å°ç¨‹åºæ ¹æ®æ‰“åŒ…å‘½ä»¤åŒºåˆ†ä¸åŒç¯å¢ƒçš„API","slug":"wepy-plugins-preprocess","date":"2019-06-26T23:52:40.000Z","updated":"2019-06-27T04:23:15.051Z","comments":true,"path":"2019/06/27/wepy-plugins-preprocess/","link":"","permalink":"https://bubuzou.com/2019/06/27/wepy-plugins-preprocess/","excerpt":"ä¸€èˆ¬æ¥è®²é¡¹ç›®éƒ½ä¼šæœ‰å¼€å‘ç‰ˆã€æµ‹è¯•ç‰ˆå’Œç”Ÿäº§ç‰ˆè¿™ä¸‰ä¸ªç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬å¯¹åº”ä¸åŒçš„APIåŸŸåï¼Œæ¯”å¦‚å¯èƒ½ä¼šæ˜¯è¿™æ ·å­ï¼š 123const HOST_DEV = &#x27;https://dev-bubuzouapi.com/&#x27; // å¼€å‘ç¯å¢ƒAPIconst HOST_TEST = &#x27;https://test-bubuzouapi.com/&#x27; // æµ‹è¯•ç¯å¢ƒAPIconst HOST = &#x27;https://bubuzouapi.com/&#x27; // ç”Ÿäº§ç¯å¢ƒAPI å‰ç«¯é¡¹ç›®é‡Œè¦å¦‚ä½•åŒºåˆ†ç”¨ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªAPIå‘¢ï¼Ÿæ¯”è¾ƒç¬¨çš„æ–¹æ³•æ˜¯ï¼Œæ¯”å¦‚è¿™æ¬¡æˆ‘è¦æ‰“ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒç»™æµ‹è¯•ç”¨ï¼Œé‚£æˆ‘å¿…é¡»æ‰‹åŠ¨çš„æŠŠ HOST_TEST è¿™ä¸ªå˜é‡çš„å€¼è®¾ç½®åˆ°è¯·æ±‚çš„ url é‡Œã€‚å¦‚æœä¸‹æ¬¡éœ€è¦æ‰“å…¶ä»–ç¯å¢ƒçš„åŒ…ï¼Œé‚£æˆ‘å°±éœ€è¦å†æ¬¡æ‰‹åŠ¨æ›´æ”¹ url ä¸ºåˆ«çš„å€¼ï¼Œè¿™æ ·æ˜¾å¾—å¾ˆä¸æ–¹ä¾¿ã€‚","text":"ä¸€èˆ¬æ¥è®²é¡¹ç›®éƒ½ä¼šæœ‰å¼€å‘ç‰ˆã€æµ‹è¯•ç‰ˆå’Œç”Ÿäº§ç‰ˆè¿™ä¸‰ä¸ªç‰ˆæœ¬ï¼Œä¸åŒç‰ˆæœ¬å¯¹åº”ä¸åŒçš„APIåŸŸåï¼Œæ¯”å¦‚å¯èƒ½ä¼šæ˜¯è¿™æ ·å­ï¼š 123const HOST_DEV = &#x27;https://dev-bubuzouapi.com/&#x27; // å¼€å‘ç¯å¢ƒAPIconst HOST_TEST = &#x27;https://test-bubuzouapi.com/&#x27; // æµ‹è¯•ç¯å¢ƒAPIconst HOST = &#x27;https://bubuzouapi.com/&#x27; // ç”Ÿäº§ç¯å¢ƒAPI å‰ç«¯é¡¹ç›®é‡Œè¦å¦‚ä½•åŒºåˆ†ç”¨ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªAPIå‘¢ï¼Ÿæ¯”è¾ƒç¬¨çš„æ–¹æ³•æ˜¯ï¼Œæ¯”å¦‚è¿™æ¬¡æˆ‘è¦æ‰“ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒç»™æµ‹è¯•ç”¨ï¼Œé‚£æˆ‘å¿…é¡»æ‰‹åŠ¨çš„æŠŠ HOST_TEST è¿™ä¸ªå˜é‡çš„å€¼è®¾ç½®åˆ°è¯·æ±‚çš„ url é‡Œã€‚å¦‚æœä¸‹æ¬¡éœ€è¦æ‰“å…¶ä»–ç¯å¢ƒçš„åŒ…ï¼Œé‚£æˆ‘å°±éœ€è¦å†æ¬¡æ‰‹åŠ¨æ›´æ”¹ url ä¸ºåˆ«çš„å€¼ï¼Œè¿™æ ·æ˜¾å¾—å¾ˆä¸æ–¹ä¾¿ã€‚ wepy-plugin-preprocesså¦‚æœä½ çš„å°ç¨‹åºç”¨çš„æ˜¯ wepy æ¡†æ¶æ¥æ„å»ºçš„è¯ï¼Œä½ å¯ä»¥ç”¨ wepy-plugin-preprocess è¿™ä¸ªæ’ä»¶æ¥å¯¹ js è¿›è¡Œä¸€ä¸ªé¢„å¤„ç†ï¼Œå¯ä»¥ä½¿å¾—æ¯æ¬¡è®¾ç½®åˆ°è¯·æ±‚é‡Œçš„ url çš„å€¼æ˜¯æ ¹æ®æ‰“åŒ…å‘½ä»¤æ¥çš„ã€‚ wepy-plugin-preprocess æ˜¯ä¾èµ–äº preprocess è¿™ä¸ªåŒ…çš„ï¼Œè¿™ä¸ªåŒ…é‡Œå®šä¹‰äº†ä¸€äº›ç”¨äºé¢„å¤„ç†çš„æŒ‡ä»¤ï¼Œæ¯”å¦‚ @if VAR=&#39;value&#39;ã€@ifdef VARã€@include è¿™ç§ï¼Œæƒ³è¦äº†è§£æ›´å¤šç”¨æ³•ï¼Œè¯·ç‚¹å‡»è¿™é‡Œã€‚ å®‰è£…æ’ä»¶ï¼š 1npm install wepy-plugin-preprocess --save-dev é…ç½®wepy.config.jsæ–‡ä»¶123456789let ENV = process.env.NODE_ENVmodule.exports = &#123; plugins: &#123; preprocess: &#123; filter: /\\.js$/, context: &#123; ENV &#125; &#125; &#125;,&#125; è®¾ç½®package.jsonæ–‡ä»¶æƒ³è¦åŒºåˆ†ä¸åŒçš„ç¯å¢ƒï¼Œå°±éœ€è¦é…ç½®å‡ ä¸ªä¸åŒç¯å¢ƒçš„æ‰“åŒ…å‘½ä»¤ã€‚ 1234567&#123; &quot;scripts&quot;: &#123; &quot;dev&quot;: &quot;cross-env NODE_ENV=dev wepy build --watch&quot;, &quot;test&quot;: &quot;cross-env NODE_ENV=test wepy build --no-cache&quot;, &quot;prod&quot;: &quot;cross-env NODE_ENV=prod wepy build --no-cache&quot;, &#125;&#125; å®šä¹‰å¸¸é‡æ–‡ä»¶å¸¸é‡æ–‡ä»¶é‡Œå¯ä»¥å®šä¹‰ä¸€äº›é¡¹ç›®é‡Œç”¨åˆ°çš„å¸¸é‡ï¼Œæ¯”å¦‚è¿™é‡Œä¼šå®šä¹‰ API åŸŸåã€‚ç„¶åæŠŠå¸¸é‡å¯¼å‡ºå»ï¼Œéœ€è¦ç”¨çš„åœ°æ–¹å†å¯¼å…¥å³å¯ä½¿ç”¨è¿™äº›å¸¸é‡ã€‚ 1234567891011121314/* @if ENV=&#x27;dev&#x27; **const HOST = exports.HOST = &#x27;https://dev-bubuzouapi.com/&#x27; // å¼€å‘ç¯å¢ƒAPIconst HOST_SOCKET = exports.HOST_SOCKET = &#x27;wss://dev-bubuzouapi.com/&#x27; // å¼€å‘ç¯å¢ƒsocket/* @endif *//* @if ENV=&#x27;test&#x27; **const HOST = exports.HOST = &#x27;https://test-bubuzouapi.com/&#x27; // æµ‹è¯•ç¯å¢ƒAPIconst HOST_SOCKET = exports.HOST_SOCKET = &#x27;wss://test-bubuzouapi.com/&#x27; // æµ‹è¯•ç¯å¢ƒsocket/* @endif *//* @if ENV=&#x27;prod&#x27; **const HOST = exports.HOST = &#x27;https://bubuzouapi.com/&#x27; // ç”Ÿäº§ç¯å¢ƒAPIconst HOST_SOCKET = exports.HOST_SOCKET = &#x27;wss://bubuzouapi.com/&#x27; // ç”Ÿäº§ç¯å¢ƒsocket/* @endif */ é€šè¿‡å‘½ä»¤åˆ‡æ¢apiåŸŸååˆ‡æ¢æˆå¼€å‘ç¯å¢ƒï¼š 1npm run dev // ç¼–è¯‘å®Œæˆåè¯·æ±‚çš„åŸŸåå°±æ˜¯&#x27;https://dev-bubuzouapi.com/&#x27; åˆ‡æ¢æˆæµ‹è¯•ç¯å¢ƒï¼š 1npm run test åˆ‡æ¢æˆç”Ÿäº§ç¯å¢ƒï¼š 1npm run prod","categories":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://bubuzou.com/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}],"tags":[{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://bubuzou.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"}]},{"title":"element-uiæ–‡ä»¶ä¸Šä¼ ä¸€æ¬¡è¯·æ±‚ä¸Šä¼ å¤šä¸ªæ–‡ä»¶","slug":"once-request-to-upload-multiple-files","date":"2019-03-26T08:48:21.000Z","updated":"2020-10-23T08:12:00.785Z","comments":true,"path":"2019/03/26/once-request-to-upload-multiple-files/","link":"","permalink":"https://bubuzou.com/2019/03/26/once-request-to-upload-multiple-files/","excerpt":"æœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å¯¼å…¥wordæ–‡æ¡£ï¼Œå¹¶ä¸”éœ€è¦æ”¯æŒå¤šé€‰ã€‚element-ui çš„ upload ç»„ä»¶æ”¯æŒå¤šé€‰æ–‡ä»¶ï¼Œåªéœ€è¦é…ç½®å‚æ•° multiple ä¸º true å³å¯ã€‚ä½†æ˜¯è¿™ä¸ªç»„ä»¶é»˜è®¤ä¼šå°†å¤šé€‰çš„æ–‡ä»¶åˆ†å¤šæ¬¡è¿›è¡Œä¸Šä¼ ï¼Œäºæ˜¯å°±ä¼šå­˜åœ¨å¤šæ¬¡çš„ä¸Šä¼ è¯·æ±‚ï¼Œç”±äºåå°çš„æ¥å£è¦æ±‚æ˜¯ä¸€æ¬¡è¯·æ±‚èƒ½å¤Ÿä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œä¸”æˆ‘ä»¬ä¹ŸçŸ¥é“è¯·æ±‚å¤šäº†ä¼šå¯¹æœåŠ¡å™¨é€ æˆæ›´å¤§çš„å‹åŠ›ï¼Œå› è€ŒåŸºäºå¤šç§åŸå› ï¼Œè¿™ä¸ª upload çš„ä¸Šä¼ è¡Œä¸ºå¾—è¿›è¡Œæ”¹é€ ä¸€ç•ªã€‚","text":"æœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™æœ‰ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦å¯¼å…¥wordæ–‡æ¡£ï¼Œå¹¶ä¸”éœ€è¦æ”¯æŒå¤šé€‰ã€‚element-ui çš„ upload ç»„ä»¶æ”¯æŒå¤šé€‰æ–‡ä»¶ï¼Œåªéœ€è¦é…ç½®å‚æ•° multiple ä¸º true å³å¯ã€‚ä½†æ˜¯è¿™ä¸ªç»„ä»¶é»˜è®¤ä¼šå°†å¤šé€‰çš„æ–‡ä»¶åˆ†å¤šæ¬¡è¿›è¡Œä¸Šä¼ ï¼Œäºæ˜¯å°±ä¼šå­˜åœ¨å¤šæ¬¡çš„ä¸Šä¼ è¯·æ±‚ï¼Œç”±äºåå°çš„æ¥å£è¦æ±‚æ˜¯ä¸€æ¬¡è¯·æ±‚èƒ½å¤Ÿä¸Šä¼ å¤šä¸ªæ–‡ä»¶ï¼Œä¸”æˆ‘ä»¬ä¹ŸçŸ¥é“è¯·æ±‚å¤šäº†ä¼šå¯¹æœåŠ¡å™¨é€ æˆæ›´å¤§çš„å‹åŠ›ï¼Œå› è€ŒåŸºäºå¤šç§åŸå› ï¼Œè¿™ä¸ª upload çš„ä¸Šä¼ è¡Œä¸ºå¾—è¿›è¡Œæ”¹é€ ä¸€ç•ªã€‚ å…ˆæ¥çœ‹ä¸‹æ”¹é€ å‰åçš„ç»“æœæ”¹é€ å‰çš„ç»“æœï¼šåŒæ—¶ä¸Šä¼ 2ä¸ªæ–‡ä»¶ï¼Œä¼šå‘å‡º2æ¬¡å¯¹æ¥å£çš„è¯·æ±‚ï¼Œæ¯æ¬¡è¯·æ±‚é‡ŒåŒ…å«äº†ä¸€ä¸ªæ–‡ä»¶ã€‚ æ”¹é€ åçš„ç»“æœï¼šåŒæ—¶ä¸Šä¼ 2ä¸ªæ–‡ä»¶ï¼Œä¼šå‘å‡ºä¸€æ¬¡æ¥å£è¯·æ±‚ï¼Œæ¥å£å…¥å‚é‡ŒåŒ…å«2ä¸ªæ–‡ä»¶ã€‚ æ–¹æ³•ä¸€ï¼šé€šè¿‡é…ç½®file-listï¼ˆæ¨èä½¿ç”¨ï¼‰htmléƒ¨åˆ†ï¼š 12345678910111213&lt;el-upload class=&quot;upload-demo list-uploadbtn&quot; ref=&quot;upload&quot; :action=&quot;curBastUrl&quot; :auto-upload=&quot;false&quot; :on-remove=&quot;updataRemove&quot; :before-upload=&quot;beforeUpload&quot; :on-change=&quot;updatachange&quot; :file-list=&quot;fileList&quot; :multiple=&quot;true&quot;&gt; &lt;el-button size=&quot;small&quot;&gt;ç‚¹å‡»ä¸Šä¼ &lt;/el-button&gt;&lt;/el-upload&gt;&lt;el-button type=&quot;primary&quot; @click=&quot;submitUpload&quot;&gt;ç¡® å®š&lt;/el-button&gt; jséƒ¨åˆ†ï¼š 12345678910111213141516submitUpload() &#123; // å¯¼å…¥ let formData = new FormData(); // ç”¨FormDataå­˜æ”¾ä¸Šä¼ æ–‡ä»¶ this.fileList.forEach(file =&gt; &#123; formData.append(&#x27;file&#x27;, file.raw) &#125;) formData.append(&#x27;categoryDirectory&#x27;, this.filedata.categoryDirectory) // importCaseæ˜¯ä¸Šä¼ æ¥å£ importCase(formData).then((res) =&gt; &#123; //æ‰‹åŠ¨ä¸Šä¼ æ— æ³•è§¦å‘æˆåŠŸæˆ–å¤±è´¥çš„é’©å­å‡½æ•°ï¼Œå› æ­¤è¿™é‡Œæ‰‹åŠ¨è°ƒç”¨ this.updataSuccess(res.data) &#125;, (err) =&gt; &#123; &#125;)&#125; å…³é”®ä»£ç è¯´æ˜ï¼š auto-upload è®¾ç½®ä¸º false ç”¨äºå…³é—­ç»„ä»¶çš„è‡ªåŠ¨ä¸Šä¼ ï¼› file-list é…ç½®ä¸€ä¸ªæ•°ç»„ç”¨äºæ¥æ”¶ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨ï¼› multiple è®¾ç½®ä¸º true è¡¨ç¤ºæ”¯æŒå¤šé€‰æ–‡ä»¶ï¼› action é…ç½®ä¸ºå®Œæ•´çš„ä¸Šä¼ æ¥å£urlï¼Œä¸é…ç½®ä¼šæŠ¥é”™ ä¸ç”¨é…ç½® dataã€on-successã€on-errorç­‰å‚æ•°ï¼Œå› ä¸ºæ‰‹åŠ¨ä¸Šä¼ ä¸ä¼šç”¨åˆ°è¿™äº›é…ç½®ä¿¡æ¯ï¼› æœ€åé€šè¿‡ç‚¹å‡»æŒ‰é’®æ‰‹åŠ¨è°ƒç”¨ä¸Šä¼ å‡½æ•° submitUpload ï¼Œåˆ›å»ºä¸€ä¸ª FormData æŠŠ fileList çš„æ–‡ä»¶å­˜è¿›å»ã€‚ æ–¹æ³•äºŒï¼šé€šè¿‡é…ç½®http-requesthtmléƒ¨åˆ†ï¼š 12345678910111213&lt;el-upload class=&quot;upload-demo list-uploadbtn&quot; ref=&quot;upload&quot; :action=&quot;curBastUrl&quot; :auto-upload=&quot;false&quot; :http-request=&quot;uploadFile&quot; :on-remove=&quot;updataRemove&quot; :before-upload=&quot;beforeUpload&quot; :on-change=&quot;updatachange&quot; :multiple=&quot;true&quot;&gt; &lt;el-button size=&quot;small&quot;&gt;ç‚¹å‡»ä¸Šä¼ &lt;/el-button&gt;&lt;/el-upload&gt;&lt;el-button type=&quot;primary&quot; @click=&quot;submitUpload&quot;&gt;ç¡® å®š&lt;/el-button&gt; jséƒ¨åˆ†ï¼š 123456789101112131415161718submitUpload() &#123; // å¯¼å…¥ let tempData = this.filedata this.filedata = new FormData() // ç”¨FormDataå­˜æ”¾ä¸Šä¼ æ–‡ä»¶ this.$refs.upload.submit() // ä¼šå¾ªç¯è°ƒç”¨uploadFileæ–¹æ³•ï¼Œå¤šä¸ªæ–‡ä»¶è°ƒç”¨å¤šæ¬¡ this.filedata.append(&#x27;categoryDirectory&#x27;, tempData.categoryDirectory) // importCaseæ˜¯ä¸Šä¼ æ¥å£ importCase(this.filedata).then((res) =&gt; &#123; //æ‰‹åŠ¨ä¸Šä¼ æ— æ³•è§¦å‘æˆåŠŸæˆ–å¤±è´¥çš„é’©å­å‡½æ•°ï¼Œå› æ­¤è¿™é‡Œæ‰‹åŠ¨è°ƒç”¨ this.updataSuccess(res.data) &#125;, (err) =&gt; &#123; &#125;)&#125;uploadFile(file) &#123; this.filedata.append(&#x27;file&#x27;, file.file)&#125; å…³é”®ä»£ç è¯´æ˜ï¼š http-request è‡ªå®šä¹‰ä¸Šä¼ æ–¹æ³•ï¼› æœ€åé€šè¿‡ç‚¹å‡»æŒ‰é’®æ‰‹åŠ¨è°ƒç”¨ä¸Šä¼ å‡½æ•° submitUpload ï¼Œåˆ›å»ºä¸€ä¸ª FormData, è°ƒç”¨ upload ç»„ä»¶çš„ submit æ–¹æ³•çš„æ—¶å€™ä¼šå¾ªç¯è°ƒç”¨ http-request é…ç½®çš„æ–¹æ³•ï¼Œä»è€Œå¾€ FormData é‡Œå­˜æ”¾æ–‡ä»¶ã€‚","categories":[{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/categories/vue/"}],"tags":[{"name":"upload","slug":"upload","permalink":"https://bubuzou.com/tags/upload/"},{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/tags/vue/"},{"name":"element-ui","slug":"element-ui","permalink":"https://bubuzou.com/tags/element-ui/"}]},{"title":"JSä¸­ç±»æ•°ç»„çš„éå†ä»¥åŠæ€§èƒ½æ¢ç©¶","slug":"traverse-of-array-like","date":"2017-08-28T04:08:21.000Z","updated":"2019-07-26T08:05:11.771Z","comments":true,"path":"2017/08/28/traverse-of-array-like/","link":"","permalink":"https://bubuzou.com/2017/08/28/traverse-of-array-like/","excerpt":"ç±»æ•°ç»„åœ¨ JS ä¸­æˆ‘ä»¬éƒ½çŸ¥é“æœ‰ä¸€ç§æ•°æ®ç±»å‹å«æ•°ç»„ï¼Œå¹³å¸¸ä¹Ÿç”¨å¾—å¾ˆå¤šï¼Œè¿™é‡Œçœ‹åˆ°æ•°ç»„çš„ä»‹ç»ã€‚ä½†ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å‘¢ï¼Ÿåœ¨ JS ä¸­å­˜åœ¨ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬éƒ½å¸¦æœ‰ length å±æ€§ï¼Œå´åˆä¸å…·å¤‡æ•°ç»„çš„é‚£äº›æ–¹æ³•ï¼Œè¿™äº›å¯¹è±¡æˆ‘ä»¬å®ƒå«åšç±»æ•°ç»„ã€‚é‚£ä¹ˆç±»æ•°ç»„æœ‰å“ªäº›å‘¢ï¼Ÿ jQueryå¯¹è±¡ 12var aList = $(&#x27;.tagcloud&#x27;).find(&#x27;a&#x27;);console.log( aList.length ); // &gt;= 0 å¦‚ä¸Šé€šè¿‡jQueryè·å–çš„å…ƒç´ é›†åˆå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç±»æ•°ç»„ã€‚","text":"ç±»æ•°ç»„åœ¨ JS ä¸­æˆ‘ä»¬éƒ½çŸ¥é“æœ‰ä¸€ç§æ•°æ®ç±»å‹å«æ•°ç»„ï¼Œå¹³å¸¸ä¹Ÿç”¨å¾—å¾ˆå¤šï¼Œè¿™é‡Œçœ‹åˆ°æ•°ç»„çš„ä»‹ç»ã€‚ä½†ä»€ä¹ˆæ˜¯ç±»æ•°ç»„å‘¢ï¼Ÿåœ¨ JS ä¸­å­˜åœ¨ä¸€äº›å¯¹è±¡ï¼Œå®ƒä»¬éƒ½å¸¦æœ‰ length å±æ€§ï¼Œå´åˆä¸å…·å¤‡æ•°ç»„çš„é‚£äº›æ–¹æ³•ï¼Œè¿™äº›å¯¹è±¡æˆ‘ä»¬å®ƒå«åšç±»æ•°ç»„ã€‚é‚£ä¹ˆç±»æ•°ç»„æœ‰å“ªäº›å‘¢ï¼Ÿ jQueryå¯¹è±¡ 12var aList = $(&#x27;.tagcloud&#x27;).find(&#x27;a&#x27;);console.log( aList.length ); // &gt;= 0 å¦‚ä¸Šé€šè¿‡jQueryè·å–çš„å…ƒç´ é›†åˆå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ç±»æ•°ç»„ã€‚ NodeList 12var h2s = document.querySelectorAll(&#x27;h2&#x27;);console.log( h2s.constructor ); // Æ’ NodeList() &#123; [native code] &#125; NodeListæ˜¯èŠ‚ç‚¹é›†åˆï¼Œæ—¢åŒ…æ‹¬äº†å…ƒç´ èŠ‚ç‚¹ä¹ŸåŒ…å«äº†æ–‡æœ¬èŠ‚ç‚¹ï¼Œæ¯”å¦‚node.childNodesä¹Ÿæ˜¯ä¸€ä¸ª NodeList. HTMLCollection 12var h4s = document.getElementsByTagName(&#x27;h4&#x27;);console.log( h4s instanceof HTMLCollection ); // true HTMLCollection æ˜¯å…ƒç´ é›†åˆï¼Œæ›´å¤šè¯¦ç»†ä¿¡æ¯å¯ä»¥çœ‹è¿™é‡Œ ç±»æ•°ç»„è™½ç„¶æ²¡æœ‰æ•°ç»„çš„é‚£äº›æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ call æ–¹æ³•å°†å…¶è½¬æˆæ•°ç»„ï¼š 1234var h2s = document.querySelectorAll(&#x27;h2&#x27;);console.log( h2s.constructor ); // Æ’ NodeList() &#123; [native code] &#125;var temp = Array.prototype.slice.call(h2s, null);console.log( temp instanceof Array ); // true éå†ç±»æ•°ç»„æ•°ç»„æˆ–è€…ç±»æ•°ç»„çš„éå†æ–¹å¼å¾ˆå¤šï¼Œä¸‹é¢æˆ‘ä»¬ä¸€ä¸€æ¥ä»‹ç»ã€‚ æ™®é€š for å¾ªç¯ 123for ( var i = 0; i &lt; arr.length; i++ ) &#123; &#125; æœ€æ™®é€šä¹Ÿæ˜¯æœ€ç»å…¸çš„ for å¾ªç¯ï¼Œå¤§å¤šæ•°å¼€å‘éƒ½å–œæ¬¢ç”¨çš„æ–¹å¼ã€‚ ä¼˜åŒ–ç‰ˆ for å¾ªç¯ 123for ( var i = 0, l = arr.length; i &lt; l; i++ ) &#123; &#125; ä¼˜åŒ–åçš„forå¾ªç¯ï¼ŒæŠŠæ•°ç»„é•¿åº¦çš„å–å€¼æ”¾åˆ°äº†å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œé¿å…äº†æ¯æ¬¡åˆ¤æ–­éƒ½è¦å»å–æ•°ç»„é•¿åº¦ï¼Œä»è€ŒèŠ‚çº¦äº†ä¸€å®šæ—¶é—´ã€‚ å¼±åŒ–ç‰ˆforå¾ªç¯ 123for ( var i = 0; arr[i] != null; i++ ) &#123; &#125; è¿™ç§å¾ªç¯æ–¹å¼å’Œä¸Šé¢ä¸¤ç§éƒ½å·®ä¸äº†å¤šå°‘ï¼Œåªä¸è¿‡æ˜¯æ²¡æœ‰ä½¿ç”¨lengthåˆ¤æ–­ï¼Œè€Œä½¿ç”¨å˜é‡æœ¬èº«åˆ¤æ–­ã€‚ forEachå¾ªç¯ 123arr.forEach(function( item ) &#123; &#125;); JSæ•°ç»„è‡ªå¸¦çš„éå†æ–¹æ³•ã€‚ æ–°ç‰ˆforEach 123Array.prototype.forEach.call(arr, function( ele ) &#123; &#125;); å€Ÿç”¨äº†åŸå‹çš„callæ–¹æ³•æ¥éå†ç±»æ•°ç»„ã€‚ for inå¾ªç¯ 123for ( var temp in arr ) &#123; &#125; for ofå¾ªç¯ 123for ( let v of arr ) &#123; &#125; ES6ä¸­æ–°æå‡ºçš„ä¸€ç§å¾ªç¯æ–¹å¼ã€‚ mapå¾ªç¯ 123arr.map(function(e, i) &#123; &#125;); whileå¾ªç¯ 1234var flag = 0;while ( flag++ &lt; arr.length ) &#123; &#125; æ€§èƒ½æµ‹è¯•è¿™é‡Œæµ‹è¯•é‡Œä¸»è¦æ˜¯é€šè¿‡æ§åˆ¶å¤–å¾ªç¯æ¬¡æ•°ã€æ•°ç»„çš„é•¿åº¦å’Œå¾ªç¯ä½“çš„å¤æ‚åº¦æ¥è¾¾åˆ°æ¨¡æ‹Ÿæ€§èƒ½æµ‹è¯•çš„ç›®çš„ã€‚ 12345678// æ ¸å¿ƒä»£ç var t4 = new Date().getTime();for ( var j = 0; j &lt; count; j++ ) &#123; // å¤–å¾ªç¯ arr.forEach(function( cha ) &#123; // å†…å¾ªç¯ contextFn( cha ); // å¾ªç¯ä½“ &#125;);&#125;console.log( new Date().getTime() - t4) ); å†…å¾ªç¯é‡Œæ˜¯åˆ†åˆ«æ›¿æ¢åˆ°ä¸åŒçš„éå†æ–¹å¼ï¼Œé€šè¿‡è®¾ç½®å¾ªç¯æ¬¡æ•°å’Œæ•°ç»„é•¿åº¦æ¥æµ‹è¯•äº†ä¸€äº›æ•°æ®ï¼Œä¹Ÿå¯ä»¥æ¥è¿™é‡Œçœ‹demo ä»ä¸Šé¢çš„æµ‹è¯•ç»“æœå¤§è‡´å¯ä»¥çœ‹å‡ºé€Ÿåº¦æœ€å¿«çš„éå†æ–¹å¼åº”è¯¥æ˜¯ä¼˜åŒ–åçš„ for å¾ªç¯äº†ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"https://bubuzou.com/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"}]},{"title":"è‰¯å¥½çš„CSSç¼–ç ä¹ æƒ¯","slug":"css-coding-standards","date":"2017-07-18T07:28:21.000Z","updated":"2019-07-26T07:36:11.756Z","comments":true,"path":"2017/07/18/css-coding-standards/","link":"","permalink":"https://bubuzou.com/2017/07/18/css-coding-standards/","excerpt":"ä¸€ä¸ª css æ–‡ä»¶çš„æ ¸å¿ƒå†…å®¹æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ css è§„åˆ™ç»„æˆçš„ï¼Œè€Œæ¯ä¸ªè§„åˆ™åˆåŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼šé€‰æ‹©å™¨å’Œå£°æ˜ï¼›å£°æ˜å—é‡Œå¯èƒ½åˆåŒ…å«å¤šä¸ªå£°æ˜ï¼Œæ¯ä¸ªå£°æ˜åˆæ˜¯ç”±å±æ€§å’Œå€¼ç»„æˆçš„ã€‚è¿™ä¸ªå¤§æ¦‚å°±æ˜¯ css çš„ä»£ç ç»“æ„ã€‚ è¿™ä¹ˆå¤šçš„è§„åˆ™å°±åƒä¸€ä¸ªå°é•‡ä¸Šçš„æˆ¿å­ä¸€æ ·ï¼Œå¦‚æœæˆ¿å­å»ºé€ ä¹‹åˆï¼Œæ¯«æ— è§„åˆ’èƒ¡ä¹±å»ºé€ ï¼Œé‚£ç­‰æˆ¿å­å»ºé€ èµ·æ¥çš„æ—¶å€™ï¼Œä»è¿œè¿œæœ›å»å°±ä¼šéå¸¸åœ°é”™æ‚ä¸å ªï¼Œéš¾ä»¥å…¥ç›®ï¼Œç»™äººçš„å¿ƒé‡ŒåŸ‹ä¸‹äº†éå¸¸ç³Ÿç³•çš„å°è±¡ï¼›åˆå¯èƒ½åæœŸï¼Œç”±äºå‘å±•çš„éœ€è¦ï¼Œè¦ç»™å°é•‡åŠ ä¿®é“è·¯æˆ–è€…æ–°å»ºä¸ªå­¦æ ¡ï¼Œç”±äºæˆ¿å­ä¸æˆ¿å­ä¹‹é—´è¿æ¥å¾—å¾ˆæ··ä¹±ï¼Œæ‰€ä»¥è¿™ç»™åæœŸé‡å»ºé•‡å­çš„äººå¸¦æ¥äº†å¾ˆå¤§çš„å›°éš¾ã€‚ åŒæ ·ï¼Œåœ¨ css çš„ä¸–ç•Œé‡Œï¼Œä»£ç çš„æ’åˆ—å¸ƒå±€ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚è‰¯å¥½çš„ä»£ç ä¹¦å†™ä¹ æƒ¯èƒ½å¤Ÿè®©ä»£ç çœ‹èµ·æ¥æ›´åŠ å¹²å‡€ç®€æ´ï¼Œç»™é˜…è¯»è€…ä¸€ç§èµå¿ƒæ‚¦ç›®çš„æ„Ÿè§‰ï¼›å¥½çš„ä»£ç ä¾¿äºå¼€å‘å‘ç°é”™è¯¯ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚æ‰€ä»¥ä½œä¸ºä¸€åå¥½å‰ç«¯ï¼Œå¾ˆæœ‰å¿…è¦å…»æˆä¸€ä¸ªè‰¯å¥½çš„ css ç¼–ç ä¹ æƒ¯ã€‚","text":"ä¸€ä¸ª css æ–‡ä»¶çš„æ ¸å¿ƒå†…å®¹æ˜¯ç”±è®¸è®¸å¤šå¤šçš„ css è§„åˆ™ç»„æˆçš„ï¼Œè€Œæ¯ä¸ªè§„åˆ™åˆåŒ…å«äº†ä¸¤éƒ¨åˆ†ï¼šé€‰æ‹©å™¨å’Œå£°æ˜ï¼›å£°æ˜å—é‡Œå¯èƒ½åˆåŒ…å«å¤šä¸ªå£°æ˜ï¼Œæ¯ä¸ªå£°æ˜åˆæ˜¯ç”±å±æ€§å’Œå€¼ç»„æˆçš„ã€‚è¿™ä¸ªå¤§æ¦‚å°±æ˜¯ css çš„ä»£ç ç»“æ„ã€‚ è¿™ä¹ˆå¤šçš„è§„åˆ™å°±åƒä¸€ä¸ªå°é•‡ä¸Šçš„æˆ¿å­ä¸€æ ·ï¼Œå¦‚æœæˆ¿å­å»ºé€ ä¹‹åˆï¼Œæ¯«æ— è§„åˆ’èƒ¡ä¹±å»ºé€ ï¼Œé‚£ç­‰æˆ¿å­å»ºé€ èµ·æ¥çš„æ—¶å€™ï¼Œä»è¿œè¿œæœ›å»å°±ä¼šéå¸¸åœ°é”™æ‚ä¸å ªï¼Œéš¾ä»¥å…¥ç›®ï¼Œç»™äººçš„å¿ƒé‡ŒåŸ‹ä¸‹äº†éå¸¸ç³Ÿç³•çš„å°è±¡ï¼›åˆå¯èƒ½åæœŸï¼Œç”±äºå‘å±•çš„éœ€è¦ï¼Œè¦ç»™å°é•‡åŠ ä¿®é“è·¯æˆ–è€…æ–°å»ºä¸ªå­¦æ ¡ï¼Œç”±äºæˆ¿å­ä¸æˆ¿å­ä¹‹é—´è¿æ¥å¾—å¾ˆæ··ä¹±ï¼Œæ‰€ä»¥è¿™ç»™åæœŸé‡å»ºé•‡å­çš„äººå¸¦æ¥äº†å¾ˆå¤§çš„å›°éš¾ã€‚ åŒæ ·ï¼Œåœ¨ css çš„ä¸–ç•Œé‡Œï¼Œä»£ç çš„æ’åˆ—å¸ƒå±€ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚è‰¯å¥½çš„ä»£ç ä¹¦å†™ä¹ æƒ¯èƒ½å¤Ÿè®©ä»£ç çœ‹èµ·æ¥æ›´åŠ å¹²å‡€ç®€æ´ï¼Œç»™é˜…è¯»è€…ä¸€ç§èµå¿ƒæ‚¦ç›®çš„æ„Ÿè§‰ï¼›å¥½çš„ä»£ç ä¾¿äºå¼€å‘å‘ç°é”™è¯¯ï¼Œæé«˜å·¥ä½œæ•ˆç‡ã€‚æ‰€ä»¥ä½œä¸ºä¸€åå¥½å‰ç«¯ï¼Œå¾ˆæœ‰å¿…è¦å…»æˆä¸€ä¸ªè‰¯å¥½çš„ css ç¼–ç ä¹ æƒ¯ã€‚ æ–‡ä»¶å‘½åweb é¡¹ç›®ä¸­çš„æ‰€æœ‰èµ„æºæ–‡ä»¶åç§°åº”éµå¾ªç›¸åŒçš„å‘½åçº¦å®šã€‚css æ–‡ä»¶ä¹Ÿä¸ä¾‹å¤–ï¼Œæ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š 12345678910111213&#x2F;* Not recommended *&#x2F;MyScript.jsmyCamelCaseName.cssi_love_underscores.html1001-scripts.jsmy-file-min.css &#x2F;* Recommended *&#x2F;my-script.jsmy-camel-case-name.cssi-love-underscores.htmlthousand-and-one-scripts.jsmy-file.min.css ä¸€èˆ¬æ¥è¯´èµ„æºæ–‡ä»¶çš„åå­—ä¹ æƒ¯å¦‚ä¸‹å‘½åï¼š ä»¥å­—æ¯å¼€å¤´ï¼Œé¿å…æ•°å­—å¼€å¤´ å…¨éƒ¨ç”¨å°å†™ï¼Œè¿™æ ·çš„è¯ä¸å®¹æ˜“åœ¨å¼•ç”¨çš„æ—¶å€™å› ä¸ºå¤§å°å†™è€Œå‡ºé”™ ç”¨-æ¥åˆ†éš”å•è¯ï¼Œè€Œä¸æ˜¯ä¸‹åˆ’çº¿ å¯¹äºå‹ç¼©è¿‡çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ css æˆ–è€… js æ–‡ä»¶ï¼Œä½¿ç”¨ .min ä»£æ›¿ -min è®¾ç½®ç¼–ç åœ¨ css æ–‡ä»¶çš„æœ€é¡¶éƒ¨è®¾ç½®ç¼–ç æ ¼å¼ä¸º utf-8 ï¼Œå¦åˆ™æœ‰å¯èƒ½ä½¿å¾— css æ–‡ä»¶å‡ºç°ä¹±ç ã€‚ 1@charset &quot;utf-8&quot;; æ ¼å¼åŒ–css æ–‡ä»¶é‡ŒåŒ…å«äº†è®¸è®¸å¤šå¤šçš„ css è§„åˆ™ï¼Œè€Œæ¯æ¡ css è§„åˆ™åˆç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯é€‰æ‹©å™¨å’Œå£°æ˜å—ï¼›å£°æ˜å—é‡ŒåŒ…å«äº†å¤šä¸ªå£°æ˜ï¼Œè€Œå£°æ˜åˆæ˜¯å±æ€§å’Œå€¼ç»„æˆçš„ã€‚æ ¼å¼åŒ–é‡Œå°†è¦ä»‹ç»çš„å°±æ˜¯å®ƒä»¬çš„ç»“æ„å’Œæ‘†æ”¾ä½ç½®ï¼ŒåŒ…æ‹¬ç¼©è¿›ã€ç©ºæ ¼ã€æ¢è¡Œä»¥åŠä¸ªåˆ«å£°æ˜çš„ä¹¦å†™ä¹ æƒ¯ç­‰ã€‚ ç¼©è¿›css ä»£ç çš„ç¼©è¿›è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œcss ä»£ç ç¼©è¿›éœ€è¦éµå¾ªä»¥ä¸‹å‡ ç‚¹ï¼š ä¸€ä¸ªåˆ¶è¡¨ç¬¦( Tab é”®)ç›¸å½“äº4ä¸ªç©ºæ ¼(ç©ºæ ¼é”®)ï¼Œcss çš„ç¼©è¿›å ä½ä¸€èˆ¬æ˜¯ä¸€ä¸ªåˆ¶è¡¨ç¬¦çš„å®½åº¦ã€‚ ç¼©è¿›å ä½é‡Œä¸è¦æ··æ‚ç€åˆ¶è¡¨ç¬¦å’Œç©ºæ ¼ï¼Œå»ºè®®è®¾ç½®å¥½ç¼–è¾‘å™¨çš„ä¸€ä¸ªåˆ¶è¡¨ç¬¦ç­‰äº4ä¸ªç©ºæ ¼å®½åº¦ã€‚ å£°æ˜éœ€è¦ç¼©è¿›ï¼›åœ¨ media query é‡Œçš„æ‰€æœ‰ css è§„åˆ™ä¹Ÿéœ€è¦ç¼©è¿›ã€‚ 12345@media screen and (max-width: 640px) &#123; body &#123; background-color: #f8f8f8; &#125;&#125; ç©ºæ ¼åœ¨ css çš„ä¸–ç•Œé‡Œä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥ä¸é‚£ä¹ˆæ‹¥æŒ¤ï¼Œæ‰€ä»¥éœ€è¦åœ¨é€‚å½“çš„åœ°æ–¹ä½¿ç”¨ç©ºæ ¼ï¼š é€‰æ‹©å™¨å’Œå£°æ˜å—çš„å·¦å¤§æ‹¬å·{ä¹‹é—´ã€‚ å£°æ˜ä¸­å±æ€§çš„å†’å·ä¹‹åï¼Œå±æ€§å€¼ä¹‹å‰ã€‚ å¯¹äºåªæœ‰ä¸€æ¡å£°æ˜çš„å£°æ˜å—ï¼Œå£°æ˜çš„å·¦å³ä¸¤è¾¹ä¸å·¦å³å¤§æ‹¬å·ä¹‹é—´ã€‚ å¯¹äºä¸€ä¸ªå±æ€§ä¸­æœ‰å¤šä¸ªå±æ€§å€¼ï¼Œä¸”æ”¾åœ¨åŒä¸€è¡Œçš„æ—¶å€™ï¼Œç”¨æ¥åˆ†éš”å„ä¸ªå±æ€§å€¼çš„é€—å·çš„åé¢ã€‚ å¯¹äºä¸€äº›ç‰¹åˆ«çš„å±æ€§å€¼é‡Œå­˜åœ¨é€—å·åˆ†éš”çš„æƒ…å†µï¼Œæ¯”å¦‚ rgba(248, 248, 248, .5)ï¼Œéœ€è¦åœ¨æ¯ä¸ªé€—å·ååŠ ä¸Šç©ºæ ¼ 123456.heavy &#123; font-weight: 700; &#125; body &#123; font-family: Georgia, serif; background-color: rgba(248, 248, 248, .5);&#125; æ¢è¡Œå’Œç©ºè¡Œæ¢è¡Œå’Œç©ºè¡Œçš„ç›®çš„ä¹Ÿæ˜¯ä¸ºäº† css ä»£ç çš„ç¾è§‚æ€§å’Œç»“æ„æ›´åŠ æ¸…æ™°ï¼š æ¯ä¸ª css è§„åˆ™ä¹‹é—´éœ€è¦ä¸€ä¸ªç©ºè¡Œã€‚ å•è¡Œæ³¨é‡Šçš„å‰é¢éœ€è¦ä¸€ä¸ªç©ºè¡Œã€‚ ä¸€ä¸ªè§„åˆ™é‡Œå­˜åœ¨å¤šä¸ªé€‰æ‹©å™¨çš„æ—¶å€™ï¼Œæ¯ä¸ªé€‰æ‹©å™¨çš„é€—å·åæ¢è¡Œã€‚ ä¸€ä¸ªå£°æ˜å—é‡Œæœ‰å¤šä¸ªå£°æ˜çš„æ—¶å€™ï¼Œæ¯æ¡å£°æ˜åéƒ½éœ€è¦æ¢è¡Œï¼›åªæœ‰ä¸€æ¡å£°æ˜çš„æ—¶å€™ï¼Œå£°æ˜å’Œé€‰æ‹©å™¨åŒè¡Œã€‚ å¯¹äºé€—å·åˆ†éš”ä¸”éå¸¸é•¿çš„å±æ€§å€¼ï¼Œå¯ä»¥è€ƒè™‘æ¢è¡Œå¹¶ä¸”ç¼©è¿›ä¸€ä¸ªåˆ¶è¡¨ç¬¦ã€‚ media query å£°æ˜çš„ç¬¬ä¸€è¡Œç©ºè¡Œï¼Œè¿™æ ·å°±ä¸ä¼šå’Œç¬¬ä¸€æ¡å£°æ˜æ‚åœ¨ä¸€èµ·ï¼Œæ˜¾å¾—æ‹¥æŒ¤ã€‚ 123456789101112131415161718192021.modal &#123; width: 500px; margin: 0 auto;&#125; .modal a,.modal span &#123; color: #41b883; &#125; /* common */.shadow &#123; box-shadow: 1px 1px 1px #000, 2px 2px 1px 1px #ccc inset;&#125; @media screen and (max-width: 640px) &#123; .modal .modal-con a &#123; font-size: 12px; &#125;&#125; é€‰æ‹©å™¨é€‰æ‹©å™¨è¿™å—ä¸»è¦æ˜¯ä»‹ç»å‘½åã€ä¹¦å†™ä¹ æƒ¯ä»¥åŠä¸ºäº†æ›´é«˜çš„åŒ¹é…æ•ˆç‡è€Œå»ºè®®çš„å†™æ³•ç­‰ã€‚ IDå’ŒClassçš„å‘½åè§„èŒƒID å’Œ Class çš„ä¸»è¦ä¹ æƒ¯äºå¦‚ä¸‹å‘½åæ–¹å¼ï¼š å…¨éƒ¨å­—æ¯ç”¨å°å†™ï¼Œé¿å…ä½¿ç”¨é©¼å³°å‘½åæ³•ã€‚ ä½¿ç”¨çŸ­æ¨ªçº¿-æ¥ä½œä¸ºè¿æ¥å•è¯ä¹‹é—´çš„å­—ç¬¦ï¼Œé¿å…ä½¿ç”¨ä¸‹åˆ’çº¿_ã€‚ 1234.post-title &#123; font-size: 20px; color: #41b883;&#125; å‘½åå°½å¯èƒ½è¯­ä¹‰åŒ–ï¼Œè®©äººä¸€ç›®äº†ç„¶ã€‚ 123456789/* Not recommended */.fw-800 &#123; font-weight: 800; &#125; .red &#123; color: red; &#125; /* Recommended */ .heavy &#123; font-weight: 800; &#125; .important &#123; color: red; &#125; å°½å¯èƒ½é¿å…ä½¿ç”¨IDé€‰æ‹©å™¨åœ¨ css çš„ä¸–ç•Œé‡Œä¸å¤ªæ¬¢è¿ ID é€‰æ‹©å™¨ï¼Œå› ä¸º ID æ˜¯ä½œä¸ºæŸä¸ªå…ƒç´ çš„å”¯ä¸€æ ‡è¯†è€Œè®¾å®šçš„ï¼Œä½†æ˜¯å…ƒç´ çš„æ ·å¼æ˜¯å¯ä»¥è¢«é‡å¤å®šä¹‰ï¼Œå±‚å±‚è¦†ç›–çš„ã€‚æ‰€ä»¥å»ºè®®ä¸è¦ä½¿ç”¨ ID é€‰æ‹©å™¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å¤šç”¨ç±»é€‰æ‹©å™¨ã€‚ 12345/* Not recommended */#article p &#123; line-height: 28px; &#125; /* Recommended */.article p &#123; line-height: 28px; &#125; é¿å…ä½¿ç”¨æ ‡ç­¾è¿›è¡ŒåŒé‡é™å®šè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿçœ‹äº†ä¸‹é¢çš„ä¾‹å­ä½ å°±çŸ¥é“äº†ã€‚ 12345/* Not recommended */p.desc &#123; color: #666; &#125; /* Recommended */.desc &#123; color: #666; &#125; å°½å¯èƒ½çš„ç²¾ç¡®ï¼Œä½†æ˜¯æœ€å¥½ä¸è¦è¶…è¿‡3çº§css çš„é€‰æ‹©åˆ¤å®šä¹Ÿå­˜åœ¨æ•ˆç‡é—®é¢˜ï¼Œæ‰€ä»¥ä¹¦å†™çš„æ—¶å€™å°½é‡è¦ç²¾ç¡®ï¼›é€‰æ‹©å™¨çš„åµŒå¥—å±‚çº§æœ€å¥½ä¸è¦è¶…è¿‡3çº§ï¼Œå¦åˆ™æ˜¾å¾—å¾ˆå†—é•¿ï¼Œæ•ˆç‡ä¸Šä¹Ÿæœªå¿…æ›´é«˜ã€‚ 12345/* Not recommended */.content .title &#123; font-size: 2rem; &#125; /* Recommended */.content &gt; .content-body &gt; .title &#123; font-size: 2rem; &#125; å±æ€§é€‰æ‹©å™¨è®°å¾—ä½¿ç”¨åŒå¼•å·å±æ€§é€‰æ‹©å™¨è®°å¾—ä½¿ç”¨åŒå¼•å·ï¼Œé¿å…å•å¼•å·å’Œä¸ç”¨å¼•å· 12345/* Not recommended */input[type=text] &#123; line-height: 1.2; &#125; /* Recommended */input[type=&quot;text&quot;] &#123; line-height: 1.2; &#125; å£°æ˜å—ä½œä¸º css è§„åˆ™ä¸­çš„ç¬¬äºŒéƒ¨åˆ†ï¼Œå£°æ˜å—ä¸­è‡ªç„¶ä¹Ÿæœ‰è®¸å¤šéœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚æ¯”å¦‚å£°æ˜çš„é¡ºåºã€å±æ€§å’Œå€¼çš„å†™æ³•ä»¥åŠä¸€äº›ä¸ªä¾‹ç­‰ã€‚ å£°æ˜çš„é¡ºåºåœ¨ css ä¸­å­˜åœ¨å¥½å‡ ç™¾ä¸ªå±æ€§ï¼Œå¦‚æœéœ€è¦ä¸€ä¸ª css è§„åˆ™é‡Œå‡ ä¹å¯ä»¥å†™æ»¡è¿™äº›å±æ€§ã€‚å¦‚æœè¿™äº›å£°æ˜æ¯«æ— é¡ºåºç« æ³•å¯è¨€ï¼Œé‚£ä¹ˆåœ¨éœ€è¦ä¿®æ”¹çš„æ—¶å€™å°±ä¼šéå¸¸çš„å¤´ç—›äº†ï¼Œä¸€å¤§å—å£°æ˜æ‚åœ¨ä¸€ä¸ªè§„åˆ™é‡Œï¼Œä½ å°±éœ€è¦æ…¢æ…¢åœ°æ‰¾æ…¢æ…¢åœ°çœ‹äº†ã€‚ä½†æ˜¯å¦‚æœä½ çš„å£°æ˜éƒ½æ˜¯æŒ‰ç…§ä¸€å®šçš„é€»è¾‘é¡ºåºæ¥ä¹¦å†™ï¼Œé‚£ä¹ˆå£°æ˜çš„å±‚æ¬¡å°±éå¸¸æ¸…æ™°ã€‚å£°æ˜çš„æ—¶å€™ä¸€èˆ¬æ¯”è¾ƒé‡è¦çš„å±æ€§ä¼šä¼˜å…ˆä¹¦å†™ã€‚ å¦‚æœåŒ…å«äº† contentå±æ€§ï¼Œåˆ™åº”è¯¥æœ€ä¼˜å…ˆä¹¦å†™ï¼Œå³å†™åˆ°å£°æ˜å—çš„æœ€ä¸Šé¢ã€‚ å®šä½ç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚positionã€topã€leftã€z-indexã€displayã€floatã€visibilityå’Œoverflowã€flexç­‰ã€‚ å¸ƒå±€ç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚displayã€floatã€visibilityã€overflowã€flexå’Œclearç­‰ã€‚ ç›’æ¨¡å‹ç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚widthã€heightã€marginã€paddingã€borderä»¥åŠbox-sizingç­‰ã€‚ æ–‡æœ¬æ’ç‰ˆå°åˆ·ç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚fontã€line-heightã€vertical-alignã€text-alignå’Œwhite-spaceã€text-decorationç­‰ã€‚ è§†è§‰æ„Ÿå®˜ä¸Šç›¸å…³çš„å±æ€§ï¼Œæ¯”å¦‚colorã€backgroundã€list-styleã€transformã€transitionå’Œanimationç­‰ã€‚ 12345678910111213141516171819202122232425262728.box &#123; /* Positioning */ position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: 100; /* Layout */ display: block; float: right; /* Box-model */ width: 100px; height: 100px; border: 1px solid #e5e5e5; border-radius: 3px; /* Typography */ font: normal 13px &quot;Helvetica Neue&quot;, sans-serif; line-height: 1.5; text-align: center; /* Visual */ color: #333; background-color: #f5f5f5;&#125; å°½å¯èƒ½çš„ä½¿ç”¨ç®€å†™å±æ€§åœ¨ css ä¸­å­˜åœ¨ä¸€äº›å±æ€§æ˜¯å¯ä»¥æ‹†åˆ†æˆå…¶ä»–ç‹¬ç«‹å±æ€§çš„ï¼Œæ¯”å¦‚backgroundã€borderã€fontã€list-styleã€margin å’Œ padding ç­‰ã€‚è¿™äº›å±æ€§åœ¨ css é‡Œè¢«ç§°ä¸ºå¤åˆå±æ€§ï¼Œåˆå› ä¸ºä¸€ä¸ªå±æ€§åŒ…å«äº†å¤šä¸ªç‹¬ç«‹å±æ€§ï¼Œæ‰€ä»¥åœ¨ä¹¦å†™çš„æ—¶å€™ä½¿å¾—ä»£ç æ›´åŠ ç®€æ´ï¼Œæ‰€ä»¥åˆå–œæ¬¢ç§°å…¶ä¸ºç®€å†™å±æ€§ï¼Œè¿™é‡Œçš„ç®€å†™ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŠ¨è¯ã€‚ 12345678/* Not recommended */.box &#123; margin: 0; margin-top: 10px;&#125; /* Recommended */.box &#123; margin: 10px 0 0; &#125; æ¯æ¡å£°æ˜éƒ½ä»¥åˆ†å·ç»“å°¾åœ¨ css é‡Œï¼Œå¦‚æœå£°æ˜ä¸ä»¥åˆ†å·ç»“å°¾æ˜¯ä¼šå‡ºé—®é¢˜çš„ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œé‚£å°±æ˜¯å£°æ˜å—çš„æœ€åä¸€ä¸ªå£°æ˜æ˜¯å¯ä»¥ä¸ç”¨åˆ†å·ç»“å°¾çš„ã€‚ä½†æ˜¯å¦‚æœæ”¹å˜äº†å£°æ˜çš„é¡ºåºæˆ–è€…æ–°å¢äº†å£°æ˜ï¼Œé‚£åŸæ¥çš„é‚£æ¡æ²¡æœ‰å¸¦åˆ†å·çš„å£°æ˜å°±æœ‰å¯èƒ½ä¸æ˜¯æœ€åä¸€æ¡å£°æ˜äº†ï¼Œè‚¯å®šå°±å‡ºé—®é¢˜äº†ï¼Œæ‰€ä»¥ä¸ºäº†é¿å…è¿™ç§ä¸å¿…è¦çš„é”™è¯¯å‘ç”Ÿï¼Œæˆ‘ä»¬è¦ä¹ æƒ¯ç»™æ¯ä¸ªå£°æ˜éƒ½åŠ ä¸Šåˆ†å·ã€‚ 12345678910111213/* Not recommended */.post-content h6 &#123; position: relative; margin: 1em 0; color: #4e4a4a&#125; /* Recommended */.post-content h6 &#123; position: relative; margin: 1em 0; color: #4e4a4a;&#125; åŒå¼•å·åœ¨ css çš„ä¸–ç•Œé‡Œå¾ˆå¤šåœ°æ–¹æ˜¯å¾ˆæœ‰å¿…è¦ç”¨å¼•å·çš„ï¼Œä¸ºäº†é¿å…æ··æ·†ï¼Œå»ºè®®éœ€è¦å¼•å·çš„åœ°æ–¹éƒ½ä½¿ç”¨åŒå¼•å·ï¼Œè€Œä¸ç”¨å•å¼•å·ã€‚ å¯¹äº font-family å±æ€§ï¼Œå¦‚æœå±æ€§å€¼æ˜¯å¸¦ç©ºæ ¼çš„è‹±æ–‡æ¯”å¦‚ Helvetica Neue æˆ–è€…æ˜¯ä¸­æ–‡ï¼Œé‚£ä¹ˆå»ºè®®åŠ ä¸ŠåŒå¼•å·ï¼Œæ¯”å¦‚content å±æ€§ã€‚å¯¹äº URI èµ„æºçš„å¼•ç”¨ï¼Œæœ‰ä½¿ç”¨åˆ°url()å¼•å…¥èµ„æºçš„æ—¶å€™ï¼Œä¸ç”¨å¸¦å¼•å·ã€‚æ¯”å¦‚å¼•å…¥èƒŒæ™¯å›¾ç‰‡ã€å­—ä½“å®šä¹‰çš„æ—¶å€™å¼•å…¥å­—ä½“åŒ…ç­‰ã€‚ 12345.tip:before &#123; content: &quot;!&quot;; font-family: Dosis, &quot;Source Sans Pro&quot;, &quot;Helvetica Neue&quot;, Arial, sans-serif; background: url(../img/tip.png) no-repeat center;&#125; å°½é‡ä¸è¦ä½¿ç”¨ !importantcssè§„åˆ™çš„å®šä¹‰é¡ºåºå¾ˆé‡è¦ï¼ŒåŒå±‚çº§çš„å£°æ˜ï¼Œå®šä¹‰æ–‡ä»¶åé¢çš„ä¼šè¦†ç›–å®šä¹‰åœ¨å‰é¢çš„ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨äº† !important æ¥é™å®šå£°æ˜ï¼Œåˆ™å¯ä»¥å°†ä¼˜å…ˆçº§æå‡åˆ°æœ€é«˜ï¼Œè¿™æ˜¯éå¸¸éœ¸é“çš„è§„åˆ™ã€‚æœ‰æ—¶å€™å› ä¸ºä½¿ç”¨äº† !importantï¼Œä½¿å¾—è„šæœ¬ç¨‹åºæ”¹å˜ä¸äº†æ ·å¼æ¸²æŸ“çš„ç»“æœï¼Œéå¸¸å¯æ¶ã€‚æ‰€ä»¥å»ºè®®ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ï¼Œå¦‚æœçœŸçš„éœ€è¦æé«˜æŸä¸ªé€‰æ‹©å™¨çš„ä¼˜å…ˆçº§ï¼Œå¯ä»¥é€šè¿‡å¢åŠ æ ·å¼çš„å±‚çº§æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚ 123456/* Not recommended */.heavy &#123; font-weight: 700 !important; &#125; /* Recommended */.heavy p,.heavy a &#123; font-weight: 700; &#125; å€¼å’Œå•ä½ æ‰€æœ‰å±æ€§å’Œå€¼å°½é‡éƒ½ç”¨å°å†™ã€‚ å±æ€§å€¼ä¸º0çš„æ—¶å€™ï¼Œä¸è¦å¸¦å•ä½ã€‚ 12345/* Not recommended */.info-item &#123; padding: 0px 10px; &#125; /* Recommended */.info-item &#123; padding: 0 10px; &#125; å½“å¯èƒ½çš„æ—¶å€™å°½é‡ä½¿ç”¨ä¸‰ä½çš„åå…­è¿›åˆ¶è®¡æ•°æ³•ï¼Œæ¯”å¦‚è¡¨ç¤ºé¢œè‰²çš„æ—¶å€™ã€‚ 12345/* Not recommended */.pink-color &#123; color: #ff33aa; &#125; /* Recommended */.pink-color &#123; color: #f3a; &#125; font-weightä½¿ç”¨æ•°å€¼åŒ–è¡¨ç¤ºæ–¹æ³•ï¼Œç”¨400ä»£æ›¿ normalã€700ä»£æ›¿ boldã€‚ 12345/* Not recommended */.heavy &#123; font-weight: bold; &#125; /* Recommended */.heavy &#123; font-weight: 700; &#125; line-heightå°½é‡ä¸è¦å¸¦å•ä½ï¼Œé™¤éå¿…é¡»ç”¨pxæ¥æ ‡å®šã€‚ 12345/* Not recommended */.content p &#123; line-height: 1.2em; &#125; /* Recommended */.content p &#123; line-height: 1.2; &#125; å½“å±æ€§å€¼æ˜¯ä»‹äº0åˆ°1ä¹‹é—´çš„å°æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥æŠŠ0çœç•¥ã€‚ 12345/* Not recommended */.pannel &#123; opacity: 0.8; &#125; /* Recommended */.pannel &#123; opacity: .8; &#125; æ³¨é‡Šæ–‡ä»¶æˆ–æ¨¡å—æ³¨é‡Šæ–‡ä»¶é¡¶éƒ¨ï¼ˆ@charsetä¹‹åï¼‰æœ€å¥½æ˜¯éœ€è¦ä¸€å—æ³¨é‡Šï¼Œå¤§æ¦‚ä»‹ç»çš„æ˜¯è¿™ä¸ªæ–‡ä»¶æ˜¯å…³äºä»€ä¹ˆå†…å®¹çš„ï¼Œä½œè€…æ˜¯è°ï¼Œæœ€åæ›´æ–°æ—¶é—´ç­‰ã€‚å½“ç„¶å¦‚æœä¸€ä¸ª css æ–‡ä»¶éå¸¸å¤§ï¼Œæ¶‰åŠåˆ°å¾ˆå¤šç»„ä»¶æ¨¡å—ç›¸å…³çš„ä»£ç ï¼Œé‚£å¯èƒ½æ¯ä¸ªæ¨¡å—éƒ½éœ€è¦ä¸€ä¸ªæ³¨é‡Šã€‚ 123456/** * @name: bubuzou.css * @description: hexo-theme-bubuzouçš„ä¸»é¢˜æ ·å¼ * @author: typeR(zgrlbq@126.com) * @update: 2017-7-21 16:21:02 */ å•è¡Œæ³¨é‡Šæ˜Ÿå·ä¸å†…å®¹ä¹‹é—´å¿…é¡»ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚å¦‚æœæ˜¯å•æ¡å£°æ˜éœ€è¦æ³¨é‡Šï¼Œåˆ™å†™åˆ°å£°æ˜çš„åˆ†å·ååˆ†éš”ä¸€ä¸ªç©ºæ ¼å¼€å§‹æ³¨é‡Šã€‚ 12345/* This is a comment about this selector */.another-selector &#123; position: absolute; top: 0; /* I should explain why this is so important */&#125; å¤šè¡Œæ³¨é‡Šæ˜Ÿå·è¦ä¸€åˆ—å¯¹é½ï¼Œæ˜Ÿå·ä¸å†…å®¹ä¹‹é—´å¿…é¡»ä¿ç•™ä¸€ä¸ªç©ºæ ¼ã€‚å¤šè¡Œçš„æ³¨é‡Šå’Œè§„åˆ™ä¹‹é—´æœ€å¥½åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œæ‰ä¸ä¼šæ˜¾å¾—é‚£ä¹ˆæ‹¥æŒ¤ã€‚ 12345/** * Description of left, whether or not it has media queries, etc. */ .left &#123; float: left; &#125; å‚è€ƒæ–‡ç«  Web Styleguide - Style guide to harmonize HTML, Javascript and CSS / Sass coding style CSS Coding Standards css-syntax CSSæ ·å¼ä¹¦å†™è§„èŒƒ","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"jpgã€gifã€pngå’Œsvgç”¨äºwebä¸Šï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•é€‰æ‹©æœ€åˆé€‚çš„å›¾åƒæ ¼å¼ï¼Ÿ","slug":"jpeg-gif-png-svg-on-web","date":"2017-06-29T03:19:21.000Z","updated":"2019-07-26T07:38:17.503Z","comments":true,"path":"2017/06/29/jpeg-gif-png-svg-on-web/","link":"","permalink":"https://bubuzou.com/2017/06/29/jpeg-gif-png-svg-on-web/","excerpt":"è¦æ˜¯é—®ä½ ï¼Œä½ çŸ¥é“å½“ä¸‹éƒ½æœ‰å“ªäº›å›¾åƒæ ¼å¼å˜›ï¼Ÿæˆ‘çŒœä½ è‚¯å®šè¯´ä¸å…¨ï¼Œå› ä¸ºç°åœ¨å›¾åƒæ ¼å¼çœŸçš„å¤ªå¤šäº†ï¼Œä½†æ˜¯åº”è¯¥èƒ½è¯´å‡ºè¿™å‡ ä¸ªå¸¸ç”¨çš„æ ¼å¼ï¼šjpgã€gifã€pngå’Œsvgã€‚ç„¶åæˆ‘å†é—®ä½ ï¼ŒçŸ¥ä¸çŸ¥é“è¿™å‡ ä¸ªæ ¼å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå„è‡ªçš„é€‚ç”¨åœºæ™¯åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿlogoåº”è¯¥æ˜¯é€‰æ‹© svg è¿˜æ˜¯ png ï¼Ÿè€Œæˆªå›¾æ˜¯é€‰ jpg è¿˜æ˜¯ png å¥½ï¼Ÿåœ¨ä¸ç”Ÿæˆè¿‡å¤§æ–‡ä»¶çš„å‰æä¸‹ï¼Œæ–‡ä»¶çš„æœ€ä¼˜è´¨é‡æ˜¯å¤šå°‘ï¼Ÿäº†è§£æ¯ä¸ªå›¾åƒæ ¼å¼çš„å·¥ä½œåŸç†ä»¥åŠå®ƒä»¬å„è‡ªçš„åˆ©å¼Šå¯ä»¥å¸®åŠ©å›ç­”è¿™äº›é—®é¢˜ã€‚ åœ¨è¿‡å»å‡ å¹´ä¸­ï¼Œæ•°å­—åŒ–è®¾è®¡å’Œå‰ç«¯å¼€å‘é‡Œå¤§é‡çš„ç ”ç©¶å’Œæµ‹è¯•å·¥å…·å·²ç»å¸®åŠ©æˆ‘ä»¬ææ¸…æ¥šäº†è¿™äº›é—®é¢˜ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºä¸€ä¸‹æ¯ç§æ ¼å¼çš„å·¥ä½œåŸç†ï¼Œå®ƒä»¬å„è‡ªçš„ä¼˜ç‚¹ä»¥åŠåœ¨ç½‘é¡µä½¿ç”¨æ—¶çš„å‹ç¼©ä¸ä¿å­˜æ–¹æ³•ã€‚ å…ˆæ¥çœ‹å‡ ä¸ªæ¦‚å¿µ æœ‰æŸ(Lossless)å’Œæ— æŸ(Lossy)ï¼šä¸€èˆ¬æˆ‘ä»¬èŠåˆ°å›¾ç‰‡çš„æ—¶å€™ç»å¸¸ä¼šå¬åˆ°åˆ«äººæåˆ°æœ‰æŸæˆ–è€…æ— æŸçš„å­—çœ¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æœ‰æŸå’Œæ— æŸå‘¢ï¼Ÿæ— æŸå°±æ˜¯å›¾ç‰‡åœ¨å‹ç¼©ä¿å­˜åè™½ç„¶å ç”¨çš„å­˜å‚¨æ›´å°äº†ï¼Œä½†æ˜¯å›¾åƒçš„å‘ˆç°è´¨é‡ä¾ç„¶å¦‚æ—§ï¼›è€Œæœ‰æŸåˆ™æ˜¯ç›¸åï¼Œå›¾åƒéšç€ä¸€æ¬¡åˆä¸€æ¬¡çš„å‹ç¼©åï¼Œè´¨é‡ä¼šå˜å¾—è¶Šæ¥è¶Šå·®ã€‚ ç´¢å¼•è‰²(Indexed color)å’Œç›´æ¥è‰²(Direct color)ï¼šæŒ‰ç…§ä¸åŒçš„é¢œè‰²æ·±åº¦å¯ä»¥å°†é¢œè‰²åˆ†ä¸ºç´¢å¼•è‰²å’Œç›´æ¥è‰²ã€‚ç´¢å¼•è‰²å°±æ˜¯å›¾åƒä½œè€…æŒ‡å®šå›¾ç‰‡çš„ç”¨è‰²æ€»å…±ä¸è¶…è¿‡256ç§ï¼›è€Œç›´æ¥è‰²åˆ™æ˜¯å¯¹é¢œè‰²ä½¿ç”¨æ²¡æœ‰é™åˆ¶ï¼Œå¯ä»¥å­˜åœ¨æˆåƒä¸Šä¸‡çš„é¢œè‰²å€¼ã€‚ å…‰æ …æ ¼å¼(raster)å’ŒçŸ¢é‡æ ¼å¼(vector)ï¼šå›¾åƒæ ¹æ®ä¿¡æ¯çš„è¡¨ç¤ºæ–¹å¼å¯ä»¥åˆ†ä¸ºå…‰æ …å›¾å’ŒçŸ¢é‡å›¾ã€‚å…‰æ …å›¾ä¹Ÿå«ä½œä½å›¾ï¼Œç‚¹é˜µå›¾æˆ–è€…åƒç´ å›¾ï¼Œå›¾çš„æœ€å°å•ä½æ˜¯ç”±ä¸€ä¸ªä¸ªå¸¦é¢œè‰²çš„åƒç´ ç»„åˆè€Œæˆï¼Œåœ¨ Photoshop é‡ŒæŠŠå›¾ç‰‡æ”¾åˆ°æœ€å¤§ï¼Œå°†çœ‹åˆ°è®¸è®¸å¤šå¤šçš„åƒç´ æ–¹å—ï¼Œæ‰€ä»¥å…‰æ …å›¾åœ¨ä¼¸ç¼©çš„æ—¶å€™å›¾åƒå¯èƒ½ä¼šå¤±çœŸï¼›è€ŒçŸ¢é‡å›¾åˆ™æ˜¯ä»¥ç”±ç‚¹ã€çº¿å’Œä¸€äº›å‡ ä½•å›¾å½¢ä¸ºåŸºç¡€ï¼Œé€šè¿‡æ•°å­¦è®¡ç®—æ¥æ’åˆ—ç»„åˆè€Œæˆï¼Œè¿™ç§å›¾åœ¨ä¼¸ç¼©çš„æ—¶å€™èƒ½å®Œå¥½çš„ä¿æŠ¤è´¨é‡ã€‚","text":"è¦æ˜¯é—®ä½ ï¼Œä½ çŸ¥é“å½“ä¸‹éƒ½æœ‰å“ªäº›å›¾åƒæ ¼å¼å˜›ï¼Ÿæˆ‘çŒœä½ è‚¯å®šè¯´ä¸å…¨ï¼Œå› ä¸ºç°åœ¨å›¾åƒæ ¼å¼çœŸçš„å¤ªå¤šäº†ï¼Œä½†æ˜¯åº”è¯¥èƒ½è¯´å‡ºè¿™å‡ ä¸ªå¸¸ç”¨çš„æ ¼å¼ï¼šjpgã€gifã€pngå’Œsvgã€‚ç„¶åæˆ‘å†é—®ä½ ï¼ŒçŸ¥ä¸çŸ¥é“è¿™å‡ ä¸ªæ ¼å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå„è‡ªçš„é€‚ç”¨åœºæ™¯åˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿlogoåº”è¯¥æ˜¯é€‰æ‹© svg è¿˜æ˜¯ png ï¼Ÿè€Œæˆªå›¾æ˜¯é€‰ jpg è¿˜æ˜¯ png å¥½ï¼Ÿåœ¨ä¸ç”Ÿæˆè¿‡å¤§æ–‡ä»¶çš„å‰æä¸‹ï¼Œæ–‡ä»¶çš„æœ€ä¼˜è´¨é‡æ˜¯å¤šå°‘ï¼Ÿäº†è§£æ¯ä¸ªå›¾åƒæ ¼å¼çš„å·¥ä½œåŸç†ä»¥åŠå®ƒä»¬å„è‡ªçš„åˆ©å¼Šå¯ä»¥å¸®åŠ©å›ç­”è¿™äº›é—®é¢˜ã€‚ åœ¨è¿‡å»å‡ å¹´ä¸­ï¼Œæ•°å­—åŒ–è®¾è®¡å’Œå‰ç«¯å¼€å‘é‡Œå¤§é‡çš„ç ”ç©¶å’Œæµ‹è¯•å·¥å…·å·²ç»å¸®åŠ©æˆ‘ä»¬ææ¸…æ¥šäº†è¿™äº›é—®é¢˜ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å±•ç¤ºä¸€ä¸‹æ¯ç§æ ¼å¼çš„å·¥ä½œåŸç†ï¼Œå®ƒä»¬å„è‡ªçš„ä¼˜ç‚¹ä»¥åŠåœ¨ç½‘é¡µä½¿ç”¨æ—¶çš„å‹ç¼©ä¸ä¿å­˜æ–¹æ³•ã€‚ å…ˆæ¥çœ‹å‡ ä¸ªæ¦‚å¿µ æœ‰æŸ(Lossless)å’Œæ— æŸ(Lossy)ï¼šä¸€èˆ¬æˆ‘ä»¬èŠåˆ°å›¾ç‰‡çš„æ—¶å€™ç»å¸¸ä¼šå¬åˆ°åˆ«äººæåˆ°æœ‰æŸæˆ–è€…æ— æŸçš„å­—çœ¼ï¼Œé‚£ä¹ˆä»€ä¹ˆæ˜¯æœ‰æŸå’Œæ— æŸå‘¢ï¼Ÿæ— æŸå°±æ˜¯å›¾ç‰‡åœ¨å‹ç¼©ä¿å­˜åè™½ç„¶å ç”¨çš„å­˜å‚¨æ›´å°äº†ï¼Œä½†æ˜¯å›¾åƒçš„å‘ˆç°è´¨é‡ä¾ç„¶å¦‚æ—§ï¼›è€Œæœ‰æŸåˆ™æ˜¯ç›¸åï¼Œå›¾åƒéšç€ä¸€æ¬¡åˆä¸€æ¬¡çš„å‹ç¼©åï¼Œè´¨é‡ä¼šå˜å¾—è¶Šæ¥è¶Šå·®ã€‚ ç´¢å¼•è‰²(Indexed color)å’Œç›´æ¥è‰²(Direct color)ï¼šæŒ‰ç…§ä¸åŒçš„é¢œè‰²æ·±åº¦å¯ä»¥å°†é¢œè‰²åˆ†ä¸ºç´¢å¼•è‰²å’Œç›´æ¥è‰²ã€‚ç´¢å¼•è‰²å°±æ˜¯å›¾åƒä½œè€…æŒ‡å®šå›¾ç‰‡çš„ç”¨è‰²æ€»å…±ä¸è¶…è¿‡256ç§ï¼›è€Œç›´æ¥è‰²åˆ™æ˜¯å¯¹é¢œè‰²ä½¿ç”¨æ²¡æœ‰é™åˆ¶ï¼Œå¯ä»¥å­˜åœ¨æˆåƒä¸Šä¸‡çš„é¢œè‰²å€¼ã€‚ å…‰æ …æ ¼å¼(raster)å’ŒçŸ¢é‡æ ¼å¼(vector)ï¼šå›¾åƒæ ¹æ®ä¿¡æ¯çš„è¡¨ç¤ºæ–¹å¼å¯ä»¥åˆ†ä¸ºå…‰æ …å›¾å’ŒçŸ¢é‡å›¾ã€‚å…‰æ …å›¾ä¹Ÿå«ä½œä½å›¾ï¼Œç‚¹é˜µå›¾æˆ–è€…åƒç´ å›¾ï¼Œå›¾çš„æœ€å°å•ä½æ˜¯ç”±ä¸€ä¸ªä¸ªå¸¦é¢œè‰²çš„åƒç´ ç»„åˆè€Œæˆï¼Œåœ¨ Photoshop é‡ŒæŠŠå›¾ç‰‡æ”¾åˆ°æœ€å¤§ï¼Œå°†çœ‹åˆ°è®¸è®¸å¤šå¤šçš„åƒç´ æ–¹å—ï¼Œæ‰€ä»¥å…‰æ …å›¾åœ¨ä¼¸ç¼©çš„æ—¶å€™å›¾åƒå¯èƒ½ä¼šå¤±çœŸï¼›è€ŒçŸ¢é‡å›¾åˆ™æ˜¯ä»¥ç”±ç‚¹ã€çº¿å’Œä¸€äº›å‡ ä½•å›¾å½¢ä¸ºåŸºç¡€ï¼Œé€šè¿‡æ•°å­¦è®¡ç®—æ¥æ’åˆ—ç»„åˆè€Œæˆï¼Œè¿™ç§å›¾åœ¨ä¼¸ç¼©çš„æ—¶å€™èƒ½å®Œå¥½çš„ä¿æŠ¤è´¨é‡ã€‚ JPEGJEPGç”±è”åˆå›¾åƒä¸“å®¶å°ç»„ï¼ˆJoint Photographic Experts Groupï¼‰äº1992å¹´åˆ›å»ºï¼Œå¹¶ä»¥åˆ›å»ºè€…å‘½åã€‚JPEGæ˜¯ä¸€ç§æœ‰æŸå…‰æ …å›¾åƒæ ¼å¼ï¼Œè¿™æ„å‘³ç€æ¯æ¬¡å‹ç¼©ä¿å­˜JPEGæ—¶ï¼Œä¸€äº›ä¿¡æ¯å°†å‘ç”Ÿä¸å¯é€†è½¬åœ°ä¸¢å¤±ï¼›ä¸”å­˜å‚¨çš„é¢œè‰²æ— é™åˆ¶ï¼Œè¿™å°±å¯¹å­˜å‚¨ç…§ç‰‡è¿™ç§é¢œè‰²éå¸¸ä¸°å¯Œå¤æ‚çš„å›¾åƒå°±å¾ˆå‹å¥½äº†ã€‚ å› ä¸º JPEG å‹ç¼©åœ¨äº®åº¦å’Œè‰²å½©ä¸Šé¢çš„ä¼˜è¶Šæ€§ï¼Œæ‰€ä»¥ JPEG éå¸¸é€‚åˆç”¨äºç…§ç‰‡ã€è‰²å½©æ¢¯åº¦æ˜æ˜¾çš„å›¾åƒæ¯”å¦‚æ¸å˜å’Œé˜´å½±è¿™äº›åœ°æ–¹ã€‚ JPEG çš„å‹ç¼©å¯ä»¥ç”¨ Photoshop é‡Œå­˜å‚¨ä¸º web æ ¼å¼çš„æ—¶å€™å¯ä»¥ç›´æ¥é€‰æ‹©å‹ç¼©å“è´¨ï¼Œä¸€èˆ¬ç”¨äº web çš„ JPG å›¾ç‰‡é€‰æ‹© 50%-60% è´¨é‡çš„å³å¯ï¼Œå› ä¸ºå®ƒå…¼é¡¾ä¸é”™çš„å›¾åƒè´¨é‡å’Œè¾ƒå°çš„æ–‡ä»¶å°ºå¯¸ã€‚å¦å¤–ä¹Ÿå¯ä»¥ç”¨åœ¨çº¿å‹ç¼©å·¥å…· TinyJPGã€‚ ä¸‹é¢è¿™ä¸ªå›¾ï¼Œæˆ‘ç”¨çš„æ˜¯ 50%çš„å“è´¨å‹ç¼©å‡ºæ¥çš„ JPGï¼Œå¾ˆæ˜æ˜¾è´¨é‡è¦æ¯” GIF çš„è¦å¥½å¾ˆå¤šï¼Œè€Œä¸”æ–‡ä»¶å°ºå¯¸ä¹Ÿå°ä¸å°‘ã€‚ JPEG å’Œ JPG çš„åŒºåˆ«ï¼šJPEG æ›´å¤šçš„æŒ‡çš„æ˜¯ .jpg å›¾åƒæ ¼å¼çš„ä¸€ç§å‹ç¼©ç®—æ³•ï¼Œè€Œ JPG å°±æ˜¯ä¸€ç§å›¾åƒå­˜å‚¨çš„æ ¼å¼ã€‚ PNGå¯ç§»æ¤ç½‘ç»œå›¾å½¢ï¼ˆPortable Network Graphicsï¼‰ä¹Ÿæ˜¯ä¸€ç§è‡ª1995å¹´ä»¥æ¥å°±ä¸€ç›´å­˜åœ¨çš„å…‰æ …å›¾åƒæ ¼å¼ã€‚å®ƒä¸ JPEG ä¸åŒï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§æ— æŸæ ¼å¼ï¼Œå¹¶ä¸”æ˜¯ç›®å‰ç½‘ç»œä¸Šæœ€å¸¸è§çš„æ— æŸæ ¼å¼ã€‚è¿™æ„å‘³ç€ç”±äºå®ƒçš„å‹ç¼©ç®—æ³•ï¼Œå½“æ–‡ä»¶è¢«ä¿å­˜å’Œå‹ç¼©æ—¶ï¼Œä¸ä¼šä¸¢å¤±ä»»ä½•ä¿¡æ¯ã€‚ PNGæ ¼å¼PNGå…¶å®å¯ä»¥ç»†åˆ†ä¸ºå¥½å‡ ä¸ªæ ¼å¼çš„ï¼Œæœ‰PNG 8ã€PNG 24å’ŒPNG 32ã€‚é‚£ä¹ˆæ€ä¹ˆåŒºåˆ†ä¸€ä¸ª PNG å›¾ç‰‡æ˜¯ä»€ä¹ˆæ ¼å¼çš„å‘¢ï¼Ÿ æ‰“å¼€ä¸Šé¢è¿™å¼ å›¾ç‰‡çš„å±æ€§é¢æ¿ï¼Œä»è¯¦ç»†ä¿¡æ¯é‡Œçœ‹åˆ°æœ‰ä¸€ä¸ªå±æ€§å«åšä½æ·±åº¦ï¼Œå®ƒçš„å€¼æ˜¯24ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»–æ˜¯ PNG 24 æ ¼å¼çš„å›¾ç‰‡ã€‚åŒæ ·ï¼ŒPNG 8 å’Œ PNG 32 çš„ä½æ·±åº¦åˆ†åˆ«æ˜¯8å’Œ32ã€‚ ä½æ·±åº¦è¡¨ç¤ºå›¾åƒèƒ½å¤Ÿå­˜å‚¨é¢œè‰²çš„æœ€å¤§æ•°å€¼ã€‚8ä½å°±æ˜¯2çš„8æ¬¡æ–¹ï¼ˆ2^8=256ï¼‰ç§é¢œè‰²ï¼Œæ‰€ä»¥ PNG 8 æœ€å¤šåªèƒ½å­˜å‚¨256ç§é¢œè‰²ã€‚PNG 24 å’Œ PNG 32åˆå«çœŸå½©è‰²ï¼Œæœ€å¤šå­˜å‚¨2çš„24æ¬¡æ–¹ç§é¢œè‰²ï¼Œå¯ä»¥è¾¾åˆ°äººçœ¼åˆ†è¾¨çš„æé™äº†ï¼›PNG 32ä¸­å‰©ä½™çš„8ä½å­˜å‚¨çš„æ˜¯Alpha é€šé“çš„é€æ˜è‰²ã€‚ ç„¶åå¦‚ä½•ç”Ÿæˆè¿™äº›ä¸åŒæ ¼å¼çš„å›¾ç‰‡å‘¢ï¼Ÿè‡ªç„¶æ˜¯ç”¨ä¸“ä¸šçš„å›¾åƒå¤„ç†è½¯ä»¶å•¦ï¼Œæ¯”å¦‚å¯ä»¥ç”¨ Photoshop æˆ–è€… Fireworksã€‚è¿™é‡Œä»¥ Photoshop ä¸ºä¾‹å­ï¼Œæ–‡ä»¶-&gt;å­˜å‚¨ä¸º Web æ‰€ç”¨æ ¼å¼ï¼Œ å¯ä»¥çœ‹åˆ°ä¸‹æ‹‰è¿™é‡Œåªæœ‰ PNG-8 å’Œ PNG-24ï¼Œè€Œæ²¡æœ‰ PNG-32 å‘¢ï¼Ÿæ˜¯å› ä¸º Photoshopä¸æ”¯æŒè¿™ä¸ªæ ¼å¼å˜›ï¼Ÿå¹¶ä¸æ˜¯ã€‚ åœ¨ Photoshop é‡Œå¯¼å‡º PNG-32 æ ¼å¼çš„å›¾ç‰‡æ˜¯é€šè¿‡é€‰æ‹© PNG-24æ ¼å¼ï¼Œå¹¶ä¸”å‹¾é€‰ä¸‹é¢çš„é€æ˜åº¦ï¼Œè¿™æ ·ç”Ÿæˆçš„å›¾ç‰‡ä½æ•°æ‰æ˜¯32ä½çš„ï¼Œå¦‚æœä¸å‹¾é€‰é€æ˜åº¦çš„è¯å°±æ˜¯ PNG-24 æ ¼å¼ã€‚ç”±æ­¤çœ‹æ¥ PNG-24 æ˜¯ä¸æ”¯æŒé€æ˜çš„ï¼ŒPNG-32 æ˜¯æ”¯æŒé€æ˜çš„ã€‚ PNGé€æ˜åº¦ä» Fireworks 8çš„ä¼˜åŒ–é¢æ¿é‡Œå¯ä»¥çœ‹åˆ° PNG æ ¼å¼å­˜åœ¨ä¸‰ç§é€æ˜æ ¼å¼ï¼šä¸é€æ˜ã€ç´¢å¼•é€æ˜å’Œ Alphaé€æ˜ã€‚ PNG 8é€æ˜åº¦ ä»ä¸Šé¢é‚£ä¸ªå›¾é‡Œå¯ä»¥çœ‹å‡º PNG 8 æ˜¯æ”¯æŒè¿™ä¸‰ç§ä¸é€æ˜æ ¼å¼çš„ã€‚ä½†æ˜¯ Photoshop åªæ”¯æŒå¯¼å‡ºä¸é€æ˜å’Œç´¢å¼•é€æ˜æ ¼å¼ã€‚åœ¨Photoshop ä¸­å¦‚æœé€‰æ‹© PNG 8ï¼Œä¸”å‹¾é€‰äº†é€æ˜åº¦ï¼Œé‚£ä¹ˆå¯¼å‡ºçš„å›¾ç‰‡å°±æ˜¯ PNG 8 ç´¢å¼•é€æ˜ï¼Œå¦åˆ™å°±æ˜¯ PNG 8 ä¸é€æ˜ã€‚ ç”¨ Photoshop å’Œ Fireworks 8 å¯¼å‡º PNG 8 çš„å„ç§æ ¼å¼å¦‚ä¸‹æ‰€ç¤ºï¼š æ ¹æ®ä»¥ä¸Šå›¾ç‰‡æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š Photoshop å¯¼å‡ºçš„ PNG 8 å›¾ç‰‡éƒ½å¸¦æœ‰é”¯é½¿ã€‚ PNG 8 ç´¢å¼•é€æ˜éƒ½å¸¦æœ‰é”¯é½¿ï¼Œä¸” Fireworks 8 å¯¼å‡ºçš„ PNG 8ç´¢å¼•é€æ˜çš„é”¯é½¿æ˜¯ç™½è‰²çš„ã€‚ å†æ¥çœ‹çœ‹è¿™äº›æ ¼å¼åœ¨ä¸åŒæµè§ˆå™¨ä¸‹çš„è¡¨ç°æƒ…å†µï¼š æ ¹æ®ä»¥ä¸Šå›¾ç‰‡æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š PNG 8 ç´¢å¼•é€æ˜å’Œ Alpha é€æ˜éƒ½å…¼å®¹IE 6ï¼›ä½†ç¾ä¸­ä¸è¶³çš„æ˜¯ï¼ŒPNG 8Alphaé€æ˜åœ¨ IE 6ä¸‹ä¼šäº§ç”Ÿé”¯é½¿ã€‚ å…¶ä»–æ ¼å¼çš„å›¾ç‰‡åœ¨å„ä¸ªæµè§ˆå™¨ä¸‹çš„è¡¨ç°ä¸€è‡´ã€‚ Fireworks 8å¯¼å‡ºçš„ PNG 8ç´¢å¼•é€æ˜å¸¦æœ‰ç™½è‰²é”¯é½¿ï¼Œä½†æ˜¯å¦‚æœå›¾ç‰‡æ˜¯æ”¾åˆ°ç™½è‰²çš„èƒŒæ™¯çš„å®¹å™¨ä¸‹ï¼Œé‚£ä¹ˆè¿™ä¸ªç™½è‰²é”¯é½¿å°±å®Œå…¨çœ‹ä¸å‡ºæ¥äº†ï¼Œè¡¨ç°å¾—å’Œæ­£å¸¸æ•ˆæœä¸€æ ·ã€‚ PNG 24 å’Œ PNG 32 PNG 24 æ˜¯ä¸é€æ˜çš„ï¼›PNG 32 æ˜¯æ”¯æŒé€æ˜çš„ï¼Œä¸”æ˜¯ Alpha é€æ˜ã€‚æ¥çœ‹ä¸‹å®ƒä»¬åœ¨ä¸åŒæµè§ˆå™¨ä¸‹çš„è¡¨ç°ï¼š PNG 32 å›¾ç‰‡çš„é€æ˜åŒºåŸŸåœ¨ IE 6 ä¸‹å°†ä¸å†é€æ˜ï¼Œè€Œæ˜¯é¢œè‰²å€¼ä¸º f0f0f0 çš„ç°è‰²å¡«å……ï¼Œåœ¨æ›´é«˜çº§ç‰ˆæœ¬çš„ IE ä¸‹æ˜¯æ­£å¸¸çš„ã€‚PNG 32 å›¾ç‰‡ä¸ä¼šæœ‰é”¯é½¿ã€‚ PNGå‹ç¼©æœ¬æ–‡å‰é¢æåˆ°äº† JPEG åœ¨ç…§ç‰‡ç‰‡è¿™ç±»é¢œè‰²ä¸°å¯Œçš„å›¾åƒä¸Šçš„ä¼˜ç§€è¡¨ç°ï¼Œæ‰€ä»¥ç°åœ¨å°†å®ƒå’Œ PNG çš„3ç§æ ¼å¼è¿›è¡Œå¯¹æ¯”ã€‚ä¸»è¦æ˜¯å¯¹æ¯”å‹ç¼©å‰åçš„å­˜å‚¨ä½“ç§¯ä»¥åŠè¡¨ç°æ•ˆæœç­‰æ–¹é¢ã€‚ç”¨çš„æ˜¯å…è´¹çš„åœ¨çº¿å‹ç¼©å·¥å…· TinyPNGï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥å‹ç¼© JPEG å’Œ PNG æ ¼å¼ã€‚ ä»ä¸Šå›¾è¿™ä¸ªå›¾ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸åŒè§’åº¦å¾—å‡ºä¸€äº›ç»“è®ºï¼š PNG 8 æ ¼å¼çš„å›¾ç‰‡é¢œè‰²è¿‡åº¦å¤„ç†å¾—å¾ˆçªå…€ï¼Œèƒ½çœ‹åˆ°å¾ˆæ˜æ˜¾çš„æ³¢æµªè¤¶çš±ï¼Œè¿™å°±æ˜¯å› ä¸ºå®ƒæœ€å¤šåªèƒ½å­˜å‚¨256ç§é¢œè‰²å¯¼è‡´çš„ï¼Œæ‰€ä»¥PNG 8ä¸é€‚åˆç”¨äºå­˜å‚¨é¢œè‰²å¤æ‚çš„å›¾åƒã€‚ç›¸åï¼Œç”±äºå…¶ç›¸å¯¹äº PNG 24 æˆ–è€… PNG 32 æœ‰å…ˆå¤©çš„å­˜å‚¨ä½“ç§¯å°ä¼˜åŠ¿ï¼Œæ‰€ä»¥å®ƒéå¸¸é€‚åˆåº”ç”¨äºå›¾æ ‡ã€é¢œè‰²ç®€å•çš„æˆ–é€æ˜çš„å›¾åƒä¸Šã€‚ å¯¹æ¯”100%è´¨é‡çš„ JPGã€55%è´¨é‡çš„ JPGã€PNG 24 å’Œ PNG 32ï¼Œè‚‰çœ¼ä¸Šçœ‹ä»–ä»¬çš„å›¾åƒè¡¨ç°æ•ˆæœéƒ½å·®ä¸å¤šï¼Œä½†æ˜¯å„è‡ªæ‰€å ç”¨çš„å­˜å‚¨ç©ºé—´å´æ˜¯å·®å¾—æœ‰äº›ç¦»è°±ã€‚å‹ç¼©å‰ï¼Œå½“å±55%è´¨é‡çš„ JPG å ç”¨å­˜å‚¨æœ€å°ï¼›å‹ç¼©åï¼ŒPNG 24 å’Œ PNG 32 ä¸€æ ·ï¼Œä¼šæ¯”55%è´¨é‡çš„ JPG å°ä¸€äº›ï¼Œä½†æ˜¯ç”±äº PNG 32 æ”¯æŒé€æ˜ï¼Œæ‰€ä»¥å¯¹äºé¢œè‰²ä¸°å¯Œçš„å›¾åƒå»ºè®®ç”¨ PNG 32 æ ¼å¼å¯¼å‡ºï¼Œç„¶åç”¨å‹ç¼©å·¥å…·å‹ç¼©ä¸€ä¸‹å³å¯ã€‚ å¯¹æ¯”å‹ç¼©å‰åçš„ PNG 24 å’Œ PNG 32 ä¸¤è€…çš„å­˜å‚¨ä½“ç§¯ç›¸å·®å·¨å¤§ï¼Œä½†æ˜¯è¡¨ç°æ•ˆæœå´ç›¸å·®æ— å‡ ï¼Œæ‰€ä»¥ç”¨äº web ä¸Šçš„ PNG 24 æˆ– PNG 32 å›¾åƒä¸€å®šè¦è®°å¾—å‹ç¼©ï¼Œè¿™å¯¹äºå®¢æˆ·ç«¯çš„æ€§èƒ½ä¼˜åŒ–å°†æä¾›éå¸¸å¤§çš„å¸®åŠ©ã€‚ GIFå›¾å½¢äº¤æ¢æ ¼å¼ï¼ˆGraphics Interchange Formatï¼‰ä¹Ÿæ˜¯ä¸€ç§å…‰æ …æ ¼å¼ï¼Œæœ€å¤šåªèƒ½å­˜å‚¨256ç§é¢œè‰²ï¼Œæ”¯æŒé€æ˜åº¦ï¼Œè€Œä¸”åœ¨ IE 6 ä¸‹ä¹Ÿæ”¯æŒå¾—å¾ˆå¥½ï¼Œå”¯ä¸€ç¾ä¸­ä¸è¶³çš„æ˜¯é™¤äº† Fireworks 8 å¯¼å‡ºçš„ GIF ä¸é€æ˜æ ¼å¼å¤–ï¼Œæ‰€æœ‰çš„å…¶ä»– GIF æ ¼å¼çš„å›¾ç‰‡éƒ½å­˜åœ¨é”¯é½¿ã€‚ ä½†æ˜¯ GIF ä¹Ÿä¸æ˜¯ä¸€æ— æ˜¯å¤„ï¼Œæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯æ”¯æŒç®€å•çš„åŠ¨ç”»ã€‚å¦‚ä¸‹é¢ç®€å•çš„äº¤é€šç¯åŠ¨ç”»ï¼š SVGå¯ä¼¸ç¼©çŸ¢é‡å›¾å½¢ï¼ˆScalable Vector Graphicsï¼‰ï¼Œé¡¾åæ€ä¹‰å®ƒæ˜¯çŸ¢é‡çš„ï¼Œè€Œéå…‰æ …æ ¼å¼ã€‚åŒºåˆ«äºå…‰æ …æ ¼å¼çš„ä¾é åƒç´ ç‚¹æ¥å­˜å‚¨å›¾åƒï¼ŒçŸ¢é‡å›¾æ˜¯é€šè¿‡XMLæ ¼å¼æ¥æ•°æ®åŒ–çš„è®°å½•å›¾åƒçš„ä¿¡æ¯ã€‚æ‰€ä»¥ SVG ç›¸å¯¹äºå…‰æ …æ ¼å¼çš„å›¾åƒå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š ä»»æ„ä¼¸ç¼©å›¾åƒï¼Œè€Œä¸ä¼šç ´åå›¾åƒçš„æ¸…æ™°åº¦å’Œç»†èŠ‚ã€‚ å®Œå…¨æ”¯æŒ DOMï¼Œä»¥åŠ JavaScript èƒ½å¤Ÿå¾ˆå¥½çš„è®¿é—®åˆ°å®ƒã€‚ æ€»ä½“æ¥è®²ï¼ŒSVGçš„æ–‡ä»¶ä¼šæ¯” GIF æˆ– JPG çš„ä¼šå°å¾ˆå¤šã€‚ å°±åƒå…¶å®ƒçŸ¢é‡æ ¼å¼ï¼ŒSVG å›¾ç‰‡èƒ½ä¸ä¸¢å¤±ä»»ä½•ç»†èŠ‚åœ°æ”¾å¤§åˆ°ä»»ä½•å¤§å°ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼ŒåŒä¸€ä¸ªå›¾æ ‡ï¼Œå¯ä»¥ä»¥å¤šç§å°ºå¯¸ä½¿ç”¨ï¼Œå¹¶ä¸”åœ¨ä»»ä½•å±å¹•åˆ†è¾¨ç‡ï¼ˆæ¯”å¦‚ Retina æ˜¾ç¤ºå™¨ï¼‰ä¸­éƒ½å°†çœ‹èµ·æ¥å¾ˆæ¸…æ™°ï¼Œè€Œä¸éœ€è¦å­˜æˆå¤šä¸ªæ–‡ä»¶ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªè¿™ä¸ªå›¾å¯¹æ¯”ï¼Œå³è¾¹çš„æ˜¯çŸ¢é‡å›¾ï¼Œå·¦è¾¹çš„æ˜¯å…¶ä»–æ ¼å¼å›¾ç‰‡ï¼š SVGç”¨é€”SVG åœ¨çº¿æ¡è‰ºæœ¯ï¼ŒLOGOï¼Œå›¾æ ‡ï¼Œæ’ç”»å’Œæ•°æ®å¯è§†åŒ–æ–¹é¢ç”¨é€”å¹¿æ³›ã€‚ä½†å®ƒä¸é€‚ç”¨äºå†™å®å›¾åƒå’Œæœ‰è®¸å¤šç»†èŠ‚çš„å¤æ‚å›¾ç‰‡ã€‚åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼ŒSVG å’Œ PNG éƒ½èƒ½å¾ˆå¥½åœ°è¾¾åˆ°åŒä¸€ä¸ªç›®çš„ã€‚å¯¹äºçº¿æ¡è‰ºæœ¯ï¼ŒSVG é€šå¸¸èƒ½ç”Ÿæˆè¾ƒå°çš„æ–‡ä»¶ã€‚ä½†æ˜¯è¿™ä¸æ˜¯å¿…ç„¶çš„ï¼Œå®é™…æƒ…å†µä¼šæ ¹æ®çŸ¢é‡å›¾åƒç©¶ç«Ÿæœ‰å¤šå°‘ä¸ªé”šç‚¹ï¼Œå®ƒç”šè‡³å¯èƒ½ä¼šç”Ÿæˆæ¯”PNGæ›´å¤§çš„æ–‡ä»¶ã€‚ SVG çœŸæ­£å‡ºè‰²çš„åœ°æ–¹æ˜¯æ•°æ®å¯è§†åŒ–ã€‚ç”±äºå¯ä»¥ä½¿ç”¨JavaScript æ¥æ“çºµå’Œåˆ›å»ºçŸ¢é‡åŠ¨ç”»ï¼Œè¯¸å¦‚ D3 ä¹‹ç±»çš„åº“æä¾›äº†æ— é™çš„å¯èƒ½æ€§ã€‚LOGO, å›¾æ ‡å’Œæ•°æ®å¯è§†åŒ–æ˜¯ SVG ä½¿ç”¨çš„ä¼˜ç§€èŒƒä¾‹ã€‚ SVGå‹ç¼©æ¯”è¾ƒå¥½çš„ SVG æ–¹æ³•åº”è¯¥æ˜¯é€šè¿‡æ¸…é™¤ SVG çŸ¢é‡å›¾å½¢ä¸­ä¸å¿…è¦çš„é”šç‚¹ã€å…ƒç´ å’Œå±æ€§æ¥å‡å°‘æ–‡ä»¶å¤§å°ã€‚é”šç‚¹ç»˜åˆ¶äº†çŸ¢é‡å›¾åƒï¼Œå› æ­¤ï¼Œä½ éœ€è¦ç¡®ä¿å·²ç§»é™¤çš„é”šç‚¹ä¸ä¼šå½±å“çŸ¢é‡å›¾å½¢çš„æœ€ç»ˆå½¢çŠ¶ã€‚å¦‚æœæ‚¨ä½¿ç”¨ Adobe Illustrator ç¼–è¾‘ SVGï¼Œè¯·ç¡®ä¿ä½¿ç”¨å¯¼ -&gt; å¯¼å‡ºä¸ºï¼Œè€Œä¸æ˜¯æ–‡ä»¶ -&gt; å¦å­˜ä¸ºè¿›è¡Œä¿å­˜ï¼Œå› ä¸ºè¿™æ ·æ‰èƒ½ç”Ÿæˆä¸€ä¸ªæœ€å°åŒ–çš„æ–‡ä»¶ã€‚ æ¸…ç†ä¸å¿…è¦çš„èŠ‚ç‚¹æ˜¯ç¼©å‡ SVG å°ºå¯¸çš„ä¸€ç§é€”å¾„ã€‚å…ƒç´ æ ‡ç­¾æ˜¯åŒ…å«åœ¨ SVG æ–‡ä»¶å†…çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬å¼€å§‹å’Œç»“æŸæ ‡ç­¾ã€‚çŸ¢é‡ç¼–è¾‘è½¯ä»¶ï¼Œå¦‚ Adobe Illustrator å’Œ Sketch å¯èƒ½ä¼šåˆ°å¤„å«æœ‰éå¿…è¦å…ƒç´ å’Œå±æ€§çš„ SVG ã€‚SVG å‹ç¼©å™¨å¯ç”¨äºåˆ é™¤è¿™ç§å¤šä½™çš„ä¿¡æ¯ã€‚Compresso å’Œ SVGOMG ç­‰åœ¨çº¿å·¥å…·å¯ä»¥å®Œæˆæ­¤å·¥ä½œã€‚ å‚è€ƒæ–‡ç«  åœ¨ç½‘é¡µä¸Šä½¿ç”¨JPGã€PNGå’ŒSVGï¼šæ–°æ‰‹æŒ‡å— PNGä½¿ç”¨æŠ€å·§ PNG vs. GIF vs. JPEG vs. SVG - When best to use? JPG vs PNG vs GIF vs SVG â€“ What is the Difference?","categories":[{"name":"webç»¼åˆ","slug":"webç»¼åˆ","permalink":"https://bubuzou.com/categories/web%E7%BB%BC%E5%90%88/"}],"tags":[{"name":"svg","slug":"svg","permalink":"https://bubuzou.com/tags/svg/"},{"name":"å›¾åƒ","slug":"å›¾åƒ","permalink":"https://bubuzou.com/tags/%E5%9B%BE%E5%83%8F/"}]},{"title":"CSSè‡ªå®šä¹‰å±æ€§","slug":"css-custom-property","date":"2017-05-04T04:20:21.000Z","updated":"2019-07-26T07:57:49.748Z","comments":true,"path":"2017/05/04/css-custom-property/","link":"","permalink":"https://bubuzou.com/2017/05/04/css-custom-property/","excerpt":"CSS è‡ªå®šä¹‰å±æ€§ï¼Œå¾ˆå¤šäººåˆæŠŠå®ƒç§°ä¹‹ä¸º CSS å˜é‡ï¼Œæ˜¯ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ç”¨æ¥æŒ‡å®š CSS å±æ€§å€¼çš„å˜é‡ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456:root &#123; --color-red: red;&#125;.red &#123; color: var(--color-red);&#125; ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¦–å…ˆåœ¨ :root(æ–‡æ¡£æ ¹å…ƒç´ å³ html )å¤„å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå˜é‡åç§°å« color-redã€‚ç„¶ååœ¨ red å…ƒç´ é‡Œä½¿ç”¨äº†è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ é¢œè‰²å°†å˜æˆçº¢è‰²ã€‚","text":"CSS è‡ªå®šä¹‰å±æ€§ï¼Œå¾ˆå¤šäººåˆæŠŠå®ƒç§°ä¹‹ä¸º CSS å˜é‡ï¼Œæ˜¯ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ç”¨æ¥æŒ‡å®š CSS å±æ€§å€¼çš„å˜é‡ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456:root &#123; --color-red: red;&#125;.red &#123; color: var(--color-red);&#125; ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¦–å…ˆåœ¨ :root(æ–‡æ¡£æ ¹å…ƒç´ å³ html )å¤„å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå˜é‡åç§°å« color-redã€‚ç„¶ååœ¨ red å…ƒç´ é‡Œä½¿ç”¨äº†è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆè¯¥å…ƒç´ é¢œè‰²å°†å˜æˆçº¢è‰²ã€‚ å˜é‡ç”³æ˜ä¸ä½¿ç”¨å‚ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œä½ å¯èƒ½å¾ˆå®¹æ˜“çœ‹å‡º CSS å˜é‡çš„å£°æ˜æ–¹å¼ï¼šä½¿ç”¨ --* å£°æ˜ä¸€ä¸ªå˜é‡ã€‚è¿™é‡Œçš„ * è¡¨ç¤ºå˜é‡åç§°ã€‚å˜é‡åç§°çš„ç»„æˆå¯ä»¥æ˜¯æ•°ç»„[0-9]ã€å­—æ¯[a-zA-Z]ã€ä¸‹åˆ’çº¿_æˆ–è€…è¿å­—ç¬¦-ç»„åˆè€Œæˆï¼Œæ›´å‰å®³çš„æ˜¯å˜é‡åç§°ç”šè‡³å¯ä»¥æ˜¯ä¸­æ–‡ï¼Œå¦å¤–å˜é‡åç§°æ˜¯åŒºåˆ†å¤§å°å†™å­—æ¯çš„ã€‚CSS å˜é‡çš„å–å€¼å¯ä»¥æ˜¯å•å€¼ 10pxã€å¤åˆå±æ€§çš„å€¼ 1px solid #dddï¼Œè®¡ç®—å€¼ calc( 10px * 2 )ï¼Œç”šè‡³å±æ€§å€¼é‡Œåˆå¯ä»¥å¼•ç”¨å˜é‡ var(--size) 10pxã€‚ 12345678/* å˜é‡ç”³æ˜ï¼Œæ³¨æ„è§‚å¯Ÿå˜é‡åç§°å’Œå±æ€§å€¼çš„å®šä¹‰ */:root &#123; --10: 10px; --marginTop: 20px; --color-red: red; --ç‰¹æ®Šçš„å†…é—´è·: 10px 0 20px; --padv: calc( var(--10) * 2 ) 0; &#125; å˜é‡çš„ä½¿ç”¨æ–¹å¼ï¼šä½¿ç”¨ var(--*) ä½¿ç”¨å˜é‡ï¼Œå…¶å®æ¯”è¾ƒå®Œæ•´çš„ä½¿ç”¨è§„åˆ™æ˜¯è¿™æ ·çš„ï¼švar( &lt;â€“å˜é‡åç§°&gt; [, &lt;é»˜è®¤å€¼&gt; ]? )ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ï¼š 123div &#123; padding: var(--size, 10px 0);&#125; è¿™ä¸ªè¡¨ç¤ºï¼Œå½“ --size è¿™ä¸ªå˜é‡æœªå®šä¹‰çš„æ—¶å€™ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å€¼ 10px 0ï¼Œæ³¨æ„è¿™ä¸ªåœ°æ–¹ä¸èƒ½åŠ åˆ†å·ã€‚ è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œå‡å¦‚å®šä¹‰äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯å˜é‡å€¼æ˜¯ä¸åˆæ³•çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šå–å±æ€§çš„ç¼ºçœå€¼ã€‚æ¯”å¦‚ï¼š 12345body &#123; --color: 20px; background-color: #369; background-color: var(--color, #cd0000);&#125; çœ‹ä¸Šé¢çš„ä¾‹å­ï¼Œæ­¤æ—¶çš„ body çš„èƒŒæ™¯é¢œè‰²åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼ŸA. transparentã€B. 20pxã€C. #369ã€D. #cd0000ç­”æ¡ˆæ˜¯ Aï¼Œå› ä¸ºè¿™ä¸ªæ—¶å€™å˜é‡ color çš„å€¼ç”¨åœ¨è¿™é‡Œæ˜¯ä¸åˆæ³•çš„ï¼Œæ‰€ä»¥ä¼šå– background-color çš„ç¼ºçœå€¼å³é»˜è®¤æ›¿ä»£å€¼transparentï¼Œä¹Ÿä¸ä¼šç”¨ #cd0000 å†æ¥çœ‹ä¸ªä¾‹å­ï¼š 1234body &#123; --size: 20; font-size: var(--size)px;&#125; ä¹çœ‹ä¸Šé¢è¿™ä¸ªä¾‹å­ï¼Œbody çš„å­—å·æ˜¯ 20pxï¼Œå…¶å®ä¸ç„¶ã€‚var(--size)px ä¼šè§£æå®Œæˆåä¼šå˜æˆ 20 pxï¼Œè¿™ä¸ªå€¼æ˜¯ä¸åˆæ³•çš„ï¼Œæ‰€ä»¥ä¼šå–ç¼ºçœå€¼ 16pxã€‚æ³¨æ„åˆ°è¿™ä¸ªé—®é¢˜ï¼Œç¨³å¦¥çš„åšæ³•è¿˜æ˜¯åœ¨å˜é‡ç”³æ˜çš„æ—¶å€™å¸¦ä¸Šå•ä½ã€‚æˆ–è€…ä½¿ç”¨ calc() æ¥è®¡ç®—ï¼š 1234body &#123; --size: 20; font-size: calc(var(--size) * 1px );&#125; CSSå˜é‡ä½œç”¨åŸŸå±…ç„¶æ˜¯å˜é‡ï¼Œé‚£ä¹ˆè‡ªç„¶çš„æœ‰ä½œç”¨åŸŸè¿™ä¸€è¯´æ³•ï¼Œåœ¨ CSS å˜é‡ä¸­ï¼Œä¹Ÿæ˜¯å­˜åœ¨ä½œç”¨åŸŸçš„ã€‚å…¨å±€ä½œç”¨åŸŸï¼Œç›´æ¥å°†å˜é‡å®šä¹‰åœ¨æ ¹å…ƒç´ ä¸Šï¼š 1234567891011121314:root &#123; --color-red: red;&#125;``` å±€éƒ¨ä½œç”¨åŸŸæ˜¯ä¼šç›´æ¥åœ¨æŸä¸ªå…ƒç´ ä¸Šå®šä¹‰å˜é‡ï¼Œä¸”è¿™ä¸ªå˜é‡åªåœ¨è¯¥å…ƒç´ åŠåä»£å…ƒç´ ä¸­æœ‰æ•ˆï¼š``` cssbody &#123; color: var(--color-red);&#125;div.red &#123; --color-red: red;&#125; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œbody çš„é¢œè‰²ä¸ä¼šè¢«è®¾ç½®æˆçº¢è‰²ã€‚å¦å¤–å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå˜é‡çš„ç”³æ˜å’Œå˜é‡çš„ä½¿ç”¨ä¸å®šä¹‰åœ¨æ–‡ä»¶é‡Œçš„å…ˆåä½ç½®æ— å…³ã€‚ å½“å­˜åœ¨å¤šä¸ªå˜é‡çš„æ—¶å€™ï¼Œå˜é‡çš„è¦†ç›–è§„åˆ™ç”± CSS é€‰æ‹©å™¨çš„æƒé‡å†³å®šï¼Œä½†å¹¶æ—  !important è¿™ç§ç”¨æ³•ï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦ï¼Œ!importantè®¾è®¡åˆè¡·æ˜¯å¹²æ‰ JS çš„ style è®¾ç½®ï¼Œä½†å¯¹äºå˜é‡çš„å®šä¹‰åˆ™æ²¡æœ‰è¿™æ ·çš„éœ€æ±‚ã€‚ 123456:root &#123; --color: red;&#125;div &#123; --color: blue;&#125; æ­¤æ—¶æœ‰ä¸€ä¸ª div å…ƒç´ ï¼Œé‚£ä¹ˆå…¶é¢œè‰²å€¼ä¼šæ˜¯è“è‰²çš„ã€‚ æ¥å®è·µä¸€ä¸‹å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š 12345678div &#123; border: 1px solid #d2d2d2;&#125;div &#123; border-width: 1px; border-style: solid; border-color: #d2d2d2;&#125; ä¸Šé¢è¿™ä¸¤ç§è®¾ç½®çš„è¾¹æ¡†æ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ï¼ŒåŒºåˆ«æ˜¯ä¸€ä¸ªç”¨çš„æ˜¯å¤åˆå±æ€§ï¼Œä¸€ä¸ªæ˜¯ç‹¬ç«‹å±æ€§ã€‚åœ¨ CSS é‡Œå­˜åœ¨è®¸è®¸å¤šå¤šçš„å±æ€§å€¼æ˜¯ç”±å¤šä¸ªå€¼ç»„æˆçš„å±æ€§ï¼Œæ¯”å¦‚ borderã€animation ç­‰ã€‚å¦‚æœè¦å•ç‹¬åœ°ä¿®æ”¹è¿™äº›å¤šä¸ªå±æ€§å€¼é‡Œçš„æŸä¸€ä¸ªï¼Œå¤åˆå±æ€§å°±å¯ä»¥ç›´æ¥ä¿®æ”¹å®ƒçš„ç‹¬ç«‹å±æ€§ï¼Œä½†æ˜¯å¯¹äºé‚£ç§ä¸æ˜¯å¤åˆå±æ€§å´æœ‰å¤šä¸ªå±æ€§å€¼çš„ CSS å±æ€§å°±å¤´å¤§äº†ï¼Œæ¯”å¦‚ box-shadowï¼Œç‰¹åˆ«æ˜¯åœ¨ OOCSS çš„ä¸–ç•Œé‡Œï¼Œè¿™ç§æƒ…å†µå°±æ›´å°´å°¬äº†ã€‚ä½†æ˜¯ç°åœ¨æœ‰äº† CSS è‡ªå®šä¹‰å±æ€§ï¼Œé—®é¢˜å°±å¯ä»¥è¿åˆƒè€Œè§£äº†ã€‚æ¯”å¦‚ï¼Œbox-shadow: 1px 2px 3px 4px #dddï¼Œè¿™é‡Œå¯ä»¥æŠŠè¿™5ä¸ªå€¼åˆ†åˆ«ç”¨5ä¸ªå…¨å±€å˜é‡è¡¨ç¤ºï¼š 1234567:root &#123; --box-shadow-offset-x: 1px; --box-shadow-offset-y: 2px; --box-shadow-blur: 3px; --box-shadow-spread: 4px; --box-shadow-color: #ddd;&#125; å½“éœ€è¦å•ç‹¬åœ°ä¿®æ”¹æŸä¸ªå€¼çš„æ—¶å€™ï¼Œç›´æ¥ç”¨ js ä¿®æ”¹å…¨å±€å˜é‡çš„å€¼å³å¯ï¼š 1document.documentElement.style.setProperty( &#x27;--box-shadow-offset-x&#x27;, &#x27;3px&#x27; ); æ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¥½ç©ï¼Œæˆ³æˆ‘ç»™ä½ çœ‹ä¸€ä¸ªä¾‹å­ã€‚ CSSå˜é‡å­˜åœ¨çš„æ„ä¹‰åœ¨æ„å»ºå¤§å‹ç«™ç‚¹æ—¶ï¼Œä½œè€…é€šå¸¸ä¼šé¢å¯¹å¯ç»´æŠ¤æ€§çš„æŒ‘æˆ˜ã€‚åœ¨è¿™äº›ç½‘é¡µä¸­ï¼Œ æ‰€ä½¿ç”¨çš„ CSS çš„æ•°é‡æ˜¯éå¸¸åºå¤§çš„ï¼Œå¹¶ä¸”åœ¨è®¸å¤šåœºåˆå¤§é‡çš„ä¿¡æ¯ä¼šé‡å¤ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œåœ¨ç½‘é¡µä¸­ç»´æŠ¤ä¸€ä¸ªé…è‰²æ–¹æ¡ˆï¼Œæ„å‘³ç€ä¸€äº›é¢œè‰²åœ¨ CSS æ–‡ä»¶ä¸­å¤šæ¬¡å‡ºç°ï¼Œå¹¶è¢«é‡å¤ä½¿ç”¨ã€‚å½“ä½ ä¿®æ”¹é…è‰²æ–¹æ¡ˆæ—¶ï¼Œä¸è®ºæ˜¯è°ƒæ•´æŸä¸ªé¢œè‰²æˆ–å®Œå…¨ä¿®æ”¹æ•´ä¸ªé…è‰²ï¼Œéƒ½ä¼šæˆä¸ºä¸€ä¸ªå¤æ‚çš„é—®é¢˜ï¼Œä¸å®¹å‡ºé”™ï¼Œè€Œå•çº¯æŸ¥æ‰¾æ›¿æ¢æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚ å¦‚æœä½¿ç”¨äº† CSS æ¡†æ¶ï¼Œè¿™ç§æƒ…å†µä¼šå˜å¾—å°¤å…¶ç³Ÿç³•ï¼Œæ­¤æ—¶å¦‚æœè¦ä¿®æ”¹é¢œè‰²ï¼Œåˆ™éœ€è¦å¯¹æ¡†æ¶æœ¬èº«è¿›è¡Œä¿®æ”¹ã€‚åœ¨è¿™äº›åœºåˆä½¿ç”¨ LESS æˆ– Sass ç±»ä¼¼çš„é¢„å¤„ç†å™¨æ˜¯éå¸¸æœ‰å¸®åŠ©çš„ï¼Œä½†æ˜¯è¿™ç§é€šè¿‡æ·»åŠ é¢å¤–æ­¥éª¤çš„æ–¹å¼ï¼Œå¯èƒ½ä¼šå¢åŠ ç³»ç»Ÿçš„å¤æ‚æ€§ã€‚CSSå˜é‡ä¸ºæˆ‘ä»¬å¸¦æ¥ä¸€äº›é¢„å¤„ç†å™¨çš„ä¾¿åˆ©ï¼Œå¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„ç¼–è¯‘ã€‚ è¿™äº›å˜é‡çš„ç¬¬äºŒä¸ªä¼˜åŠ¿å°±æ˜¯åç§°æœ¬èº«å°±åŒ…å«äº†è¯­ä¹‰çš„ä¿¡æ¯ã€‚CSS æ–‡ä»¶å˜å¾—æ˜“è¯»å’Œç†è§£ã€‚main-text-color æ¯”æ–‡æ¡£ä¸­çš„#00ff00 æ›´å®¹æ˜“ç†è§£ï¼Œç‰¹åˆ«æ˜¯åŒæ ·çš„é¢œè‰²å‡ºç°åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­çš„æ—¶å€™ã€‚ å…¼å®¹æ€§CSS è‡ªå®šä¹‰å±æ€§åœ¨ IE ä¸Šå®Œå…¨ä¸æ”¯æŒå•Šï¼Œåœ¨å…¶ä»–æµè§ˆå™¨ä¸Šæ”¯æŒæ€§è¿˜æ˜¯ä¸é”™çš„ã€‚æˆ³æˆ‘ å‚è€ƒæ–‡ç«  å°tips:äº†è§£CSS/CSS3åŸç”Ÿå˜é‡var ä½¿ç”¨CSSå˜é‡ Now that CSS Custom Properties are a Thing, All Value Parts Can Be Changed Individually","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"ç†è§£ Flexboxï¼šä½ éœ€è¦çŸ¥é“è¿™äº›","slug":"flexbox","date":"2017-04-18T08:48:21.000Z","updated":"2019-07-26T07:50:01.530Z","comments":true,"path":"2017/04/18/flexbox/","link":"","permalink":"https://bubuzou.com/2017/04/18/flexbox/","excerpt":"flexbox é¡¾åæ€ä¹‰ flexible box å¼¹æ€§ç›’å­ï¼Œæ˜¯ css3 ä¸­å®šä¹‰çš„ä¸€ç§æ–°çš„å¸ƒå±€æ–¹å¼ã€‚é€šè¿‡åœ¨æŸå…ƒç´ ä¸Šä½¿ç”¨ display: flex; å³å¯æŠŠè¯¥å…ƒç´ å®šä¹‰ä¸º flex å®¹å™¨ ( flex container )ï¼Œè€Œå®¹å™¨çš„æ‰€æœ‰å­å…ƒç´ å°±æ˜¯ flex é¡¹ç›® ( flex item )ã€‚å†ä»‹ç» flex è¯­æ³•ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹ä¸€ä¸ªé‡è¦çš„ä¸œè¥¿ã€‚ flexè½´çº¿","text":"flexbox é¡¾åæ€ä¹‰ flexible box å¼¹æ€§ç›’å­ï¼Œæ˜¯ css3 ä¸­å®šä¹‰çš„ä¸€ç§æ–°çš„å¸ƒå±€æ–¹å¼ã€‚é€šè¿‡åœ¨æŸå…ƒç´ ä¸Šä½¿ç”¨ display: flex; å³å¯æŠŠè¯¥å…ƒç´ å®šä¹‰ä¸º flex å®¹å™¨ ( flex container )ï¼Œè€Œå®¹å™¨çš„æ‰€æœ‰å­å…ƒç´ å°±æ˜¯ flex é¡¹ç›® ( flex item )ã€‚å†ä»‹ç» flex è¯­æ³•ä¹‹å‰ï¼Œå…ˆæ¥çœ‹çœ‹ä¸€ä¸ªé‡è¦çš„ä¸œè¥¿ã€‚ flexè½´çº¿ åœ¨ flex å®¹å™¨é‡Œï¼Œå­˜åœ¨ä¸¤æ¡è½´ï¼Œmain axis å’Œ cross axisï¼Œåˆåˆ†åˆ«å«åšä¸»è½´å’Œäº¤å‰è½´ã€‚ä¸»è½´ä¹‹æ‰€ä»¥å«åšä¸»è½´è€Œä¸å«åš x è½´ï¼Œæ˜¯å› ä¸ºä¸»è½´ä¸ä¸€å®šæ˜¯åœ¨æ°´å¹³çº¿ä¸Šçš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯å‚ç›´æ–¹å‘ä¸Šï¼Œæ¯”å¦‚å½“ flex-direction: column; çš„æ—¶å€™ï¼Œä¸»è½´å°±æ˜¯åœ¨å‚ç›´æ–¹å‘ä¸Šã€‚å¦å¤–ä¸»è½´å’Œäº¤å‰è½´éƒ½æ˜¯æœ‰æ–¹å‘çš„ï¼Œflex é¡¹ç›®å°±æ˜¯æ²¿ç€ä¸»è½´æ–¹å‘è¿›è¡Œå¸ƒå±€ã€‚ä¸»è½´é»˜è®¤æ–¹å‘æ˜¯ä»å·¦åˆ°å³ï¼Œäº¤å‰è½´åˆ™æ˜¯ä»ä¸Šåˆ°ä¸‹ã€‚ css3 é‡Œå…³äº flexbox å®šä¹‰äº†2ç±»çš„æ ·å¼ï¼Œåˆ†åˆ«æ˜¯ä½œç”¨äº flex å®¹å™¨ä¸Šçš„å’Œä½œç”¨äº flex é¡¹ç›®ä¸Šçš„ã€‚ flexå®¹å™¨èƒ½ä½œç”¨åˆ° flex å®¹å™¨ä¸Šçš„æ ·å¼æœ‰è¿™ä¹ˆå‡ ä¸ªï¼šflex-directionï¼Œflex-wrapï¼Œflex-flowï¼Œjustify-contentï¼Œalign-items å’Œ align-contentã€‚çœ‹åˆ°è¿™ä¹ˆå‡ ä¸ªä¸œè¥¿ï¼Œåˆ«è¢«å®ƒä»¬å“åäº†ï¼Œå¤šè¯»å‡ éä½ å°±èƒ½çŒœä¸ªå…«ä¹ä¸ç¦»åå®ƒä»¬æ˜¯å¹²å˜›ç”¨çš„äº†ã€‚ä¸‹é¢æˆ‘ä»¬ä¸€ä¸€æ¥ä»‹ç»è¿™äº›æ ·å¼ã€‚ flex-directionç›¸ä¿¡ä½ ä¹Ÿå¤§æ¦‚çŸ¥é“äº†è¿™ä¸ªæ ·å¼çš„ä½œç”¨äº†ï¼Œå¯¹äº†å°±æ˜¯å’Œæ–¹å‘æœ‰å…³çš„ã€‚flex-direction è¿™ä¸ªæ ·å¼å°±æ˜¯ç”¨æ¥æ§åˆ¶ main axis çš„æ–¹å‘çš„ï¼Œé»˜è®¤å€¼ rowï¼Œè¡¨ç¤ºæ°´å¹³ä»å·¦åˆ°å³ã€‚ rowï¼Œé»˜è®¤çš„å±æ€§å€¼ï¼Œæ°´å¹³æ–¹å‘ï¼Œä»å·¦åˆ°å³ columnï¼Œå‚ç›´æ–¹å‘ï¼Œä»ä¸Šåˆ°ä¸‹ row-reverseï¼Œæ°´å¹³æ–¹å‘ï¼Œä»å³åˆ°å·¦ column-reverseï¼Œå‚ç›´æ–¹å‘ï¼Œä»ä¸‹åˆ°ä¸Š 1234ul &#123; display: flex; flex-direction: row; /* column || row-reverse || column-reverse */&#125; æ¥ä¸€å¼ å›¾ï¼Œä½ å°±æ›´å¥½ç†è§£äº†ï¼š flex-wrapflex-wrap è§„å®šäº† flex é¡¹ç›®åœ¨ä¸»è½´ä¸Šæ˜¯æŒ‰ç…§ä¸€è¡Œè¿˜æ˜¯å¤šè¡Œæ˜¾ç¤ºã€‚ nowrapï¼Œé»˜è®¤å±æ€§ï¼Œå•è¡Œæ˜¾ç¤ºï¼Œä¼šå°½åŠ›çš„å‹ç¼©æ¯ä¸ª flex é¡¹ç›®ç›´åˆ°åˆšå¥½å®¹ä¸‹é‡Œé¢çš„å†…å®¹ï¼Œå®åœ¨å‹ç¼©ä¸äº†çš„æ—¶å€™ flex é¡¹ç›®å°±å¯èƒ½ä¼šæº¢å‡ºå®¹å™¨ã€‚ wrapï¼Œå…è®¸å¤šè¡Œæ˜¾ç¤ºï¼Œå½“ä¸€è¡Œæ˜¾ç¤ºä¸ä¸‹çš„æ—¶å€™ï¼Œä¼šå˜æˆå¤šè¡Œæ˜¾ç¤ºã€‚ wrap-reverseï¼Œå¤šè¡Œæ˜¾ç¤ºï¼Œä¸”è¡Œçš„æ˜¾ç¤ºé¡ºåºæ˜¯ä»ä¸‹åˆ°ä¸Šï¼Œå³ç¬¬ä¸€è¡Œæ˜¾ç¤ºåœ¨å®¹å™¨çš„åº•éƒ¨ã€‚ 1234ul &#123; display: flex; flex-wrap: nowrap; /* wrap || wrap-reverse */&#125; flex-flowflex-flow æ˜¯ä¸€ä¸ªå¤åˆå±æ€§ï¼Œæ˜¯ç”± flex-direction å’Œ flex-wrap ç»„æˆçš„å±æ€§ã€‚å¦‚æœåªå®šä¹‰äº†ä¸€ä¸ªå±æ€§ï¼Œé‚£ä¹ˆå¦å¤–ä¸€ä¸ªå±æ€§å–é»˜è®¤å€¼ã€‚ä¸”å±æ€§ä¹¦å†™é¡ºåºæ²¡æœ‰ç‰¹åˆ«è¦æ±‚ã€‚ row nowrapï¼Œè¿™æ˜¯é»˜è®¤å±æ€§å€¼ 1234ul &#123; display: flex; flex-flow: row wrap;&#125; justify-contentjustify-content è§„å®šäº† flex é¡¹ç›®åœ¨ä¸»è½´çš„å¯¹é½æ–¹å¼ã€‚æ¯”å¦‚å½“ flex-direction è¢«è®¾ç½®ä¸º column æ—¶ï¼Œjustify-content å®šä¹‰çš„æ˜¯å‚ç›´æ–¹å‘ä¸Šçš„å¯¹é½æ–¹å¼ã€‚ flex-start, é»˜è®¤å±æ€§å€¼ï¼Œflexé¡¹ç›®å°†å‘ç€ä¸»è½´èµ·å§‹ä½ç½®å¯¹é½ flex-end, flex é¡¹ç›®å°†å‘ç€ä¸»è½´ç»“æŸä½ç½®å¯¹é½ center, flex é¡¹ç›®å°†åœ¨ä¸»è½´ä¸Šå±…ä¸­å¯¹é½ space-between, flex é¡¹ç›®å°†åœ¨ä¸»è½´ä¸Šä»¥ç›¸åŒçš„é—´è·è´´ç€è½´çš„ä¸¤ç«¯å¯¹é½ space-around, flex é¡¹ç›®å°†åœ¨ä¸»è½´ä¸Šä»¥ç›¸åŒçš„é—´è·é ç€ä¸¤ç«¯å¯¹é½ï¼Œä¸”ç¬¬ä¸€ä¸ªå¤´å°¾é¡¹ç›®å’Œè½´çš„ä¸¤ç«¯ä¹‹é—´å­˜åœ¨é—´è·ï¼Œé—´è·æ˜¯ä¸¤ä¸ªé¡¹ç›®é—´è·çš„ä¸€åŠ 1234ul &#123; display: flex; justify-content: center;&#125; align-itemså±…ç„¶æœ‰ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œé‚£ä¹ˆè‚¯å®šä¹Ÿæœ‰ç›¸å…³çš„å±æ€§æ˜¯ç”¨æ¥å®šä¹‰äº¤å‰è½´ä¸Šçš„å¯¹é½è§„åˆ™çš„ã€‚å’Œ justify-content ä¸€æ ·ï¼Œalign-items ä¹Ÿæœ‰5ä¸ªå±æ€§å®šä¹‰ï¼Œå…¶ä¸­ flex-startï¼Œflex-end å’Œ center æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸å¤šä»‹ç»äº†ã€‚æ¥è¯´è¯´ä¸¤ä¸ªä¸åŒçš„ï¼š stretchï¼Œé»˜è®¤å±æ€§å€¼ï¼Œflex é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å°ºå¯¸å¦‚æœæ²¡æœ‰æŒ‡å®šæˆ–è€…æ˜¯è¢«è®¾ç½®ä¸º autoï¼Œé‚£ä¹ˆå®ƒå°†åœ¨è¿™ä¸ªæ–¹å‘ä¸Šå°½é‡å»¶ä¼¸ï¼Œç›´åˆ°é ç€å®¹å™¨è¾¹ç•Œï¼Œä½†æ˜¯åŒæ—¶å»¶ä¼¸çš„ç¨‹åº¦ä¹Ÿä¼šå—åˆ° max-height æˆ–è€… max-width çš„å½±å“ baselineï¼Œflexé¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼å°†æ˜¯ç”±æ¯ä¸ªé¡¹ç›®å†…å®¹çš„åŸºçº¿å†³å®š 1234ul &#123; display: flex; align-items: flex-start;&#125; align-contentç†è§£äº† justify-content å’Œ align-items çš„å¯¹é½æ–¹å¼ï¼Œå†æ¥çœ‹ align-content å°±å®¹æ˜“ç†è§£å¤šäº†ã€‚å®ƒåªä½œç”¨äºå®¹å™¨ï¼Œä¸”åªèƒ½æ˜¯å­˜åœ¨å¤šä¸ªè¡Œçš„å®¹å™¨ã€‚æ³¨æ„è¿™é‡Œçš„è¡Œæ˜¯ç›¸å¯¹äºäº¤å‰è½´æ¥è¯´çš„ã€‚å±æ€§å€¼æœ‰6ä¸ªï¼šflex-startï¼Œflex-endï¼Œcenterï¼Œstretchï¼Œspace-between å’Œ space-aroundï¼Œè¿™äº›å¯¹é½æ–¹å¼ä¸Šé¢éƒ½ä»‹ç»è¿‡äº†ï¼Œå¤§åŒå°å¼‚ã€‚å…¶ä¸­é»˜è®¤å€¼æ˜¯stretchã€‚ç»“åˆä¸‹å›¾æ¥åŠ æ·±ç†è§£ï¼š 12345ul &#123; display: flex; flex-wrap: wrap; align-content: space-around&#125; flexé¡¹ç›®ä¸Šé¢ä»‹ç»äº†å®šä¹‰åœ¨ flex å®¹å™¨ä¸Šçš„ css å±æ€§ï¼Œè§„èŒƒäº†æ•´ä¸ªå®¹å™¨é‡Œæ‰€æœ‰é¡¹ç›®çš„å…¨å±€å‘ˆç°ã€‚è¿™æ ·ä¸å¤Ÿçµæ´»å¤šå˜ï¼Œä¸è¶³ä»¥è¡¨ç°æŸäº›éœ€è¦ç‰¹åˆ«æ˜¾ç¤ºçš„é¡¹ç›®ï¼Œæ‰€ä»¥é’ˆå¯¹è¿™ä¸€ç°çŠ¶ï¼Œw3c ç¤¾åŒºåˆæ¨å‡ºäº†ä¸€å¥—ä½œç”¨äº flex é¡¹ç›®ä¸Šçš„ css å±æ€§ã€‚ä»–ä»¬åˆ†åˆ«æ˜¯ï¼šalign-selfï¼Œorderï¼Œflex-growï¼Œflex-shrinkï¼Œflex-basis å’Œ flex ç­‰ css å±æ€§ã€‚ align-self align-self è§„å®šäº†å•ä¸ª flex é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šçš„å¯¹é½æ–¹å¼ï¼Œå±æ€§å€¼å¯ä»¥æ˜¯ä¸‹é¢ä¸€ä¸ªï¼šflex-startï¼Œflex-endï¼Œcenterï¼Œstretchï¼Œbaselineå’Œ autoï¼Œå…¶ä¸­ auto ä¸ºé»˜è®¤å±æ€§å€¼ï¼Œå¦‚æœè¢«è®¾ç½®ä¸ºäº† autoï¼Œé‚£ä¹ˆè¯¥ flex é¡¹ç›®æœ€ç»ˆçš„å¯¹é½æ–¹å¼å°†æ˜¯ç”±å®¹å™¨çš„ align-itemså†³å®šã€‚ 123456ul &#123; display: flex;&#125;ul li &#123; align-self: center;&#125; orderorder å®šä¹‰äº† flex é¡¹ç›®åœ¨å®¹å™¨é‡Œçš„æ’åˆ—é¡ºåºã€‚å–å€¼å¯ä»¥æ˜¯è´Ÿæ•´æ•°ã€0ã€æ­£æ•´æ•°ï¼Œé»˜è®¤å–å€¼æ˜¯0ã€‚æ•°å€¼è¶Šå¤§è¶Šé è¿‘è½´å‘çš„æœ«ç«¯ï¼Œæ•°å€¼ç›¸åŒåˆ™æŒ‰ç…§ html é‡Œçš„é¡ºåºæ’åˆ—ã€‚ 123456ul &#123; display: flex;&#125;ul li &#123; order: 2;&#125; flex-growflex-grow è§„å®šäº† flex é¡¹ç›®çš„ä¼¸å±•æ€§ï¼Œå…¶å€¼åªèƒ½æ˜¯ 0 æˆ–è€…æ­£æ•´æ•°ï¼Œé»˜è®¤å€¼æ˜¯ 0ã€‚å¦‚æœä¸€ä¸ª flex é¡¹ç›®åŒæ—¶è®¾ç½®äº†width å’Œå€¼ä¸ºæ­£æ•´æ•°çš„ flex-grow å±æ€§ï¼Œåˆ™ width å±æ€§å°†å¤±æ•ˆã€‚å–å€¼å¦‚æœæ˜¯0è¡¨ç¤ºä¸è¿›è¡Œä¼¸å±•ï¼›å¦‚æœæ˜¯æ­£æ•´æ•°ï¼Œåˆ™ä¼šè¿›è¡Œä¼¸å±•ï¼Œä¸”ä¼¸å±•çš„å°ºå¯¸å°†å’Œæ•°å€¼çš„å¤§å°æœ‰å…³ï¼Œå€¼è¶Šå¤§ï¼Œä¼¸å±•å¾—è¶Šå¤§ã€‚ä¼¸å±•çš„å…·ä½“è®¡ç®—æ•°å€¼æ˜¯è¯¥é¡¹ç›®å æ‰€æœ‰å¯ä¼¸å±•é¡¹ç›®æ€»å’Œçš„æ¯”ä¸è¿™äº›æ‰€æœ‰å¯ä¼¸å±•é¡¹ç›®å çš„å°ºå¯¸çš„ä¹˜ç§¯ã€‚ flex-shrinkä¸ä¼¸å±•ç›¸å¯¹åº”çš„å±æ€§æ˜¯ flex-shrinkï¼Œå®šä¹‰äº†é¡¹ç›®çš„æ”¶ç¼©æ€§ï¼Œå€¼ä¹Ÿåªèƒ½æ˜¯ 0 æˆ–è€…æ­£æ•´æ•°ï¼Œé»˜è®¤å€¼æ˜¯ 1ã€‚å¦‚æœæ˜¯ 0 è¡¨ç¤ºä¸è¿›è¡Œæ”¶ç¼©ï¼Œå¦‚æœæ˜¯æ­£æ•´æ•°åˆ™è¡¨ç¤ºè¿›è¡Œæ”¶ç¼©ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®åŒæ—¶æ˜¾ç¤ºè®¾ç½®äº†å°ºå¯¸å’Œæ”¶ç¼©å€¼ä¸º 1ï¼Œé‚£ä¹ˆè¯¥é¡¹ç›®å°†è¿›è¡Œæ”¶ç¼©ï¼Œå®šä¹‰çš„å°ºå¯¸å°†å¤±æ•ˆã€‚é¡¹ç›®èƒ½å¤Ÿè¿›è¡Œæ”¶ç¼©çš„å‰ææ˜¯å¿…é¡»äº§ç”Ÿæº¢å‡ºï¼Œå³æ‰€æœ‰é¡¹ç›®æ‰€å å°ºå¯¸ä¹‹å’Œå¿…é¡»å¤§äºå®¹å™¨å°ºå¯¸ã€‚è¿™ä¸ªæ—¶å€™å®¹å™¨é‡Œæ‰€æœ‰å¯æ”¶ç¼©çš„é¡¹ç›®å°±éœ€è¦é€šè¿‡æ”¶ç¼©æ¥æ¶ˆåŒ–æ‰è¿™éƒ¨åˆ†æº¢å‡ºçš„å°ºå¯¸ã€‚è€Œæ¯ä¸ªé¡¹ç›®å…·ä½“çš„æ”¶ç¼©é‡åˆ™ç”±å…¶è®¾ç½®çš„æ”¶ç¼©æ¯”ä¾‹å†³å®šï¼Œæ•°å€¼è¶Šå¤§ï¼Œæ”¶ç¼©å¾—è¶Šå‰å®³ã€‚æ¯”å¦‚ä¸€ä¸ªå®¹å™¨çš„å°ºå¯¸æ˜¯ 400pxï¼Œåªæœ‰2ä¸ªé¡¹ç›®ä¸”å°ºå¯¸éƒ½æ˜¯ 300pxï¼Œæ”¶ç¼©æ¯”ä¾‹æ˜¯ 1 æ¯” 3ï¼Œé‚£ä¹ˆå®¹å™¨å°†æº¢å‡º 200pxï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªé¡¹ç›®éœ€è¦æ”¶ç¼© 50pxï¼Œç¬¬äºŒä¸ªé¡¹ç›®éœ€è¦æ”¶ç¼© 150pxï¼Œé‚£ä¹ˆæ”¶ç¼©å®Œæˆåå®ƒä»¬å æ®çš„å°ºå¯¸åˆ†åˆ«æ˜¯ 250px å’Œ 150pxã€‚ flex-basisflex-basis å®šä¹‰äº†é¡¹ç›®åœ¨ä¼¸ç¼©ä¹‹å‰çš„åˆå§‹å°ºå¯¸ï¼Œå¯ä»¥æ˜¯é•¿åº¦è®¾ç½®ï¼ˆpxã€rem å’Œ em ç­‰ï¼‰ï¼›å¯ä»¥æ˜¯ç”¨ç™¾åˆ†æ¯”åŸºäºçˆ¶çº§æ¥è®¡ç®—å°ºå¯¸ï¼›ä¹Ÿå¯ä»¥æ˜¯é»˜è®¤çš„ autoï¼Œè¡¨ç¤ºå…¶å°ºå¯¸ç”±å†…å®¹å†³å®šã€‚é™¤äº† auto å¤–ï¼Œå¦‚æœå°ºå¯¸æº¢å‡ºå®¹å™¨äº†ï¼Œé‚£ä¹ˆè®¾ç½®äº† flex-basis çš„é¡¹ç›®é—´ï¼Œåˆ™ä¼šæ ¹æ®æ¯é¡¹è®¾ç½®çš„åŸºå‡†å€¼ï¼ŒæŒ‰æ¯”ç‡ä¼¸ç¼©å‰©ä½™ç©ºé—´ã€‚ flexflex æ˜¯ä¸€ä¸ªå¤åˆå±æ€§ï¼Œæ˜¯ç”±flex-growã€flex-shrink å’Œ flex-basis ç»„æˆçš„ã€‚ flex-grow ï¼Œç”¨æ¥æŒ‡å®šæ‰©å±•æ¯”ç‡ï¼Œåœ¨ flex å±æ€§ä¸­è¯¥å€¼å¦‚æœè¢«çœç•¥åˆ™é»˜è®¤ä¸º1 flex-shrinkï¼Œç”¨æ¥æŒ‡å®šæ”¶ç¼©æ¯”ç‡ï¼Œåœ¨æ”¶ç¼©çš„æ—¶å€™æ”¶ç¼©æ¯”ç‡ä¼šä»¥ä¼¸ç¼©åŸºå‡†å€¼åŠ æƒï¼Œåœ¨ flex å±æ€§ä¸­è¯¥å€¼å¦‚æœè¢«çœç•¥åˆ™é»˜è®¤ä¸º1 flex-basisï¼Œç”¨æ¥æŒ‡å®šä¼¸ç¼©åŸºå‡†å€¼ï¼Œå³åœ¨æ ¹æ®ä¼¸ç¼©æ¯”ç‡è®¡ç®—å‡ºå‰©ä½™ç©ºé—´çš„åˆ†å¸ƒä¹‹å‰ï¼Œè¡¨ç¤ºå°ºå¯¸çš„èµ·å§‹æ•°å€¼ã€‚åœ¨ flex å±æ€§ä¸­è¯¥å€¼å¦‚æœè¢«çœç•¥åˆ™é»˜è®¤ä¸º 0%ã€‚åœ¨flexå±æ€§ä¸­è¯¥å€¼å¦‚æœè¢«æŒ‡å®šä¸º autoï¼Œåˆ™ä¼¸ç¼©åŸºå‡†å€¼çš„è®¡ç®—å€¼æ˜¯è‡ªèº«çš„ width è®¾ç½®ï¼Œå¦‚æœè‡ªèº«çš„å®½åº¦æ²¡æœ‰å®šä¹‰ï¼Œåˆ™é•¿åº¦å–å†³äºå†…å®¹ã€‚ ä¸€äº›ç¼©å†™è¯´æ˜ï¼š flex: 1, åˆ™å…¶è®¡ç®—å€¼ä¸º1 1 0% flex: auto, åˆ™å…¶è®¡ç®—å€¼ä¸º1 1 auto flex: none, åˆ™å…¶è®¡ç®—å€¼ä¸º0 0 auto flex: 0 auto æˆ–è€…flex: initial, åˆ™å…¶è®¡ç®—å€¼ä¸º0 1 auto å…¼å®¹æ€§flex å¸ƒå±€åœ¨ç°ä»£æµè§ˆå™¨ä¸­å…¼å®¹æ€§è¿˜æ˜¯æ¯”è¾ƒä»¤äººæ»¡æ„çš„ã€‚å¯ä»¥å»caniuseé‡Œçœ‹çœ‹ï¼Œæˆ–è€…ç›´æ¥çœ‹è¿™ä¸ªç”¨ flex å¸ƒå±€å†™çš„æ¡ˆä¾‹catty-music å‚è€ƒæ–‡ç«  ç†è§£Flexboxï¼šä½ éœ€è¦çŸ¥é“çš„ä¸€åˆ‡","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"CSSå±…ä¸­å®Œæ•´ç¯‡","slug":"css-center-skill","date":"2017-04-13T13:20:21.000Z","updated":"2019-07-26T07:43:04.463Z","comments":true,"path":"2017/04/13/css-center-skill/","link":"","permalink":"https://bubuzou.com/2017/04/13/css-center-skill/","excerpt":"æ°´å¹³å±…ä¸­ inline æˆ– inline-* å…ƒç´  æ­¤ç±»å…ƒç´ éœ€è¦æ°´å¹³å±…ä¸­ï¼Œåˆ™çˆ¶çº§å…ƒç´ å¿…é¡»æ˜¯å—çº§å…ƒç´ (block level)ï¼Œä¸”çˆ¶çº§å…ƒç´ ä¸Šéœ€è¦è¿™æ ·è®¾ç½®æ ·å¼ï¼š 123.parent &#123; text-align: center;&#125; å—çº§å…ƒç´  å—çº§å…ƒç´ æ°´å¹³å±…ä¸­ï¼Œéœ€è¦è®¾ç½® margin-left å’Œ margin-right ä¸º autoï¼Œä¸”éœ€è¦æ˜¾ç¤ºè®¾ç½®å®½åº¦ï¼Œä¸ç„¶å°±å æ»¡æ•´è¡Œï¼Œå°±æ— æ‰€è°“æ°´å¹³å±…ä¸­äº†ã€‚ 1234.block &#123; width: 300px; margin: 0 auto;&#125;","text":"æ°´å¹³å±…ä¸­ inline æˆ– inline-* å…ƒç´  æ­¤ç±»å…ƒç´ éœ€è¦æ°´å¹³å±…ä¸­ï¼Œåˆ™çˆ¶çº§å…ƒç´ å¿…é¡»æ˜¯å—çº§å…ƒç´ (block level)ï¼Œä¸”çˆ¶çº§å…ƒç´ ä¸Šéœ€è¦è¿™æ ·è®¾ç½®æ ·å¼ï¼š 123.parent &#123; text-align: center;&#125; å—çº§å…ƒç´  å—çº§å…ƒç´ æ°´å¹³å±…ä¸­ï¼Œéœ€è¦è®¾ç½® margin-left å’Œ margin-right ä¸º autoï¼Œä¸”éœ€è¦æ˜¾ç¤ºè®¾ç½®å®½åº¦ï¼Œä¸ç„¶å°±å æ»¡æ•´è¡Œï¼Œå°±æ— æ‰€è°“æ°´å¹³å±…ä¸­äº†ã€‚ 1234.block &#123; width: 300px; margin: 0 auto;&#125; åŒä¸€è¡Œå¤šä¸ªå—çº§å…ƒç´  å¦‚æœæ˜¯åœ¨åŒä¸€è¡Œé‡Œéœ€è¦å±…ä¸­å¤šä¸ªå—çº§å…ƒç´ ï¼Œå¯ä»¥å°è¯•ä¸‹é¢çš„ä¸¤ç§æ–¹æ³•ï¼š 12345678910111213141516/* æ–¹æ³•ä¸€ */.parent &#123; text-align: center;&#125;.parent div &#123; display: inline-block;&#125;/* æ–¹æ³•äºŒ */.parent &#123; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-pack: center; -ms-flex-pack: center; justify-content: center;&#125; å‚ç›´å±…ä¸­å‚ç›´å±…ä¸­åœ¨ CSS ä¸­æ¯”è¾ƒä¸å¥½å¤„ç†ã€‚ å•è¡Œæ–‡æœ¬ é€šè¿‡è®¾ç½®ä¸Šä¸‹å†…é—´è·ä¸€è‡´è¾¾åˆ°å‚ç›´å±…ä¸­çš„æ•ˆæœï¼š 1234.single-line &#123; padding-top: 10px; padding-bottom: 10px;&#125; é€šè¿‡è®¾ç½® height å’Œ line-height ä¸€è‡´è¾¾åˆ°å‚ç›´å±…ä¸­ï¼š 1234.single-line &#123; height: 100px; line-height: 100px;&#125; å¤šè¡Œæ–‡æœ¬ é€šè¿‡ä½¿ç”¨è¡¨æ ¼æ¥å‚ç›´å±…ä¸­ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æ˜¾å¾—å¾ˆç´¯èµ˜ï¼š 1234567&lt;table&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;é€šè¿‡è¡¨æ ¼ä½¿å¾—å¤šè¡Œæ–‡æœ¬è‡ªåŠ¨å‚ç›´å±…ä¸­é€šè¿‡è¡¨æ ¼ä½¿å¾—å¤šè¡Œæ–‡æœ¬è‡ªåŠ¨å‚ç›´å±…ä¸­é€šè¿‡è¡¨æ ¼ä½¿å¾—å¤šè¡Œæ–‡æœ¬è‡ªåŠ¨å‚ç›´å±…ä¸­&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; é€šè¿‡è®¾ç½® vertical-align å±æ€§å’Œå°†å…ƒç´ è®¾ç½®ä¸º table-cellï¼Œä¸”çˆ¶å…ƒç´ è¦è®¾ç½®ä¸º table å…ƒç´ ï¼Œè¿™ä¸ªå’Œä¸Šé¢é‚£ç§åŸç†å…¶å®æ˜¯ä¸€æ ·çš„ï¼š 1234567.parent &#123; display: table;&#125;.parent div &#123; display: table-cell; vertical-align: middle;&#125; é€šè¿‡ä¼¸ç¼©ç›’æ¥å‚ç›´å±…ä¸­ï¼š 1234567.flex-vertically &#123; -webkit-align-items: center; -ms-flex-align: center; align-items: center; display: -webkit-flex; display: flex;&#125; å—çº§å…ƒç´ å‚ç›´å±…ä¸­ çŸ¥é“å—å…ƒç´ çš„é«˜åº¦ï¼Œé‚£ä¹ˆä½¿ç”¨ç»å¯¹å®šä½å’Œè´Ÿçš„ margin å³å¯å®ç°å‚ç›´å±…ä¸­ï¼š 123456789.parent &#123; position: relative;&#125;.parent div &#123; position: absolute; top: 50%; height: 50px; margin-top: -25px;&#125; å—çº§å…ƒç´ é«˜åº¦æ˜¯å¯å˜çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ç”¨ transform çš„Yè½´å¹³ç§»æ¥å®ç°äº†ï¼š 12345678.parent &#123; position: relative;&#125;.parent div &#123; position: absolute; top: 50%; transform: translateY(-50%);&#125; ä¹Ÿå¯ä»¥ä½¿ç”¨ flexbox: 12345.parent &#123; display: flexbox; justify-content: center; flex-direction: column;&#125; å¦‚æœå¯¹äºå—çº§å…ƒç´ é«˜åº¦ä¸æ˜¯å›ºå®šçš„ï¼Œä¸”ä¸ç”±å†…å®¹å†³å®šï¼Œé‚£ä¹ˆè¿˜å¯ä»¥è¿™ä¹ˆè®¾ç½®ï¼š 12345678.parent &#123; position: relative;&#125;.parent div &#123; position: absolute; top: 30%; bottom: 30%; &#125; æ°´å¹³å‚ç›´å±…ä¸­æ°´å¹³å‚ç›´å±…ä¸­å°±æ˜¯æŠŠä¸Šé¢ä»‹ç»çš„æ–¹æ³•ç›¸ç»“åˆå°±å¯ä»¥äº†ã€‚ çŸ¥é“å®½é«˜çš„ç›’å­ 123456789101112.parent &#123; position: realtive;&#125;.parent div &#123; width: 300px; height: 300px; posotion: absoltue; left: 50%; top: 50%; margin-left: -150px; margin-top: -150px;&#125; ä¸çŸ¥é“å®½é«˜çš„ç›’å­ 123456789.parent &#123; position: realtive;&#125;.parent div &#123; posotion: absoltue; left: 50%; top: 50%; transform: translate(-50%, -50%); &#125; ä½¿ç”¨ flexbox 12345.parent &#123; display: flex; justify-content: center; align-items: center;&#125;","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"chromeå¼€å‘è€…å·¥å…·å®ç”¨å°æŠ€å·§","slug":"chrome-devtools","date":"2017-03-30T10:20:21.000Z","updated":"2019-07-26T07:35:22.544Z","comments":true,"path":"2017/03/30/chrome-devtools/","link":"","permalink":"https://bubuzou.com/2017/03/30/chrome-devtools/","excerpt":"chrome æµè§ˆå™¨æ˜¯æ¯ä¸ªå‰ç«¯å¼€å‘è€…æœ€å¸¸ç”¨çš„æµè§ˆå™¨ï¼Œå› ä¸ºç•Œé¢ç®€æ´å‹å¥½ï¼Œå¼€å‘è€…å·¥å…·åŠŸèƒ½å¼ºå¤§ä¸”ç®€å•æ˜“ç”¨ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚æ‰€ä»¥å¾ˆæœ‰å¿…è¦äº†è§£ chrome å¼€å‘è€…å·¥å…·éƒ½æœ‰å“ªäº›å¾ˆå¸¸ç”¨æˆ–å®ç”¨çš„åŠŸèƒ½ã€‚å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œchromeçš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š","text":"chrome æµè§ˆå™¨æ˜¯æ¯ä¸ªå‰ç«¯å¼€å‘è€…æœ€å¸¸ç”¨çš„æµè§ˆå™¨ï¼Œå› ä¸ºç•Œé¢ç®€æ´å‹å¥½ï¼Œå¼€å‘è€…å·¥å…·åŠŸèƒ½å¼ºå¤§ä¸”ç®€å•æ˜“ç”¨ï¼Œå¤§å¤§æå‡äº†å¼€å‘æ•ˆç‡ã€‚æ‰€ä»¥å¾ˆæœ‰å¿…è¦äº†è§£ chrome å¼€å‘è€…å·¥å…·éƒ½æœ‰å“ªäº›å¾ˆå¸¸ç”¨æˆ–å®ç”¨çš„åŠŸèƒ½ã€‚å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œchromeçš„ç‰ˆæœ¬å¦‚ä¸‹ï¼š Elementsé¢æ¿ç¯‡ åœ¨ Elements é¢æ¿ä¸­ï¼Œä½¿ç”¨ Ctrl + F æ‰“å¼€æœç´¢è¾“å…¥æ¡†ï¼Œå¯ä»¥è¾“å…¥å¸¸è§„å­—ç¬¦ä¸²æˆ–é€‰æ‹©å™¨æ¥é€‰æ‹© HTML å…ƒç´ ã€‚ åœ¨å…ƒç´ å‰é¢çš„å°é»‘ä¸‰è§’ä¸Šç”¨ Alt + é¼ æ ‡å·¦é”®å³å¯å±•å¼€æ”¶èµ·å½“å‰å…ƒç´ ä¸‹çš„æ‰€æœ‰å­å…ƒç´ ã€‚ cssæ•°å€¼ä½¿ç”¨å¿«æ·é”®è°ƒæ•´ï¼š Up / Downï¼šå¢åŠ å‡å°‘1 Ctrl + Up / Ctrl + Downï¼šå¢åŠ å‡å°‘100 Shift + Up / Shift + Downï¼šå¢åŠ å‡å°‘10 Alt + Up / Alt + Downï¼š å¢åŠ å‡å°‘0.1 Up / Down ç­‰åŒäºé¼ æ ‡æ»šè½® æŸ¥çœ‹äº‹ä»¶ç›‘å¬å™¨ã€‚é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åç‚¹å‡» Event Listeners é¢æ¿ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰å…ƒç´ ç»‘å®šçš„æ‰€æœ‰äº‹ä»¶ã€‚ç„¶åæ‰¾åˆ°ä»»ä¸€äº‹ä»¶ç±»å‹ä¸‹çš„ handlerï¼Œå³é”®å•å‡»é€‰æ‹© Show function definition å³å¯åœ¨ Source é¢æ¿ä¸­æ‰“å¼€ä¸”å®šä½åˆ°å½“å‰äº‹ä»¶çš„å¤„ç†å‡½æ•°çš„æ‰€åœ¨ä½ç½®ã€‚ ç‚¹å‡»é¢œè‰²æ–¹æ ¼ä¼šæ‰“å¼€ chrome çš„è°ƒè‰²æ¿ã€‚å¦‚ä¸‹å›¾ç¬¬1å—æ˜¯ç€è‰²å’Œé˜´å½±é€‰æ‹©å™¨ã€‚ç¬¬2å—åƒç¬”é‚£ä¸ªæŒ‰é’®( toggle color picker )æ˜¯å–è‰²å™¨ï¼Œè“è‰²çš„æ—¶å€™è¡¨ç¤ºæ¿€æ´»çŠ¶æ€ï¼Œå°±å¯ä»¥åœ¨é¡µé¢ä»»ä½•ä¸€å¤„è¿›è¡Œå–è‰²ï¼›å³è¾¹ç»¿è‰²åœ†å½¢çš„æ˜¯å½“å‰çš„é¢œè‰²å€¼ï¼Œç‚¹å‡»ä¼šå°†å½“å‰é¢œè‰²å€¼çš„ä»£ç å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼›å†å³è¾¹çš„ä¸¤å—æ¡åˆ†åˆ«è¡¨ç¤ºè‰²è°ƒé€‰æ‹©å™¨å’Œä¸é€æ˜åº¦é€‰æ‹©å™¨ã€‚ç¬¬3å—æ˜¯è¡¨ç¤ºå½“å‰é¢œè‰²çš„æ˜¾ç¤ºæ¨¡å¼ï¼Œåè¾¹çš„æŒ‰é’®å¯ä»¥åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼ã€‚ç¬¬4å—ï¼ŒColor Palettes é‡Œåˆ†3å°å—ï¼Œåˆ†åˆ«æ˜¯ï¼šMaterial Designï¼Œä¸€ç»„ç¬¦åˆ Material Design è§„èŒƒçš„é¢œè‰²ï¼›Page Colorsï¼Œä¸€ç»„ä»é¡µé¢çš„ CSS è‡ªåŠ¨ç”Ÿæˆçš„é¢œè‰²ï¼›Customï¼Œè‡ªå®šä¹‰é¢œè‰²ã€‚ç¬¬5å—é¢œè‰²é¢æ¿ï¼Œé•¿æŒ‰é¢œè‰²å—å¯ä»¥å¼¹å‡º10ä¸ªå½“å‰é¢œè‰²ç”±æµ…è‡³æ·±çš„å°è‰²å—ï¼Œè¿™ä¸ªåŠŸèƒ½å¯¹äºç²¾ç¡®å®šåˆ¶ç½‘é¡µä¸»é¢˜é¢œè‰²éå¸¸æœ‰å¸®åŠ©ã€‚ç¬¬6å—æ˜¯è‡ªå®šä¹‰é¢œè‰²ï¼Œè¿™é‡Œå¯ä»¥æ·»åŠ åˆ é™¤è‡ªå®šä¹‰é¢œè‰²ï¼Œå¹¶ä¸”ä¼šæ°¸ä¹…ä¿å­˜åœ¨ chrome çš„ DevTools é‡Œï¼Œä¸ä¼šå› ä¸ºåˆ·æ–°æˆ–å…³é—­æµè§ˆå™¨è€Œæ¶ˆå¤±ã€‚ç¬¬7å—æ˜¯ç”Ÿæˆäº†ä¸€äº›å’Œé¡µé¢ç›¸å…³çš„é¢œè‰²å€¼ã€‚ å¯è§†åŒ– Shadow DOMã€‚åœ¨ dom å…ƒç´ åˆ—è¡¨ä¸­ï¼Œéƒ½æ˜¯æˆ‘ä»¬å†™çš„çœ‹å¾—è§çš„å…ƒç´ ã€‚å…¶å®åœ¨æ„å»º dom çš„æ—¶å€™ï¼Œä¹Ÿå­˜åœ¨ä¸€éƒ¨åˆ†ä¸œè¥¿æ˜¯æˆ‘ä»¬æ²¡å†™çš„ï¼Œä½†æ˜¯å®é™…å­˜åœ¨è€Œè¢«æµè§ˆå™¨éšè—èµ·æ¥çš„å…ƒç´ ã€‚å¦‚æœæƒ³çœ‹åˆ°è¿™äº›å…ƒç´ å°±å¯ä»¥é€šè¿‡å‹¾é€‰ Settings -&gt; Preferences -&gt; Elements ä¸‹çš„ Show user agent shadow DOM æ¥æ˜¾ç¤ºè¿™æ ·æ„å»ºçš„å…ƒç´ ã€‚è¿™æ ·ä¸€æ¥å°±å¯ä»¥å¾ˆå¥½çš„è¿™äº›å…ƒç´ çš„æ ·å¼äº†ã€‚ ç»™å…ƒç´ æ·»åŠ çŠ¶æ€ã€‚å…ƒç´ æœ‰4ç§ç”¨æˆ·è¡Œä¸ºçŠ¶æ€ï¼š:activeã€:hoverã€:focusã€:visitedã€‚å¯ä»¥é€šè¿‡2ä¸­æ–¹å¼ä¸»åŠ¨è§¦å‘ç”¨æˆ·è¡Œä¸ºã€‚é€‰ä¸­ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åå³é”®ç‚¹å‡»é€‰ä¸­ä¸€ä¸ªçŠ¶æ€å³å¯ï¼Œå¦‚æœæœ‰è®¾ç½®å¯¹äºçš„æ ·å¼ï¼Œå°±å¯ä»¥çœ‹åˆ°åŒºåˆ«ã€‚å¦å¤–ä¸€ç§æ–¹å¼æ˜¯åœ¨ Stylesé¢æ¿ä¸­è¿›è¡Œè®¾ç½®ã€‚ ä½¿ç”¨ Tab é”®å¯ä»¥åœ¨ CSS æ ·å¼è§„åˆ™ä¸­è¿›è¡Œéå†é€‰å®šï¼Œé€‰å®šçš„ç›®æ ‡åŒ…æ‹¬ï¼šé€‰æ‹©å™¨ã€å±æ€§å’Œå±æ€§å€¼ã€‚å¦‚æœæƒ³è·³å›ä¸Šä¸€ä¸ªç›®æ ‡ï¼Œä½¿ç”¨ Shift + Tabã€‚ä½†æ˜¯å†ä½¿ç”¨å¿«æ·é”®åˆ‡æ¢é€‰å®šä¹‹å‰éœ€è¦å…ˆè®©å…‰æ ‡åœ¨ Styles é¢æ¿ï¼Œå¤„äºè¾“å…¥çŠ¶æ€å³å¯ã€‚ Consoleé¢æ¿ç¯‡ ä½¿ç”¨ $0-$4 é€‰æ‹©å…ƒç´ ã€‚$0 è¿”å›æœ€åä¸€æ¬¡é€‰æ‹©çš„å…ƒç´ ï¼Œ$1 è¿”å›ä»…åœ¨æœ€åä¸€æ¬¡ä¹‹å‰é€‰æ‹©çš„å…ƒç´ ï¼Œä»¥æ­¤ç±»æ¨ã€‚$(selector) è¿”å›å¸¦æœ‰æŒ‡å®š CSS é€‰æ‹©å™¨çš„ç¬¬ä¸€ä¸ªDOMå…ƒç´ çš„å¼•ç”¨ã€‚$$(selector) è¿”å› CSS é€‰æ‹©æ‰€æœ‰åŒ¹é…çš„å…ƒç´ æ•°ç»„ã€‚ å¦‚æœé¡µé¢ä½¿ç”¨äº†ç±» `Jquery` åº“ï¼Œåˆ™ `$(selector)` åŠŸèƒ½å°†è¢«è¦†ç›–ï¼Œ `$` å°†ä¸è¯¥åº“çš„å®ç°å¯¹åº”ã€‚ ä¸€äº›å®ç”¨çš„æ–¹æ³•: console.log()ã€console.info()ã€console.warn()ã€console.error()æ‰“å°ä¸åŒçš„çŠ¶æ€ä¿¡æ¯ ä½¿ç”¨CSSè®¾ç½®æ§åˆ¶å°è¾“å‡ºæ ·å¼ï¼Œåˆ©ç”¨CSSæ ¼å¼è¯´æ˜ç¬¦%cã€‚ copy(object)ï¼Œå°†æŒ‡å®šå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚ getEventListeners(object)ï¼Œè¿”å›ä¸€ä¸ªåœ¨æŒ‡å®šå…ƒç´ ä¸Šç»‘å®šçš„æ‰€æœ‰äº‹ä»¶ç›‘å¬å™¨çš„æ•°ç»„ã€‚ä½†æ˜¯è¿™é‡Œçœ‹ä¸äº†äº‹ä»¶çš„å¤„ç†å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰åƒ Event Listeners é¢æ¿é‚£è¾¹ show function definition é‚£æ ·çš„åŠŸèƒ½ã€‚ inspect(elem)ï¼Œ è·³è½¬åˆ° Elements é¢æ¿çš„æŒ‡å®šå…ƒç´ èŠ‚ç‚¹ console.time(str) å’Œ console.timeEnd(str) è¿”å›è¿™ä¸­é—´é—´éš”çš„æ—¶é—´ã€‚ä¸‹å›¾çš„ 4.24e+3ms æ˜¯æ•°å­—çš„ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œè¡¨ç¤ºçš„å®é™…å€¼æ˜¯ï¼š4.24*10*10*10msï¼Œå³4.24ç§’ã€‚ Sourcesé¢æ¿ç¯‡ Ctrl + Shift + Fï¼Œæ ¹æ®æ–‡ä»¶å†…å®¹æŸ¥æ‰¾æ‰€æœ‰ç«™å†…èµ„æºæ–‡ä»¶ï¼Œè¿”å›æ‰¾å‡ºåŒ¹é…çš„æ–‡ä»¶å†…å®¹ã€‚è¿™ä¸ªåŠŸèƒ½å¾ˆå¥½ç”¨ã€‚æ¯”å¦‚æˆ‘åœ¨åˆ«äººçš„ç«™ç‚¹çœ‹åˆ°ä¸€ä¸ªæ•ˆæœï¼Œä½†æ˜¯ä¸çŸ¥é“å†™åˆ°å“ªä¸ªæ–‡ä»¶é‡Œäº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å°±å¯ä»¥æ ¹æ®å…³é”®çš„ className æˆ–è€… id æŠŠè¿™ä¸ªæ–‡ä»¶æ‰¾å‡ºæ¥ã€‚ Ctrl + Pï¼Œæ ¹æ®æ–‡ä»¶åæŸ¥æ‰¾æ‰€æœ‰ç«™å†…èµ„æºæ–‡ä»¶ã€‚ æ¼‚äº®æ‰“å°ã€‚å¯¹äº Sources é‡Œçš„èµ„æºæ–‡ä»¶ï¼Œå¯ä»¥å°†æ‚ä¹±çš„æˆ–æ˜¯å‹ç¼©è¿‡çš„å†…å®¹æŒ‰ç…§ä¸€å®šçš„ç¼©è¿›å’Œæ¢è¡Œè§„åˆ™è¿›è¡Œæ‰“å°è¾“å‡ºã€‚ åœ¨ Sources é¢æ¿ä¸­æ‰¾åˆ°å›¾ç‰‡èµ„æºï¼Œç„¶ååœ¨å›¾ç‰‡ä¸Šå³é”®å³å¯è·å–å›¾ç‰‡çš„ Data URIã€‚ ä½¿ç”¨ console.dir( ele ) å°† DOM å…ƒç´ æ ¼å¼åŒ–ä¸º JavaScript å¯¹è±¡ åœ¨ Sources é¢æ¿ç¼–è¾‘æ–‡ä»¶å°æŠ€å·§ ä½¿ç”¨ Ctrl + p æ‰“å¼€è¾“å…¥æ¡†è¾“å…¥ :20:30 å›è½¦åï¼Œå…‰æ ‡ä½ç½®å°†è·³è½¬åˆ°å½“å‰æ–‡ä»¶çš„ç¬¬20è¡Œç¬¬30åˆ— ä½¿ç”¨ä½¿ç”¨ Alt + - å’Œ Alt + = å¯ä»¥åœ¨ä¸Šä¸€ä¸ªé¼ æ ‡ä½ç½®å’Œä¸‹ä¸€ä¸ªé¼ æ ‡ä½ç½®ä¹‹é—´è·³è½¬ ä½¿ç”¨ Ctrl + é¼ æ ‡å·¦é”®å¯ä»¥æ·»åŠ å¤šä¸ªå…‰æ ‡è¾“å…¥ä½ç½® ä½¿ç”¨ Alt + é¼ æ ‡æ‹–åŠ¨å¯ä»¥æ‹‰å‡ºä¸€å—çŸ©å½¢é€‰åŒº å‚è€ƒæ–‡ç«  chrome-devtools","categories":[{"name":"webç»¼åˆ","slug":"webç»¼åˆ","permalink":"https://bubuzou.com/categories/web%E7%BB%BC%E5%90%88/"}],"tags":[{"name":"chrome","slug":"chrome","permalink":"https://bubuzou.com/tags/chrome/"}]},{"title":"CSSç‰¹æ€§æ£€æµ‹@supportsä¸Modernizr","slug":"detect-css-property","date":"2017-03-13T04:20:21.000Z","updated":"2019-07-26T07:37:58.588Z","comments":true,"path":"2017/03/13/detect-css-property/","link":"","permalink":"https://bubuzou.com/2017/03/13/detect-css-property/","excerpt":"ä»€ä¹ˆæ˜¯ CSS ç‰¹æ€§æ£€æµ‹ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œå‰ç«¯æŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„ä»Šå¤©ï¼Œå„ç§æ–°æŠ€æœ¯æ–°å±æ€§å±‚å‡ºä¸ç©·ã€‚åœ¨ CSS å±‚é¢äº¦ä¸ä¾‹å¤–ã€‚ ä¸€äº›æ–°å±æ€§èƒ½æå¤§æå‡ç”¨æˆ·ä½“éªŒä»¥åŠå‡å°‘å·¥ç¨‹å¸ˆçš„å·¥ä½œé‡ï¼Œå¹¶ä¸”åœ¨å½“ä¸‹çš„å‰ç«¯æ°›å›´ä¸‹ï¼š å¾ˆå¤šå®éªŒæ€§åŠŸèƒ½æœªæˆä¸ºæ ‡å‡†å´è¢«å¤§é‡ä½¿ç”¨ï¼› éœ€è¦å…¼å®¹å¤šç»ˆç«¯ï¼Œå¤šæµè§ˆå™¨ï¼Œè€Œå„æµè§ˆå™¨å¯¹æŸä¸€æ–°åŠŸèƒ½çš„å®ç°è¡¨ç°çš„å¤©å·®åœ°åˆ«ï¼› æ‰€ä»¥æœ‰äº†ä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºçš„è¯´æ³•ï¼Œåœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œåˆæƒ³ä½¿ç”¨æ–°çš„æŠ€æœ¯ç»™ç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œåˆæƒ³åšå¥½å›é€€æœºåˆ¶ä¿è¯ä½ç‰ˆæœ¬ç»ˆç«¯ç”¨æˆ·çš„åŸºæœ¬ä½“éªŒï¼ŒCSS ç‰¹æ€§æ£€æµ‹å°±åº”è¿è€Œç”Ÿäº†ã€‚ CSS ç‰¹æ€§æ£€æµ‹å°±æ˜¯é’ˆå¯¹ä¸åŒæµè§ˆå™¨ç»ˆç«¯ï¼Œåˆ¤æ–­å½“å‰æµè§ˆå™¨å¯¹æŸä¸ªç‰¹æ€§æ˜¯å¦æ”¯æŒã€‚è¿ç”¨ CSS ç‰¹æ€§æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ”¯æŒå½“å‰ç‰¹æ€§çš„æµè§ˆå™¨ç¯å¢ƒä¸‹ä½¿ç”¨æ–°çš„æŠ€æœ¯ï¼Œè€Œä¸æ”¯æŒçš„åˆ™åšå‡ºæŸäº›å›é€€æœºåˆ¶ã€‚ æœ¬æ–‡å°†ä¸»è¦ä»‹ç»ä¸¤ç§ CSS ç‰¹æ€§æ£€æµ‹çš„æ–¹å¼ï¼š @supports modernizr ç”¨ javascript è¿›è¡Œç‰¹æ€§æ£€æµ‹","text":"ä»€ä¹ˆæ˜¯ CSS ç‰¹æ€§æ£€æµ‹ï¼Ÿæˆ‘ä»¬çŸ¥é“ï¼Œå‰ç«¯æŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„ä»Šå¤©ï¼Œå„ç§æ–°æŠ€æœ¯æ–°å±æ€§å±‚å‡ºä¸ç©·ã€‚åœ¨ CSS å±‚é¢äº¦ä¸ä¾‹å¤–ã€‚ ä¸€äº›æ–°å±æ€§èƒ½æå¤§æå‡ç”¨æˆ·ä½“éªŒä»¥åŠå‡å°‘å·¥ç¨‹å¸ˆçš„å·¥ä½œé‡ï¼Œå¹¶ä¸”åœ¨å½“ä¸‹çš„å‰ç«¯æ°›å›´ä¸‹ï¼š å¾ˆå¤šå®éªŒæ€§åŠŸèƒ½æœªæˆä¸ºæ ‡å‡†å´è¢«å¤§é‡ä½¿ç”¨ï¼› éœ€è¦å…¼å®¹å¤šç»ˆç«¯ï¼Œå¤šæµè§ˆå™¨ï¼Œè€Œå„æµè§ˆå™¨å¯¹æŸä¸€æ–°åŠŸèƒ½çš„å®ç°è¡¨ç°çš„å¤©å·®åœ°åˆ«ï¼› æ‰€ä»¥æœ‰äº†ä¼˜é›…é™çº§å’Œæ¸è¿›å¢å¼ºçš„è¯´æ³•ï¼Œåœ¨è¿™ç§èƒŒæ™¯ä¸‹ï¼Œåˆæƒ³ä½¿ç”¨æ–°çš„æŠ€æœ¯ç»™ç”¨æˆ·æä¾›æ›´å¥½çš„ä½“éªŒï¼Œåˆæƒ³åšå¥½å›é€€æœºåˆ¶ä¿è¯ä½ç‰ˆæœ¬ç»ˆç«¯ç”¨æˆ·çš„åŸºæœ¬ä½“éªŒï¼ŒCSS ç‰¹æ€§æ£€æµ‹å°±åº”è¿è€Œç”Ÿäº†ã€‚ CSS ç‰¹æ€§æ£€æµ‹å°±æ˜¯é’ˆå¯¹ä¸åŒæµè§ˆå™¨ç»ˆç«¯ï¼Œåˆ¤æ–­å½“å‰æµè§ˆå™¨å¯¹æŸä¸ªç‰¹æ€§æ˜¯å¦æ”¯æŒã€‚è¿ç”¨ CSS ç‰¹æ€§æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ”¯æŒå½“å‰ç‰¹æ€§çš„æµè§ˆå™¨ç¯å¢ƒä¸‹ä½¿ç”¨æ–°çš„æŠ€æœ¯ï¼Œè€Œä¸æ”¯æŒçš„åˆ™åšå‡ºæŸäº›å›é€€æœºåˆ¶ã€‚ æœ¬æ–‡å°†ä¸»è¦ä»‹ç»ä¸¤ç§ CSS ç‰¹æ€§æ£€æµ‹çš„æ–¹å¼ï¼š @supports modernizr ç”¨ javascript è¿›è¡Œç‰¹æ€§æ£€æµ‹ CSS @supportsä¼ ç»Ÿçš„ CSS ç‰¹æ€§æ£€æµ‹éƒ½æ˜¯é€šè¿‡ javascript å®ç°çš„ï¼Œä½†æ˜¯æœªæ¥ï¼ŒåŸç”Ÿ CSS å³å¯å®ç°ã€‚CSS @supports é€šè¿‡ CSS è¯­æ³•æ¥å®ç°ç‰¹æ€§æ£€æµ‹ï¼Œå¹¶åœ¨å†…éƒ¨ CSS åŒºå—ä¸­å†™å…¥å¦‚æœç‰¹æ€§æ£€æµ‹é€šè¿‡å¸Œæœ›å®ç°çš„ CSS è¯­å¥ã€‚ 123@supports &lt;supports_condition&gt; &#123; /* specific rules */&#125; ä¸¾ä¸ªä¾‹å­ï¼š 12345678div &#123; position: fixed;&#125;@supports (position:sticky) &#123; div &#123; position:sticky; &#125;&#125; ä¸Šé¢çš„å†™æ³•ï¼Œé¦–å…ˆå®šä¹‰äº† div çš„ position: fixed ï¼Œç´§æ¥ç€ä¸‹é¢ä¸€å¥ @supports (position:sticky) åˆ™æ˜¯ç‰¹æ€§æ£€æµ‹æ‹¬å·å†…çš„å†…å®¹ï¼Œå¦‚æœå½“å‰æµè§ˆå™¨æ”¯æŒ @supports è¯­æ³•ï¼Œå¹¶ä¸”æ”¯æŒ position:sticky è¯­æ³•ï¼Œé‚£ä¹ˆ div çš„ åˆ™ä¼šè¢«è®¾ç½®ä¸º position:sticky ã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ@supports è¯­æ³•çš„æ ¸å¿ƒå°±åœ¨äºè¿™ä¸€å¥ï¼š@supports (...) &#123; &#125; ï¼Œæ‹¬å·å†…æ˜¯ä¸€ä¸ª CSS è¡¨è¾¾å¼ï¼Œå¦‚æœæµè§ˆå™¨åˆ¤æ–­æ‹¬å·å†…çš„è¡¨è¾¾å¼åˆæ³•ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±ä¼šå»æ¸²æŸ“æ‹¬å·å†…çš„ CSS è¡¨è¾¾å¼ã€‚é™¤äº†è¿™ç§æœ€å¸¸è§„çš„ç”¨æ³•ï¼Œè¿˜å¯ä»¥é…åˆå…¶ä»–å‡ ä¸ªå…³é”®å­—ï¼š @supports notnot æ“ä½œç¬¦å¯ä»¥æ”¾åœ¨ä»»ä½•è¡¨è¾¾å¼çš„å‰é¢æ¥äº§ç”Ÿä¸€ä¸ªæ–°çš„è¡¨è¾¾å¼ï¼Œæ–°çš„è¡¨è¾¾å¼ä¸ºåŸè¡¨è¾¾å¼çš„å€¼çš„å¦å®šã€‚çœ‹ä¸ªä¾‹å­ï¼š 12345@supports not (background: linear-gradient(90deg, red, yellow)) &#123; div &#123; background: red; &#125;&#125; å› ä¸ºæ·»åŠ äº† not å…³é”®å­—ï¼Œæ‰€ä»¥ä¸ä¸Šé¢ç¬¬ä¸€ä¸ªä¾‹å­ç›¸åï¼Œè¿™é‡Œå¦‚æœæ£€æµ‹åˆ°æµè§ˆå™¨ä¸æ”¯æŒçº¿æ€§æ¸å˜ background: linear-gradient(90deg, red, yellow) çš„è¯­æ³•ï¼Œåˆ™å°† div çš„é¢œè‰²è®¾ç½®ä¸ºçº¢è‰² background: red ã€‚ @supports andç”¨ and æ“ä½œç¬¦è¿æ¥ä¸¤ä¸ªåŸå§‹çš„è¡¨è¾¾å¼ã€‚åªæœ‰ä¸¤ä¸ªåŸå§‹è¡¨è¾¾å¼çš„å€¼éƒ½ä¸ºçœŸï¼Œç”Ÿæˆçš„è¡¨è¾¾å¼æ‰ä¸ºçœŸï¼Œåä¹‹ä¸ºå‡ã€‚æ¥çœ‹ä¸ªä¾‹å­ï¼š 1234567891011p &#123; overflow: hidden; text-overflow: ellipsis;&#125;@supports (display:-webkit-box) and (-webkit-line-clamp:2) and (-webkit-box-orient:vertical) &#123; p &#123; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; &#125;&#125; ä¸Šé¢åŒæ—¶ï¼Œæ£€æµ‹ @supports (display:-webkit-box) and (-webkit-line-clamp:2) and (-webkit-box-orient:vertical) äº†ä¸‰ä¸ªè¯­æ³•ï¼Œå¦‚æœåŒæ—¶æ”¯æŒï¼Œåˆ™è®¾å®šä¸‰ä¸ª CSS è§„åˆ™ã€‚è¿™ä¸‰ä¸ªè¯­æ³•å¿…é¡»åŒæ—¶å¾—åˆ°æµè§ˆå™¨çš„æ”¯æŒï¼Œå¦‚æœè¡¨è¾¾å¼ä¸ºçœŸã€‚ @supports or@supports or è¡¨ç¤ºåªè¦è¡¨è¾¾å¼é‡Œå­˜åœ¨ä¸€ä¸ªæ˜¯çœŸçš„ï¼Œé‚£ä¹ˆè¿™ä¸ªè¡¨è¾¾å¼å°±æ˜¯è¿”å›çœŸã€‚ 123456@supports (background:-webkit-linear-gradient(0deg, yellow, red)) or (background:linear-gradient(90deg, yellow, red))&#123; div &#123; background:-webkit-linear-gradient(0deg, yellow, red); background:linear-gradient(90deg, yellow, red) &#125;&#125; @supportsçš„å…¼å®¹æ€§ è¿™ä»æ˜¯ä¸€ä¸ªå®éªŒä¸­çš„åŠŸèƒ½ï¼Œè™½ç„¶å¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½å·²ç»æ”¯æŒäº†ï¼Œä½†æ˜¯ç›®å‰çœ‹æ¥ï¼Œå³æ˜¯åœ¨ç§»åŠ¨ç«¯æƒ³è¦å…¨éƒ¨å…¼å®¹ä»éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´ã€‚ä½†æ˜¯æˆ‘ä»¬å·²ç»å¯ä»¥å¼€å§‹ä½¿ç”¨èµ·æ¥äº†ï¼Œä½¿ç”¨ @supports å®ç°æ¸è¿›å¢å¼ºçš„æ•ˆæœã€‚ æ¸è¿›å¢å¼ºï¼ˆ`progressive enhancement`ï¼‰ï¼šé’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›å’Œè¿½åŠ åŠŸèƒ½è¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒï¼š CSS.supports()è°ˆåˆ°äº† @supportsï¼Œå°±æœ‰å¿…è¦å†è¯´è¯´ CSS.supports() ã€‚å®ƒæ˜¯ä½œä¸º @supports çš„å¦ä¸€ç§å½¢å¼å‡ºç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ javascript çš„æ–¹å¼æ¥è·å¾— CSS å±æ€§çš„æ”¯æŒæƒ…å†µã€‚å¯ä»¥æ‰“å¼€æ§åˆ¶å°ï¼Œè¾“å…¥ CSS.supports è¯•è¯•ï¼š å¦‚æœæ²¡æœ‰è‡ªå·±å®ç° CSS.supports è¿™ä¸ªæ–¹æ³•ï¼Œè¾“å‡ºä¸Šè¿°ä¿¡æ¯ï¼Œè¡¨ç¤ºæµè§ˆå™¨æ˜¯æ”¯æŒ @supports è¯­æ³•çš„ï¼Œä½¿ç”¨å¦‚ä¸‹ï¼š é‚£å®ƒæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå¦‚æœä½ çš„é¡µé¢éœ€è¦åŠ¨æ€æ·»åŠ ä¸€äº›ä½ ä¸ç¡®å®šå“ªäº›æµè§ˆå™¨æ”¯æŒçš„æ–°çš„å±æ€§ï¼Œé‚£å®ƒä¹Ÿè®¸ä¼šæ´¾ä¸Šç”¨åœºã€‚ä»¥åŠï¼Œå®ƒå¯ä»¥é…åˆæˆ‘ä»¬ä¸‹æ–‡å³å°†è¦è®²çš„ modernizr ã€‚ modernizrä¸Šé¢ä»‹ç»äº† CSS æ–¹å¼çš„ç‰¹æ€§æ£€æµ‹ï¼Œåœ¨ä»¥å‰ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨ javascript æ¥è¿›è¡Œç‰¹æ€§æ£€æµ‹çš„ï¼Œå…¶ä¸­ modernizr å°±æ˜¯å…¶ä¸­æœ€ä¸ºå‡ºè‰²çš„ä½¼ä½¼è€…ã€‚modernizrï¼ˆæˆ³æˆ‘æŸ¥çœ‹ Github ï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„ javascript åº“ã€‚æœ‰ç€å°†è¿‘ 2W çš„ star ï¼Œå…¶ä¼˜ç§€ç¨‹åº¦å¯è§ä¸€æ–‘ã€‚ç®€å•çœ‹çœ‹ä½¿ç”¨æ–¹æ³•ï¼Œå‡è®¾é¡µé¢å·²ç»å¼•ç”¨äº† modernizr ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š 123456789101112// Listen to a test, give it a callbackModernizr.on(&#x27;testname&#x27;, function( result ) &#123; if (result) &#123; console.log(&#x27;The test passed!&#x27;); &#125; else &#123; console.log(&#x27;The test failed!&#x27;); &#125;&#125;); // æˆ–è€…æ˜¯ç±»ä¼¼ CSS.supports()Modernizr.testAllProps(&#x27;background&#x27;, &#x27;linear-gradient(90deg, #888, #ccc)&#x27;); // true ç‰¹æ€§æ£€æµ‹åŸç†å¦‚æœå«Œå¼•å…¥æ•´ä¸€ä¸ª Modernizr åº“å¤ªå¤§ï¼Œé¡µé¢åˆä¸æ”¯æŒ @supports ï¼Œå…¶å®æˆ‘ä»¬è‡ªå·±ç”¨ç®€å•çš„ javascript å®ç°ä¹Ÿéå¸¸æ–¹ä¾¿ç®€å•ã€‚æƒ³è¦çŸ¥é“æµè§ˆå™¨æ”¯æŒå¤šå°‘ CSS å±æ€§ï¼Œå¯ä»¥åœ¨è°ƒè¯•çª—å£è¯•è¯•ï¼š ä¸Šé¢å›¾ç‰‡æˆªå–çš„åªæ˜¯æ‰“å°å‡ºæ¥çš„ä¸€å°éƒ¨åˆ†ã€‚å¦‚æœæˆ‘ä»¬è¦æ£€æµ‹æŸä¸ªå±æ€§æ ·å¼æ˜¯å¦è¢«æ”¯æŒï¼Œåœ¨ä»»æ„çš„ element.style æ£€æµ‹å®ƒæ˜¯å¦å­˜åœ¨å³å¯ã€‚å½“ç„¶ï¼Œå…ƒç´ å¯èƒ½æœ‰ background å±æ€§ï¼Œä½†æ˜¯ä¸æ”¯æŒå…·ä½“çš„ linear-gradinet() å±æ€§å€¼ã€‚è¿™ä¸ªæ—¶å€™è¯¥å¦‚ä½•æ£€æµ‹å‘¢ï¼Ÿåªéœ€è¦å°†å…·ä½“çš„å€¼èµ‹å€¼ç»™æŸä¸€å…ƒç´ ï¼Œå†æŸ¥è¯¢è¿™ä¸ªå±æ€§å€¼èƒ½å¦è¢«è¯»å–ã€‚ 1234567var root = document.documentElement;root.style.backgroundImage = &#x27;linear-gradient(90deg, #888, #ccc)&#x27;;if(root.style.backgroundImage) &#123; // æ”¯æŒ&#125; else &#123; // ä¸æ”¯æŒ&#125; å„ç§æ–¹å¼é—´çš„ä¼˜åŠ£ åŸç”Ÿçš„ @supports çš„æ€§èƒ½è‚¯å®šæ˜¯æœ€å¥½çš„ï¼Œè€Œä¸”æ— éœ€å¼•å…¥å¤–éƒ¨ javascript ï¼Œé¦–æ¨è¿™ä¸ªï¼Œä½†æ˜¯æ— å¥ˆå…¼å®¹é—®é¢˜ï¼Œç›®å‰æ¥çœ‹ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ Modernizr åŠŸèƒ½å¼ºå¤§ï¼Œå…¼å®¹æ€§å¥½ï¼Œä½†æ˜¯éœ€è¦å¼•å…¥å¤–éƒ¨ javascriptï¼Œå¤šä¸€ä¸ª http è¯·æ±‚ï¼Œå¦‚æœåªæ˜¯è¿›è¡Œå‡ ä¸ªç‰¹æ€§æ£€æµ‹ï¼Œæœ‰ç‚¹æ€é¸¡ç”¨ç‰›åˆ€çš„æ„Ÿè§‰ã€‚ é’ˆå¯¹éœ€è¦çš„ç‰¹æ€§æ£€æµ‹ï¼Œä½¿ç”¨ javascript å®ç°ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå†æŠŠä¸Šé¢ç”¨åˆ°çš„æ–¹æ³•å°è£…ä¸€ä¸‹ï¼š 1234567891011121314151617181920212223242526/** * ç”¨äºç®€å•çš„ CSS ç‰¹æ€§æ£€æµ‹ * @param [String] property éœ€è¦æ£€æµ‹çš„ CSS å±æ€§å * @param [String] value æ ·å¼çš„å…·ä½“å±æ€§å€¼ * @return [Boolean] æ˜¯å¦é€šè¿‡æ£€æŸ¥ */function cssTest(property, value) &#123; // ç”¨äºæµ‹è¯•çš„å…ƒç´ ï¼Œéšè—åœ¨é¡µé¢ä¸Š var ele = document.getElementById(&#x27;test-display-none&#x27;); // åªæœ‰ä¸€ä¸ªå‚æ•°çš„æƒ…å†µ if(arguments.length === 1) &#123; if(property in ele.style) &#123; return true; &#125; // ä¸¤ä¸ªå‚æ•°çš„æƒ…å†µ &#125;else if(arguments.length === 2)&#123; ele.style[property] = value; if(ele.style[property]) &#123; return true; &#125; &#125; return false;&#125;","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"backgroundå±æ€§","slug":"background-property","date":"2017-03-10T01:20:21.000Z","updated":"2019-12-31T01:53:13.002Z","comments":true,"path":"2017/03/10/background-property/","link":"","permalink":"https://bubuzou.com/2017/03/10/background-property/","excerpt":"ä¸€ä¸ªå…ƒç´ å¯ä»¥ä½¿ç”¨ background æ¥è®¾ç½®ä»–çš„èƒŒæ™¯ç‰¹æ€§ï¼Œbackground æ˜¯ä¸€ä¸ªå¤åˆçš„å±æ€§ï¼ŒåŒ…æ‹¬äº† 8 ä¸ªå­å±æ€§ã€‚ background-colorbackground-color ç”¨äºå®šä¹‰å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ï¼Œå€¼å¯ä»¥æ˜¯å…·ä½“çš„åå…­è¿›åˆ¶é¢œè‰²å€¼ #dedd6fï¼Œå¯ä»¥æ˜¯ rgb é¢œè‰²å€¼rgb(222, 221, 111) ï¼Œæˆ–è€…ç›´æ¥ç”¨é¢œè‰²å¯¹åº”çš„è‹±æ–‡è¡¨ç¤º gray ï¼Œç”šè‡³æ˜¯ç”¨å…³é”®å­— transparent æ¥è¡¨ç¤ºé€æ˜çš„é¢œè‰²ã€‚ 123456789.yellow &#123; background-color: #dedd6f;&#125;.gray &#123; background-color: gray;&#125;.tran &#123; background-color: transparent;&#125;","text":"ä¸€ä¸ªå…ƒç´ å¯ä»¥ä½¿ç”¨ background æ¥è®¾ç½®ä»–çš„èƒŒæ™¯ç‰¹æ€§ï¼Œbackground æ˜¯ä¸€ä¸ªå¤åˆçš„å±æ€§ï¼ŒåŒ…æ‹¬äº† 8 ä¸ªå­å±æ€§ã€‚ background-colorbackground-color ç”¨äºå®šä¹‰å…ƒç´ çš„èƒŒæ™¯é¢œè‰²ï¼Œå€¼å¯ä»¥æ˜¯å…·ä½“çš„åå…­è¿›åˆ¶é¢œè‰²å€¼ #dedd6fï¼Œå¯ä»¥æ˜¯ rgb é¢œè‰²å€¼rgb(222, 221, 111) ï¼Œæˆ–è€…ç›´æ¥ç”¨é¢œè‰²å¯¹åº”çš„è‹±æ–‡è¡¨ç¤º gray ï¼Œç”šè‡³æ˜¯ç”¨å…³é”®å­— transparent æ¥è¡¨ç¤ºé€æ˜çš„é¢œè‰²ã€‚ 123456789.yellow &#123; background-color: #dedd6f;&#125;.gray &#123; background-color: gray;&#125;.tran &#123; background-color: transparent;&#125; background-imagebackground-image ç”¨æ¥å®šä¹‰å…ƒç´ çš„èƒŒæ™¯å›¾åƒï¼Œå¯ä»¥é€šè¿‡ url(...) æ¥å¼•å…¥å›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸º none è¡¨ç¤ºèƒŒæ™¯ä¸ºç©ºï¼Œè¿˜å¯ä»¥è®¾ç½®å¤šå¼ èƒŒæ™¯ä¸”ä¸­é—´ç”¨é€—å·éš”å¼€ï¼Œå†™åˆ°å‰é¢çš„å›¾ç‰‡å°†ä¼šè¦†ç›–å†™åˆ°åé¢çš„ã€‚ 1234567891011.url &#123; background-image: url(../images/cow.png)&#125;.none &#123; background-image :none;&#125;.muliple &#123; background-image: url(../images/penguin.jpg), url(../images/cow.png); background-repeat: no-repeat; background-size: 81%;&#125; background-repeatbackground-repeat å®šä¹‰äº†èƒŒæ™¯å›¾åƒå°†ä»¥ä½•ç§æ–¹å¼è¿›è¡Œå¹³é“ºã€‚å¿…é¡»å…ˆæŒ‡å®š background-image å±æ€§ã€‚å¦‚æœè®¾ç½®2ä¸ªå±æ€§ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªç”¨äºæ¨ªå‘ï¼Œç¬¬äºŒä¸ªä½œç”¨äºçºµå‘ã€‚å¦‚æœæä¾›ä¸€ä¸ªå‚æ•°ï¼Œåˆ™ç”¨äºæ¨ªå‘å’Œçºµå‘ã€‚å…¶ä¸­ï¼Œrepeat-x å’Œ repeat-y åªèƒ½å•ç‹¬ä½¿ç”¨ã€‚ repeat-xï¼šæ¨ªå‘å¹³é“º repeat-yï¼šçºµå‘å¹³é“º repeatï¼šæ¨ªå‘å’Œçºµå‘éƒ½å¹³é“º no-repeatï¼šä¸å¹³é“º roundï¼šèƒŒæ™¯å›¾åƒè‡ªåŠ¨ç¼©æ”¾ç›´è‡³é€‚åº”å¡«å……æ»¡æ•´ä¸ªå®¹å™¨ space: èƒŒæ™¯å›¾åƒæŒ‰ç…§ç›¸åŒçš„é—´è·å¹³é“ºç›´è‡³é€‚åº”å¡«å……æ»¡æ•´ä¸ªå®¹å™¨æˆ–æŸä¸ªæ–¹å‘ 123456789101112131415161718192021222324.repeat-x &#123; background-repeat: repeat-x;&#125;.repeat-y &#123; background-repeat: repeat-y;&#125;.repeat &#123; background-repeat: repeat;&#125;.no-repeat &#123; background-repeat: no-repeat;&#125;.round &#123; background-repeat: round;&#125;.space &#123; background-repeat: space;&#125;.round-space &#123; background-repeat: round space;&#125;.space-round &#123; background-repeat: space round;&#125; background-sizebackground-size å®šä¹‰äº†èƒŒæ™¯å›¾åƒçš„å°ºå¯¸ï¼Œå¯ä»¥ç”¨å…³é”®å­—æ¥å®šä¹‰ã€‚contain æŒ‰ç…§å›¾ç‰‡æ¯”ä¾‹å°†èƒŒæ™¯å›¾åƒç­‰æ¯”ç¼©æ”¾åˆ°å®Œå…¨é€‚åº”å®¹å™¨ï¼Œè€Œ cover æ˜¯å›¾åƒç¼©æ”¾åˆ°å®Œå…¨è¦†ç›–åŒºåŸŸä¸ºæ­¢ã€‚ä¹Ÿå¯ä»¥ç”¨é•¿åº¦å€¼æˆ–è€…ç™¾åˆ†æ¯”å€¼æ¥è®¾ç½®ã€‚å¦‚æœè®¾ç½®äº†2ä¸ªå‚æ•°ï¼Œåˆ™åˆ†åˆ«è¡¨ç¤ºæ¨ªå‘å’Œçºµå‘ã€‚å¦‚æœåªè®¾ç½®äº†ä¸€ä¸ªå€¼ï¼Œé‚£è¡¨ç¤ºæ¨ªå‘å®½åº¦ï¼Œçºµå‘ä¸º auto. 12345678910111213.contain &#123; background-size: contain;&#125;.cover &#123; background-size: cover;&#125;.size-demo .w100 &#123; background-size: 100px; background-image: url(../images/cow.png);&#125;.rate5080 &#123; background-size: 50% 80%;&#125; background-positionbackground-positioin å®šä¹‰äº†èƒŒæ™¯å›¾åƒåœ¨å®¹å™¨é‡Œçš„æ˜¾ç¤ºä½ç½®ï¼Œå¯ä»¥ç”¨å…³é”®å­— topã€leftã€rightã€bottomã€center ç­‰æ¥è¡¨ç¤ºï¼Œå½“ç”¨1ä¸ªå‚æ•°çš„æ—¶å€™è®¾ç½®çš„æ—¶å€™ï¼Œå¦ä¸€ä¸ªæ–¹å‘é»˜è®¤æ˜¯ centerã€‚å½“ç”¨2ä¸ªå…³é”®å­—æ¥è®¾ç½®çš„æ—¶å€™ï¼Œå’Œä¹¦å†™é¡ºåºæ— å…³ã€‚å¦å¤–è¿˜å¯ä»¥ç”¨å…·ä½“æ•°å€¼å’Œç™¾åˆ†æ¯”æ¥è®¾ç½®ï¼Œç”¨è¿™äº›æ–¹å¼æ¥è®¾ç½®çš„æ—¶å€™ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºæ¨ªå‘ï¼Œç¬¬äºŒä¸ªæ˜¯çºµå‘ã€‚å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¡¨ç¤ºæ¨ªå‘ï¼Œçºµå‘é»˜è®¤æ˜¯å±…ä¸­ã€‚ 123456789101112.position-demo .top &#123; background-position: top;&#125;.position-demo .bottom-right &#123; background-position: bottom right;&#125;.position-demo .w20h40 &#123; background-position: 20px 40px;&#125;.position-demo .p20 &#123; background-position: 20%;&#125; background-attachmentbackground-attachment æ§åˆ¶èƒŒæ™¯å›¾åƒåœ¨å¯è§†åŒºæˆ–å…ƒç´ å†…å¦‚ä½•æ»šåŠ¨ã€‚fixed æ˜¯ç›¸å¯¹å¯è§†åŒºåŸŸè¿›è¡Œå®šä½ï¼ŒèƒŒæ™¯å›¾åƒç›¸å¯¹äºå¯è§†åŒºåŸŸè¿›è¡Œå®šä½ï¼Œä¸éšå…ƒç´ æ»šåŠ¨è€Œæ»šåŠ¨ã€‚scroll èƒŒæ™¯å›¾åƒå°†åœ¨å…ƒç´ åŒºåŸŸå†…å›ºå®šï¼Œä¸ä¼šéšç€å…ƒç´ å†…å®¹çš„æ»šåŠ¨è€Œæ»šåŠ¨ã€‚local èƒŒæ™¯å›¾åƒç›¸å¯¹äºå…ƒç´ å†…å®¹å æ®çš„åŒºåŸŸè¿›è¡Œå®šä½ï¼Œå½“å…ƒç´ å†…å®¹æ»šåŠ¨çš„æ—¶å€™ï¼ŒèƒŒæ™¯å›¾åƒéšä¹‹æ»šåŠ¨ã€‚ 12345678910.attachment-demo .fixed &#123; background-attachment: fixed; background-position: bottom;&#125;.attachment-demo .scroll &#123; background-attachment: scroll;&#125;.attachment-demo .local &#123; background-attachment: local;&#125; background-originbackground-origin è§„å®šäº†èƒŒæ™¯å›¾åƒç›¸å¯¹äºç›’æ¨¡å‹çš„å“ªä¸ªåŒºåŸŸæ¥å®šä½ï¼Œå¯¹èƒŒæ™¯é¢œè‰²æ— æ•ˆã€‚content-box ç›¸å¯¹äºå†…å®¹åŒºåŸŸå®šä¹‰ï¼Œpadding-box ç›¸å¯¹äºå†…è¾¹è·åŒºåŸŸå®šä½ï¼Œborder-box ç›¸å¯¹è¾¹æ¡†åŒºåŸŸå®šä½ 123456789.origin-demo .content &#123; background-origin: content-box;&#125;.origin-demo .padding &#123; background-origin: padding-box;&#125;.origin-demo .border &#123; background-origin: border-box;&#125; background-clipbackground-clip æŒ‡å®šèƒŒæ™¯å‘å¤–è£å‰ªçš„åŒºåŸŸã€‚padding-box ä» padding åŒºåŸŸï¼ˆä¸å« padding ï¼‰å¼€å§‹å‘å¤–è£å‰ªèƒŒæ™¯ã€‚border-box ä» border åŒºåŸŸï¼ˆä¸å« border ï¼‰å¼€å§‹å‘å¤–è£å‰ªèƒŒæ™¯ã€‚content-box ä» content åŒºåŸŸå¼€å§‹å‘å¤–è£å‰ªèƒŒæ™¯ã€‚ 123456789.clip-demo .content &#123; background-clip: content-box;&#125;.clip-demo .padding &#123; background-clip: padding-box;&#125;.clip-demo .border &#123; background-clip: border-box;&#125;","categories":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"}]},{"title":"é«˜é˜¶å‡½æ•°","slug":"higher-order-functions","date":"2016-12-06T02:12:21.000Z","updated":"2019-04-16T12:19:18.329Z","comments":true,"path":"2016/12/06/higher-order-functions/","link":"","permalink":"https://bubuzou.com/2016/12/06/higher-order-functions/","excerpt":"é«˜é˜¶å‡½æ•°æ˜¯æŒ‡æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€çš„å‡½æ•°ï¼š å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¿›è¡Œè¾“å‡ºJavaScript è¯­è¨€ä¸­çš„å‡½æ•°æ˜¾ç„¶æ»¡è¶³é«˜é˜¶å‡½æ•°çš„æ¡ä»¶ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ— è®ºæ˜¯å°†å‡½æ•°å½“åšå‚æ•°ä¼ é€’ï¼Œè¿˜æ˜¯è®©å‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸¤ç§æƒ…å½¢éƒ½æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚ å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æŠŠå‡½æ•°å½“åšå‚æ•°è¿›è¡Œä¼ é€’ï¼Œè¿™ä»£è¡¨æˆ‘ä»¬å¯ä»¥æŠ½ç¦»å‡ºä¸€éƒ¨åˆ†å®¹æ˜“å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŠŠè¿™éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥åˆ†ç¦»ä¸šåŠ¡ä»£ç ä¸­å˜åŒ–å’Œä¸å˜çš„éƒ¨åˆ†ã€‚","text":"é«˜é˜¶å‡½æ•°æ˜¯æŒ‡æ»¡è¶³ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€çš„å‡½æ•°ï¼š å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¿›è¡Œè¾“å‡ºJavaScript è¯­è¨€ä¸­çš„å‡½æ•°æ˜¾ç„¶æ»¡è¶³é«˜é˜¶å‡½æ•°çš„æ¡ä»¶ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ— è®ºæ˜¯å°†å‡½æ•°å½“åšå‚æ•°ä¼ é€’ï¼Œè¿˜æ˜¯è®©å‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸¤ç§æƒ…å½¢éƒ½æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚ å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’æŠŠå‡½æ•°å½“åšå‚æ•°è¿›è¡Œä¼ é€’ï¼Œè¿™ä»£è¡¨æˆ‘ä»¬å¯ä»¥æŠ½ç¦»å‡ºä¸€éƒ¨åˆ†å®¹æ˜“å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŠŠè¿™éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥åˆ†ç¦»ä¸šåŠ¡ä»£ç ä¸­å˜åŒ–å’Œä¸å˜çš„éƒ¨åˆ†ã€‚ å›è°ƒå‡½æ•° åœ¨ ajax å¼‚æ­¥è¯·æ±‚çš„åº”ç”¨ä¸­ï¼Œå›è°ƒå‡½æ•°çš„ä½¿ç”¨éå¸¸é¢‘ç¹ã€‚å½“æˆ‘ä»¬æƒ³åœ¨ ajax è¯·æ±‚è¿”å›ä¹‹ååšäº›äº‹æƒ…ï¼Œä½†åˆå¹¶ä¸çŸ¥é“è¯·æ±‚è¿”å›çš„ç¡®åˆ‡æ—¶é—´æ—¶ï¼Œæœ€å¸¸è§çš„æ–¹æ¡ˆæ˜¯æŠŠ callback å‡½æ•°å½“åšå‚æ•°ä¼ å…¥å‘èµ·çš„ ajax è¯·æ±‚çš„æ–¹æ³•ä¸­ï¼Œå¾…è¯·æ±‚å®Œæˆä¹‹åæ‰§è¡Œcallback å‡½æ•°ï¼š 1234567var getUserInfo = function( userId, callback ) &#123; $.ajax( &#x27;http://bubuzou.com/getUserInfo?&#x27; + userId, function( data ) &#123; if ( typeof callback === &#x27;function&#x27;) &#123; callback( data ); &#125; &#125;); &#125;; å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼Œéœ€è¦åˆ›å»º 100 ä¸ª divå…ƒç´ ï¼ŒåŒæ—¶æŠŠä»–ä»¬éšè—èµ·æ¥ï¼Œé‚£ä¹ˆå¯ä»¥çœ‹åˆ°ä¸‹é¢è¿™ç§å®ç°ï¼š 123456789var appendDiv = function() &#123; for( var i = 0; i &lt; 100; i++ ) &#123; var div = document.createElement( &#x27;div&#x27; ); div.innerHTML = i; document.body.appendChild( div ); div.style.display = &#x27;none&#x27;; &#125;&#125;;appendDiv(); æŠŠ div.style.display = &#39;none&#39;çš„é€»è¾‘ç¡¬ç¼–ç åœ¨ appendDiv é‡Œæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼ŒappendDiv æœªå…æœ‰ç‚¹ä¸ªæ€§åŒ–ï¼Œæˆä¸ºäº†ä¸€ä¸ªéš¾ä»¥å¤ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªäººåˆ›å»ºäº†èŠ‚ç‚¹ä¹‹åå°±å¸Œæœ›å®ƒä»¬ç«‹åˆ»è¢«éšè—ã€‚äºæ˜¯æˆ‘ä»¬æŠŠè¿™æ®µä»£ç æŠ½ç¦»å‡ºæ¥ï¼Œç”¨å›è°ƒå‡½æ•°çš„å½¢å¼ä¼ å…¥ appendDiv æ–¹æ³•ï¼š 12345678910111213var appendDiv = function( callback ) &#123; for( var i = 0; i &lt; 100; i++ ) &#123; var div = document.createElement( &#x27;div&#x27; ); div.innerHTML = i; document.body.appendChild( div ); if ( typeof callback === &#x27;function&#x27;) &#123; callback( div ); &#125; &#125;&#125;; appendDiv(function( node ) &#123; node.style.display = &#x27;none&#x27;;&#125;); Array.prototype.sort Array.prototype.sort æ¥å—ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°é‡Œé¢å°è£…äº†æ•°ç»„å…ƒç´ çš„æ’åºé¡ºåºã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™æ˜¯ä¸å˜çš„éƒ¨åˆ†ï¼›ä½†ç”¨ä»€ä¹ˆè§„åˆ™å»æ’åºè¿™æ˜¯å¯å˜çš„éƒ¨åˆ†ã€‚ 1234// ä»å°åˆ°å¤§æ’åº[3, 9, 8, 5].sort(function(a, b) &#123; return a - b;&#125;); å‡½æ•°ä½œä¸ºè¿”å›å€¼è¾“å‡º åˆ¤æ–­æ•°æ®çš„ç±»å‹ åˆ¤æ–­ä¸€ä¸ªæ•°æ®æ˜¯å¦æ˜¯æ•°ç»„ï¼Œåœ¨ä»¥å¾€çš„å®ç°å½“ä¸­ï¼Œå¯ä»¥åŸºäºé¸­å­ç±»å‹çš„æ¦‚å¿µæ¥åˆ¤æ–­ï¼Œæ¯”å¦‚è¿™ä¸ªæ•°æ®æœ‰æ²¡æœ‰ length å±æ€§ï¼Œæœ‰æ²¡æœ‰sort æ–¹æ³•ç­‰ã€‚ä½†æ›´å¥½çš„æ–¹æ³•æ˜¯ç”¨ Object.prototype.toString æ¥è®¡ç®—ã€‚æ ¹æ®Object.prototype.toString.call( [1, 2, 3] ) æ€»æ˜¯è¿”å› â€™[object Array]â€™ ï¼ŒObject.prototype.toStrng.call( â€˜strâ€™ ) ä¹Ÿæ€»æ˜¯è¿”å› â€™[object Array]â€™ å¾—å‡ºï¼Œ å®ƒæ€»æ˜¯ä¼šè¿”å›ä¸€ä¸ªç±»ä¼¼ç»“æ„çš„å­—ç¬¦ä¸²ã€‚äºæ˜¯ç”¨å¾ªç¯è¯­å¥æ¥æ‰¹é‡æ³¨å†Œç±»å‹åˆ¤æ–­çš„å‡½æ•°ï¼š 123456789101112131415161718192021222324252627282930 var Type = &#123;&#125;; for ( var i = 0, type; type = [&#x27;String&#x27;, &#x27;Array&#x27;, &#x27;Number&#x27;][i++]; ) &#123; (function( type ) &#123; Type[ &#x27;is&#x27; + type ] = function( obj ) &#123; return Object.prototype.toString.call( obj ) === &#x27;[object &#x27; + type + &#x27;]&#x27;; &#125; &#125;)( type ); &#125; Type.isArray( [] ); // true Type.isString( &#x27;&#x27; ); // true ```` - getSingle ä¸‹é¢æ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼çš„ä¾‹å­ï¼š ``` js var getSingle = function( fn ) &#123; var ret; return function() &#123; return ret || ( ret = fn.apply( this, arguments )); &#125;; &#125;; // æ¥çœ‹çœ‹è¿™ä¸ªå•ä¾‹çš„æ•ˆæœ var getScript = getSingle(function() &#123; return document.createElement( &#x27;script&#x27; ); &#125;); var script1 = getScript(); var script2 = getScript(); console.log( script1 === script2 ); // true é«˜é˜¶å‡½æ•°å®ç°AOPAOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰çš„ä¸»è¦ä½œç”¨æ˜¯æŠŠä¸€äº›è·Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—æ— å…³çš„åŠŸèƒ½æŠ½ç¦»å‡ºæ¥ï¼Œè¿™äº›è·Ÿä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½é€šå¸¸åŒ…æ‹¬æ—¥å¿—ç»Ÿè®¡ã€å®‰å…¨æ§åˆ¶ã€å¼‚å¸¸å¤„ç†ç­‰ã€‚æŠŠè¿™äº›åŠŸèƒ½æŠ½ç¦»å‡ºæ¥åï¼Œå†é€šè¿‡â€œåŠ¨æ€æ¤å…¥â€çš„æ–¹å¼æºå…¥ä¸šåŠ¡é€»è¾‘æ¨¡å—ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯é¦–å…ˆä¿è¯äº†ä¸šåŠ¡é€»è¾‘æ¨¡å—çš„çº¯æ´å’Œé«˜å†…èšæ€§ï¼Œå…¶å®æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿çš„å¤ç”¨è¿™äº›æ—¥å¿—ç»Ÿè®¡ç­‰åŠŸèƒ½æ¨¡å—ã€‚åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Function.prototype æ¥å®ç° AOP: 123456789101112131415161718192021222324Function.prototype.before = function( beforeFn) &#123; var _self = this; return function() &#123; beforeFn.apply( this, arguments ); return _self.apply( this, arguments ); &#125;&#125;;Function.prototype.after = function( afterFn ) &#123; var _self = this; return function() &#123; var ret = _self.apply( this, arguments ); afterFn.apply( this, arguments ); return ret; &#125;&#125;;var func = function() &#123; console.log( 2 );&#125;;func = func.before(function() &#123; console.log( 1 );&#125;).after(function() &#123; console.log( 3 );&#125;);func(); // æ¢è¡Œæ‰“å°ï¼š1 2 3 é«˜é˜¶å‡½æ•°çš„å…¶ä»–åº”ç”¨ currying currying çš„æ¦‚å¿µæœ€æ—©ç”±ä¿„å›½æ•°å­¦å®¶ Moses Schoofinkel å‘æ˜ï¼Œè€Œåç”±è‘—åçš„æ•°ç†é€»è¾‘å­¦å®¶ Haskell Curry å°†å…¶ä¸°å¯Œå’Œå‘å±•ï¼Œcurrying ç”±æ­¤å¾—åã€‚ currying åˆç§°éƒ¨åˆ†æ±‚å€¼ã€‚è¿™é‡Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯å‡½æ•°æŸ¯é‡ŒåŒ–( function currying )ã€‚ä¸€ä¸ªæŸ¯é‡ŒåŒ–å‡½æ•°é¦–å…ˆä¼šæ¥å—ä¸€äº›å‚æ•°ï¼Œæ¥å—äº†è¿™äº›å‚æ•°ä¼šåï¼Œè¯¥å‡½æ•°å¹¶ä¸ä¼šç«‹å³æ±‚å€¼ï¼Œè€Œæ˜¯ç»§ç»­è¿”å›å¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆšæ‰ä¼ å…¥çš„å‚æ•°åœ¨å‡½æ•°å½¢æˆçš„é—­åŒ…ä¸­è¢«ä¿å­˜èµ·æ¥ã€‚å¾…åˆ°å‡½æ•°è¢«çœŸæ­£æ±‚å€¼çš„æ—¶å€™ï¼Œä¹‹å‰ä¼ å…¥çš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«ä¸€æ¬¡æ€§ç”¨äºæ±‚å€¼ã€‚æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š å‡è®¾æˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªè®¡ç®—æ¯æœˆå¼€é”€çš„å‡½æ•°ã€‚åœ¨æ¯å¤©ç»“æŸä¹‹å‰ï¼Œæˆ‘ä»¬éƒ½è¦è®°å½•å‡ å¤©èŠ±æ‰äº†å¤šå°‘é’±ã€‚ 12345678var monthCost = 0;var cost = function( money ) &#123; monthCost += money;&#125;;cost( 100 ); ç¬¬ä¸€å¤©cost( 200 ); ç¬¬äºŒå¤©cost( 300 ); ç¬¬ä¸‰å¤©console.log( monthCost ); // 600 é€šè¿‡è¿™æ®µä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯å¤©éƒ½èŠ±äº†å¤šå°‘é’±ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæƒ³çŸ¥é“æ¯ä¸ªæœˆçš„æ¶ˆè´¹å¦‚ä½•çš„è¯ï¼Œé‚£å°±æ²¡å¿…è¦è®¡ç®—æ¯å¤©çš„èŠ±è´¹äº†ã€‚ 123456789101112131415161718var cost = (function() &#123; var args = []; return function() &#123; if ( arguments.length === 0 ) &#123; var money = 0; for ( var i = 0, l = args.length; i &lt; l; i++ ) &#123; money += args[i]; &#125; return money; &#125; else &#123; [].push.apply( args, arguments ); &#125; &#125;&#125;)();cost( 100 );cost( 200 );cost( 300 );console.log( cost() ); // 600 æ¥ä¸‹æ¥ç¼–å†™ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–å‡½æ•°ï¼š 12345678910111213141516171819202122232425var currying = function( fn ) &#123; var args = []; return function() &#123; if ( arguments.length === 0 ) &#123; return fn.apply( this, args ); &#125; else &#123; [].push.apply( args, arguments ); return arguments.callee; &#125; &#125;&#125;;var cost = (function() &#123; var money = 0; return function() &#123; for ( var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; money += arguments[i]; &#125; return money; &#125;&#125;)();var cost = currying( cost );cost( 100 );cost( 200 );cost( 300 );console.log( cost() ); // 600 uncurrying uncurrying æ˜¯åæŸ¯é‡ŒåŒ–ï¼Œå¤§æ¦‚æ„æ€æ˜¯æ‰©å¤§å‡½æ•°çš„åº”ç”¨èŒƒå›´ï¼Œå°†æœ¬æ¥åªæœ‰ç‰¹å®šå¯¹è±¡æ‰èƒ½ä½¿ç”¨çš„æ–¹æ³•ï¼Œæ‰©å±•åˆ°æ›´å¤šçš„å¯¹è±¡ã€‚ æ¯”å¦‚æˆ‘ä»¬å¸¸å¸¸è®©ç±»æ•°ç»„å¯¹è±¡å»å€Ÿç”¨ Array.prototype çš„æ–¹æ³•ï¼š 1234(function() &#123; Array.prototype.push.call( arguments, 4 ); console.log( arguments ); // [1, 2, 3, 4] &#125;)(1, 2, 3); uncurryingç¬¬ä¸€ç§å®ç°ï¼š 123456789101112131415161718192021222324Function.prototype.uncurrying = function() &#123; var self = this; return function() &#123; var obj = Array.prototype.shift.call( arguments ); return self.apply( obj, arguments ); &#125;;&#125;;for ( var i = 0, fn, ary = [&#x27;push&#x27;, &#x27;shift&#x27;, &#x27;forEach&#x27;]; fn = ary[i++]; ) &#123; Array[ fn ] = Array.prototype[ fn ].uncurrying(); &#125;var obj = &#123; &quot;length&quot;: 3, &quot;0&quot;: 1, &quot;1&quot;: 2, &quot;2&quot;: 3&#125;;Array.push( obj, 4);console.log( obj.length ); // 4var first = Array.shift( obj ); console.log( first ); // 1console.log( obj ); // &#123;0:2, 1:3, 2:4, length: 3&#125;Array.forEach( obj, function( i, n ) &#123; console.log( n ); // åˆ†åˆ«è¾“å‡ºï¼š0, 1, 2&#125;); uncurryingçš„ç¬¬äºŒç§å®ç°ï¼š 123456Function.prototype.uncurrying = function() &#123; var self = this; return function() &#123; return Function.prototype.call.apply( self, arguments ); &#125;&#125;; å‡½æ•°èŠ‚æµ åœ¨ JavaScript ä¸­ï¼Œå¤§éƒ¨åˆ†çš„å‡½æ•°éƒ½æ˜¯ç”±ç”¨æˆ·ä¸»åŠ¨è°ƒåŠ¨è§¦å‘çš„ã€‚ä½†æ˜¯ä¹Ÿå­˜åœ¨å°‘æ•°æƒ…å†µï¼Œè¿™äº›æƒ…å†µä¸‹å‡½æ•°çš„è§¦å‘å¹¶ä¸æ˜¯åˆç”¨æˆ·ç›´æ¥æ§åˆ¶çš„ã€‚è¿™ä¸ªæ—¶å€™å‡½æ•°å°±æœ‰å¯èƒ½è¢«é¢‘ç¹åœ°è°ƒç”¨ï¼Œè€Œé€ æˆå¤§çš„æ€§èƒ½é—®é¢˜ã€‚ä»¥ä¸‹å‡ ä¸ªåœºæ™¯å‡½æ•°å°†è¢«é¢‘ç¹è°ƒç”¨ï¼šç»™ window ç»‘å®šäº†onresize äº‹ä»¶çš„æ—¶å€™ï¼Œå¦‚æœå­˜åœ¨ DOM ç›¸å…³çš„æ“ä½œï¼Œé‚£è¿™ä¸ªæ—¶å€™æ˜¯éå¸¸è€—æ€§èƒ½çš„ï¼Œä¸¥é‡çš„æ—¶å€™æµè§ˆå™¨å¯èƒ½ä¼šå¡é¡¿ï¼›mousemove äº‹ä»¶ï¼Œå¦‚æœç»™æŸä¸ªå…ƒç´ ç»‘å®šäº†æ‹–æ‹½äº‹ä»¶ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°ä¹Ÿä¼šè¢«é¢‘ç¹çš„è§¦å‘ï¼›åœ¨æ¯”å¦‚ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œå¯èƒ½éœ€è¦é¢‘ç¹çš„é€šçŸ¥è¿›åº¦ä¿¡æ¯ç­‰ã€‚ å‡½æ•°èŠ‚æµå°±æ˜¯ä¸ºäº†é¿å…å‡½æ•°è¢«é¢‘ç¹åœ°è°ƒç”¨è€Œå­˜åœ¨çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œä»è€Œä¼˜åŒ–æ€§èƒ½ã€‚é€šå¸¸æ˜¯ç”¨ setTimeout æ¥å®ç°ï¼š 123456789101112131415161718192021222324var throttle = function( fn, interval ) &#123;var _self = fn, timer, firstTime = true; return function() &#123; var args = arguments, _me = this; if ( firstTime ) &#123; _self.apply( _me, args ); return firstTime = false; &#125; if ( timer ) &#123; return false; &#125; timer = setTimeout(function() &#123; clearTimeout( timer ); timer = null; _self.apply( _me, args ); &#125;, interval || 500 ); &#125;&#125;;window.onresize = throttle(function() &#123; console.log( 1 );&#125;, 500); åˆ†æ—¶å‡½æ•° ä¸Šé¢æˆ‘ä»¬ä»‹ç»äº†ä¸€ç§è§£å†³å‡½æ•°è¢«é¢‘ç¹è°ƒç”¨çš„æ–¹æ³•ã€‚ä½†æ˜¯æœ‰æ—¶å€™ï¼Œç”¨æˆ·ç¡®å®æœ‰è¿™ç§éœ€æ±‚ï¼Œæ¯”å¦‚éœ€è¦åœ¨çŸ­æ—¶é—´å†…æŠŠ 1000 ä¸ª qq å¥½å‹æ¸²æŸ“åˆ°åˆ—è¡¨ä¸Šï¼Œè¿™ä¸ªæ—¶å€™å°±å¯èƒ½ä¼šå¾ˆå¡ã€‚ä½†æ˜¯å¦‚æœæŠŠ 1000ms åˆ›å»º 1000 ä¸ªèŠ‚ç‚¹ï¼Œæ”¹æˆæ¯ 200ms åˆ›å»º 8 ä¸ªèŠ‚ç‚¹ã€‚è¿™ä¸ªæ—¶å€™å°±é¿å…è¿™ç§é—®é¢˜ã€‚ åˆ†æ—¶å‡½æ•°æ¥å— 3 ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªæ˜¯åˆ›å»ºèŠ‚ç‚¹çš„æ—¶å€™éœ€è¦ç”¨åˆ°çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªæ˜¯å°è£…äº†åˆ›å»ºèŠ‚ç‚¹çš„å‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªæ˜¯æ¯ä¸€æ‰¹åˆ›å»ºçš„èŠ‚ç‚¹æ•°é‡ã€‚ 12345678910111213141516171819var timeChunk = function( ary, fn, count ) &#123; var obj, t, start; start = function() &#123; for ( var i = 0; i &lt; Math.min( count || 1, ary.length ); i++ ) &#123; var obj = ary.shift(); fn( obj ); &#125; &#125;; return function() &#123; t = setInterval(function() &#123; if ( ary.length === 0 ) &#123; // å¦‚æœå…¨éƒ¨èŠ‚ç‚¹éƒ½å·²ç»åˆ›å»ºå¥½ clearInterval( t ); &#125; start(); &#125;, 200); &#125;;&#125;; åˆ†æ—¶å‡½æ•°æœ‰äº†ï¼Œç°åœ¨æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹ã€‚å‡è®¾æœ‰ 1000 ä¸ªå¥½å‹ï¼Œåˆ©ç”¨ timeChunk å‡½æ•°ï¼Œæ¯æ‰¹å¾€é¡µé¢ä¸Šæ¸²æŸ“ 8 ä¸ªï¼š 12345678910var ary = [];for ( var i = 0; i &lt;= 1000; i++ ) &#123; ary.push( i );&#125;var renderFriendList = timeChunk( ary, function( n ) &#123; var div = document.createElement( &#x27;div&#x27; ); div.innerHTML = n; document.body.appendChild( div );&#125;, 8);renderFriendList(); æƒ°æ€§åŠ è½½å‡½æ•° åœ¨ web å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œå› ä¸ºæµè§ˆå™¨ä¹‹é—´çš„å®ç°å·®å¼‚ï¼Œä¸€äº›å—…æ¢å·¥ä½œæ€»æ˜¯é¿å…ä¸äº†çš„ã€‚æ¯”å¦‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªèƒ½åœ¨å„ä¸ªæµè§ˆå™¨éƒ½èƒ½é€šç”¨çš„äº‹ä»¶ç»‘å®šå‡½æ•° addEventï¼Œå¸¸è§çš„å†™æ³•å¦‚ä¸‹ï¼š 12345678var addEvent = function( elem, type, handler ) &#123; if ( window.addEventListener ) &#123; return elem.addEventListener( type, handler, false ); &#125; if ( window.attachEvent ) &#123; return elem.attachEvent( &#x27;on&#x27; + type, handler ); &#125;&#125;; è¿™ç§å†™æ³•çš„ç¼ºç‚¹æ˜¯æ¯æ¬¡è°ƒç”¨å‡½æ•°éƒ½å¿…é¡»æ‰§è¡Œé‡Œé¢çš„ifåˆ¤æ–­ï¼Œè™½ç„¶å¼€é”€ä¸å¤§ï¼Œä½†æ˜¯æœ‰åŠæ³•èƒ½é¿å…è¿™ç§æ“ä½œï¼š 123456789101112var addEvent = (function() &#123; if ( window.addEventListener ) &#123; return function( elem, type, handler ) &#123; elem.addEventListener( type, handler, false ); &#125; &#125; if ( window.attachEvent ) &#123; return function( elem, type, handler ) &#123; elem.attachEvent( &#x27;on&#x27; + type, handler ); &#125; &#125;&#125;)(); æŠŠå—…æ¢çš„æ“ä½œæå‰åˆ°ä»£ç åŠ è½½ä¹‹å‰ï¼Œåœ¨ä»£ç åŠ è½½çš„æ—¶å€™å°±å³å¯è¿›è¡Œä¸€æ¬¡åˆ¤æ–­ï¼Œä»¥ä¾¿è®© addEventè¿”å›ä¸€ä¸ªæ­£ç¡®çš„äº‹ä»¶ç»‘å®šå‡½æ•°ã€‚ ä½†æ˜¯è¿™ç§å†™æ³•è¿˜æ˜¯å­˜åœ¨ç¼ºç‚¹çš„ï¼Œå¦‚æœæˆ‘ä»¬ä»å¤´åˆ°å°¾éƒ½ä¸éœ€è¦è¿›è¡Œäº‹ä»¶ç»‘å®šï¼Œé‚£ä¹ˆå‰é¢é‚£æ¬¡çš„å—…æ¢åŠ¨ä½œå°±æ˜¾å¾—å¤šä½™äº†ã€‚ ç¬¬ä¸‰ç§æ–¹æ¡ˆæ˜¯æƒ°æ€§è½½å…¥å‡½æ•°æ–¹æ¡ˆï¼Œç¬¬ä¸€æ¬¡è¿›å…¥ addEvent å‡½æ•°çš„æ—¶å€™ä¼šé‡å†™äº‹ä»¶ç»‘å®šå‡½æ•°ï¼Œåœ¨ä¸‹æ¬¡è¿›å»çš„æ—¶å€™å°±ä¼šç›´æ¥æ‰§è¡Œäº‹ä»¶ç»‘å®šäº†ã€‚ 12345678910111213var addEvent = function( elem, type, handler ) &#123; if ( window.addEventListener ) &#123; addEvent = function( elem, type, handler ) &#123; elem.addEventListener( type, handler, false ); &#125; &#125; if ( window.attachEvent ) &#123; addEvent = function( elem, type, handler ) &#123; elem.attachEvent( &#x27;on&#x27; + type, handler ); &#125; &#125; addEvent( elem, type, handler );&#125;;","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"é—­åŒ…","slug":"closure","date":"2016-11-30T13:20:21.000Z","updated":"2019-01-08T01:38:23.670Z","comments":true,"path":"2016/11/30/closure/","link":"","permalink":"https://bubuzou.com/2016/11/30/closure/","excerpt":"å¯¹äº JavaScript çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªéš¾æ‡‚åˆå¿…é¡»å¾æœçš„æ¦‚å¿µã€‚åœ¨ä»‹ç»é—­åŒ…å‰ï¼Œå…ˆæ¥çœ‹çœ‹å’Œé—­åŒ…æ¯æ¯ç›¸å…³çš„å˜é‡ä½œç”¨åŸŸå’Œå˜é‡çš„ç”Ÿå­˜å‘¨æœŸã€‚ å˜é‡çš„ä½œç”¨åŸŸå˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å½“åœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¦‚æœç”¨å…³é”®å­— var æ¥å£°æ˜æ­¤å˜é‡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å±€éƒ¨å˜é‡ï¼Œå¦‚æœæ²¡æœ‰ var é‚£ä¹ˆå°±ä¼šæˆä¸ºå…¨å±€å˜é‡ã€‚ä¸€èˆ¬ä¸å»ºè®®ç”¨è¿™ç§æ–¹å¼å®šä¹‰å…¨å±€å˜é‡ã€‚è€Œæ˜¯ç”¨ var å°†å˜é‡å£°æ˜åœ¨å‡½æ•°çš„å¤–é¢ã€‚ 12345var name = &#x27;bubuzou.com&#x27;; // å…¨å±€å˜é‡function func() &#123; var name = &#x27;bubuzou&#x27;; // å±€éƒ¨å˜é‡ age = 12; // å…¨å±€å˜é‡ï¼Œå»ºè®®å°‘ç”¨è¿™ç§å…¨å±€å˜é‡çš„å®šä¹‰æ–¹å¼&#125;","text":"å¯¹äº JavaScript çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œé—­åŒ…æ˜¯ä¸€ä¸ªéš¾æ‡‚åˆå¿…é¡»å¾æœçš„æ¦‚å¿µã€‚åœ¨ä»‹ç»é—­åŒ…å‰ï¼Œå…ˆæ¥çœ‹çœ‹å’Œé—­åŒ…æ¯æ¯ç›¸å…³çš„å˜é‡ä½œç”¨åŸŸå’Œå˜é‡çš„ç”Ÿå­˜å‘¨æœŸã€‚ å˜é‡çš„ä½œç”¨åŸŸå˜é‡çš„ä½œç”¨åŸŸæ— éå°±æ˜¯ä¸¤ç§ï¼šå…¨å±€å˜é‡å’Œå±€éƒ¨å˜é‡ã€‚å½“åœ¨å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¦‚æœç”¨å…³é”®å­— var æ¥å£°æ˜æ­¤å˜é‡ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å±€éƒ¨å˜é‡ï¼Œå¦‚æœæ²¡æœ‰ var é‚£ä¹ˆå°±ä¼šæˆä¸ºå…¨å±€å˜é‡ã€‚ä¸€èˆ¬ä¸å»ºè®®ç”¨è¿™ç§æ–¹å¼å®šä¹‰å…¨å±€å˜é‡ã€‚è€Œæ˜¯ç”¨ var å°†å˜é‡å£°æ˜åœ¨å‡½æ•°çš„å¤–é¢ã€‚ 12345var name = &#x27;bubuzou.com&#x27;; // å…¨å±€å˜é‡function func() &#123; var name = &#x27;bubuzou&#x27;; // å±€éƒ¨å˜é‡ age = 12; // å…¨å±€å˜é‡ï¼Œå»ºè®®å°‘ç”¨è¿™ç§å…¨å±€å˜é‡çš„å®šä¹‰æ–¹å¼&#125; åœ¨ JavaScript ä¸­ï¼Œå‡½æ•°å¯ä»¥ç”¨æ¥åˆ›é€ å‡½æ•°ä½œç”¨åŸŸã€‚å‡½æ•°å†…éƒ¨å¯ä»¥çœ‹åˆ°å¤–é¢çš„å˜é‡ï¼Œè€Œå¤–é¢çœ‹ä¸åˆ°å‡½æ•°é‡Œçš„å˜é‡ã€‚è¿™æ˜¯å› ä¸ºå½“åœ¨å‡½æ•°ä¸­æœç´¢ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œå¦‚æœè¯¥å‡½æ•°å†…æ²¡æœ‰å£°æ˜è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆæ­¤æ¬¡æœç´¢çš„è¿‡ç¨‹ä¼šéšç€ä»£ç æ‰§è¡Œç¯å¢ƒåˆ›å»ºçš„ä½œç”¨åŸŸé“¾å¾€å¤–å±‚é€å±‚æœç´¢ï¼Œç›´åˆ°æœç´¢åˆ°å…¨å±€å˜é‡ä¸ºæ­¢ã€‚ 123456789101112var a = 1;var func1 = function()&#123; var b = 2; var func2 = function()&#123; var c = 3; console.log( b ); // 2 console.log( a ); // 1 &#125; func2(); console.log( c ); // æŠ¥é”™ï¼šc is not defined&#125;;func1(); é‚£ä¹ˆèƒ½ä¸èƒ½ä»å‡½æ•°å¤–éƒ¨æ¥è®¿é—®å±€éƒ¨å˜é‡å‘¢ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥ã€‚ 1234567var func = function() &#123; var number = 6; return function() &#123; return number; &#125; &#125;;console.log( func()() ); // 6 å˜é‡çš„ç”Ÿå­˜å‘¨æœŸå…¨å±€å˜é‡çš„ç”Ÿå­˜å‘¨æœŸæ˜¯æ°¸ä¹…çš„ï¼Œé™¤éæˆ‘ä»¬ä¸»åŠ¨çš„é”€æ¯è¿™ä¸ªå…¨å±€å˜é‡ã€‚è€Œå¯¹äºå±€éƒ¨å˜é‡æ¥è¯´ï¼Œå½“é€€å‡ºå‡½æ•°æ—¶ï¼Œè¿™äº›å±€éƒ¨å˜é‡å°±å¤±å»äº†ç”Ÿå­˜çš„ç¯å¢ƒï¼Œæ‰€ä»¥ä¼šéšç€å‡½æ•°è°ƒç”¨çš„ç»“æŸè€Œè¢«é”€æ¯ã€‚é‚£ä¹ˆæ˜¯å¦å¯ä»¥è®©å±€éƒ¨å˜é‡åœ¨å‡½æ•°è°ƒç”¨ç»“æŸçš„æ—¶å€™ä¸è¢«é”€æ¯å‘¢ï¼Ÿæ¥çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š 1234567891011var func = function() &#123; var a = 1; return function() &#123; a++; console.log( a ); &#125; &#125;;var f = func();f(); // 2f(); // 3f(); // 4 ä»ä¸Šé¢è¿™ä¸ªè¾“å‡ºç»“æœï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å±€éƒ¨å˜é‡ a å¹¶æ²¡æœ‰éšç€ f() çš„è°ƒç”¨è€Œè¢«é”€æ¯ã€‚è¿™æ˜¯å› ä¸ºå…¨å±€å˜é‡ f ä¿å­˜ç€å¯¹ func é‡Œé¢åŒ¿åå‡½æ•°çš„å¼•ç”¨ã€‚è€Œè¿™ä¸ªåŒ¿åå‡½æ•°æ˜¯å¯ä»¥è®¿é—®åˆ°å±€éƒ¨å˜é‡ a çš„ï¼Œæ‰€ä»¥è‡ªç„¶ a ä¹Ÿè¢«ä¿å­˜ä¸‹æ¥äº†ã€‚æ‰€ä»¥è¿™ç§æƒ…å†µä¸‹å±€éƒ¨å˜é‡çš„ç”Ÿå­˜å‘¨æœŸå°±å¾—ä»¥å»¶ç»­ã€‚ä¸Šé¢è¿™ä¸ªåŒ¿åå‡½æ•°å…¶å®å°±æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚å†æ¥çœ‹ä¸€ä¸ªé—­åŒ…çš„ç»å…¸åº”ç”¨ã€‚ 1234567// å‡è®¾æœ‰5ä¸ªdivvar nodes = document.getElementsByTagName( &#x27;div&#x27; );for ( var i = 0, l = nodes.length; i &lt; l; i++ ) &#123; nodes[i].onclick = function() &#123; console.log( i ); &#125;&#125; å½“çœŸæ­£æ‰§è¡Œè¿™æ®µä»£ç çš„æ—¶å€™ï¼Œå‘ç°æ— è®ºç‚¹å‡»é‚£ä¸ª divï¼Œæœ€åæ‰“å°çš„ç»“æœéƒ½æ˜¯ 4ã€‚è¿™æ˜¯å› ä¸º onclick äº‹ä»¶æ˜¯å¼‚æ­¥è§¦å‘çš„ï¼Œå½“äº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œfor å¾ªç¯æ—©å·²ç»ç»“æŸï¼Œæ­¤æ—¶å˜é‡ i çš„å€¼å·²ç»æ˜¯ 4ã€‚è§£å†³æ–¹æ¡ˆå¯ä»¥æ˜¯ç”¨é—­åŒ…æŠŠæ¯æ¬¡çš„ i éƒ½ä¿å­˜èµ·æ¥ï¼š 1234567for ( var i = 0, l = nodes.length; i &lt; l; i++ ) &#123; (function( i ) &#123; nodes[i].onclick = function() &#123; console.log( i ); &#125; &#125;)( i );&#125; åŒç†ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€æ®µä»£ç ç”¨æ¥åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼š 12345678910var Type = &#123;&#125;;for ( var i = 0, type; type = [ &#x27;String&#x27;, &#x27;Array&#x27;, &#x27;Number&#x27; ][ i++ ]; ) &#123; (function( type ) &#123; Type[ &#x27;is&#x27; + type ] = function( obj ) &#123; return Object.prototype.toString.call( obj ) === &#x27;[object &#x27; + type + &#x27;]&#x27;; &#125; &#125;)( type );&#125;Type.isArray( [] ); // trueType.isString( &#x27;str&#x27; ); // true ä»€ä¹ˆæ˜¯é—­åŒ…å®˜æ–¹çš„è§£é‡Šæ˜¯ï¼šä¸€ä¸ªæ‹¥æœ‰è®¸å¤šå˜é‡å’Œç»‘å®šäº†è¿™äº›å˜é‡çš„ç¯å¢ƒçš„è¡¨è¾¾å¼ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œå› ä¸ºè¿™äº›å˜é‡ä¹Ÿæ˜¯è¯¥è¡¨è¾¾å¼çš„ä¸€éƒ¨åˆ†ã€‚è¿™ä¸ªæ¦‚å¿µä¸å¥½ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•å¾—ç†è§£æˆé—­åŒ…å°±æ˜¯èƒ½å¤Ÿè®¿é—®å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ã€‚ é—­åŒ…çš„ä½œç”¨ å¯ä»¥åœ¨å‡½æ•°å¤–éƒ¨è®¿é—®åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å±€éƒ¨å˜é‡ å»¶ç»­å±€éƒ¨å˜é‡çš„ç”Ÿå­˜å‘¨æœŸ å°è£…å˜é‡ é—­åŒ…å¯ä»¥å¸®åŠ©æŠŠä¸€äº›ä¸éœ€è¦æš´éœ²åœ¨å…¨å±€çš„å˜é‡å°è£…æˆâ€œç§æœ‰å˜é‡â€ã€‚å‡è®¾æœ‰ä¸€ä¸ªè®¡ç®—ä¹˜ç§¯çš„å‡½æ•°ï¼š 12345678var mult = function() &#123; var a = 1; for ( var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; a = a * arguments[i]; &#125; return a;&#125;;mult(2, 3, 4); // 24 mult å‡½æ•°æ¥å—ä¸€äº› Number ç±»å‹çš„å‚æ•°ï¼Œå¹¶ä¸”è¿”å›ä»–ä»¬çš„ä¹˜ç§¯ã€‚ç°å†æˆ‘ä»¬è§‰å¾—å¯¹äºé‚£äº›ç›¸åŒå‚æ•°æ¥è¯´ï¼Œæ¯æ¬¡å†è¿›è¡Œè®¡ç®—æ˜¯ä¸€ç§æµªè´¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å†³å®šåŠ å…¥ç¼“å­˜æœºåˆ¶æ¥æé«˜å‡½æ•°æ€§èƒ½ï¼š 123456789101112var cache = &#123;&#125;;var mult = function() &#123; var args = Array.prototype.join.call( arguments, &#x27;&#x27; ); if ( cache[ args ] ) &#123; return cache[ args ]; &#125; var a = 1; for ( var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; a = a * arguments[i]; &#125; return cache[ args ] = a;&#125;; æˆ‘ä»¬çœ‹åˆ° cache è¿™ä¸ªå˜é‡ä»…ä»…åœ¨ mult å‡½æ•°ä¸­è¢«ä½¿ç”¨ï¼Œæ‰€ä»¥ä¸ºäº†é¿å… cache æ±¡æŸ“å…¨å±€å˜é‡ï¼Œæˆ‘ä»¬å°†å®ƒæ”¾åˆ° mult å‡½æ•°é‡Œé¢ 1234567891011121314var mult = (function() &#123; var cache = &#123;&#125;; return function() &#123; var args = Array.prototype.join.call( arguments, &#x27;&#x27; ); if ( cache[ args ] ) &#123; return cache[ args ]; &#125; var a = 1; for ( var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; a = a * arguments[i]; &#125; return cache[ args ] = a; &#125;&#125;)(); æç‚¼å‡½æ•°æ˜¯ä»£ç é‡æ„ä¸­çš„ä¸€ç§å¸¸è§æŠ€å·§ã€‚å¦‚æœåœ¨ä¸€ä¸ªå¤§å‡½æ•°ä¸­æœ‰ä¸€äº›ä»£ç å—èƒ½å¤Ÿç‹¬ç«‹å‡ºæ¥ï¼Œæˆ‘ä»¬å¸¸å¸¸æŠŠè¿™äº›ä»£ç å—å°è£…åœ¨ç‹¬ç«‹çš„å°å‡½æ•°é‡Œé¢ã€‚ç‹¬ç«‹å‡ºæ¥çš„å°å‡½æ•°æœ‰åˆ©äºä»£ç çš„å¤ç”¨ï¼Œå¦‚æœè¿™äº›å°å‡½æ•°æœ‰ä¸€ä¸ªè‰¯å¥½çš„å‘½åï¼Œé‚£ä¹ˆå®ƒä»¬æœ¬èº«å°±èµ·åˆ°äº†ä¸€ä¸ªå¾ˆå¥½çš„æ³¨é‡Šä½œç”¨ã€‚ 1234567891011121314151617var mult = (function() &#123; var cache = &#123;&#125;; var calculate = function() &#123; var a = 1; for ( var i = 0, l = arguments.length; i &lt; l; i++ ) &#123; a = a * arguments[i]; &#125; return a; &#125;; return function() &#123; var args = Array.prototype.join.call( arguments, &#x27;&#x27; ); if ( cache[ args ] ) &#123; return cache[ args ]; &#125; return cache[ args ] = calculate.apply( null, arguments ); &#125;&#125;)(); é—­åŒ…ä¸å†…å­˜ç®¡ç†å±€éƒ¨å˜é‡æœ¬æ¥åº”è¯¥åœ¨å‡½æ•°é€€å‡ºçš„æ—¶å€™å°±è¢«ç»“æŸå¼•ç”¨ï¼Œä½†å¦‚æœå±€éƒ¨å˜é‡è¢«å°è£…åœ¨é—­åŒ…å½¢æˆçš„ç¯å¢ƒä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡å°±èƒ½ä¸€ç›´ç”Ÿå­˜ä¸‹å»ã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥çœ‹ï¼Œé—­åŒ…ç¡®å®ä¼šä½¿ä¸€äº›æ•°æ®æ— æ³•è¢«åŠæ—¶é”€æ¯ã€‚å¦‚æœå°†æ¥éœ€è¦å›æ”¶è¿™äº›å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨æŠŠè¿™äº›å˜é‡è®¾ä¸º nullã€‚è·Ÿé—­åŒ…å’Œå†…å­˜æ³„éœ²æœ‰å…³ç³»çš„åœ°æ–¹æ˜¯ï¼Œä½¿ç”¨é—­åŒ…çš„åŒæ—¶æ¯”è¾ƒå®¹æ˜“å½¢æˆå¾ªç¯å¼•ç”¨ï¼Œå¦‚æœé—­åŒ…çš„ä½œç”¨åŸŸä¸­ä¿å­˜ç€ä¸€äº› DOM èŠ‚ç‚¹ï¼Œè¿™ä¸ªæ—¶å€™å°±æœ‰å¯èƒ½é€ æˆå†…å­˜æ³„éœ²ã€‚åœ¨ IE9 ä¹‹å‰çš„æµè§ˆå™¨ä¸­ï¼Œç”±äº BOM å’Œ DOM ä¸­çš„å¯¹è±¡æ˜¯ä½¿ç”¨ C++ å¯¹è±¡ä»¥ COM å¯¹è±¡çš„æ–¹å¼å®ç°çš„ï¼Œè€Œ COM å¯¹è±¡çš„åƒåœ¾æ”¶é›†æœºåˆ¶é‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°ç­–ç•¥ã€‚åœ¨åŸºäºå¼•ç”¨è®¡æ•°çš„åƒåœ¾æ”¶é›†æœºåˆ¶ä¸­ï¼Œå¦‚æœä¸¤ä¸ªå¯¹è±¡ä¹‹é—´å½¢æˆäº†å¾ªç¯å¼•ç”¨ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡éƒ½æ— æ³•è¢«å›æ”¶ã€‚ä½†æˆ‘ä»¬åªè¦æŠŠå¾ªç¯å¼•ç”¨ä¸­çš„å¯¹è±¡è®¾ä¸º null å³å¯è§£å†³è¿™ä¸ªé—®é¢˜ã€‚","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"thisã€callå’Œapply","slug":"this-call-apply","date":"2016-11-28T11:22:14.000Z","updated":"2019-03-29T02:31:00.239Z","comments":true,"path":"2016/11/28/this-call-apply/","link":"","permalink":"https://bubuzou.com/2016/11/28/this-call-apply/","excerpt":"thisè·Ÿåˆ«çš„è¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒJavaScript çš„ this æ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚ thisçš„æŒ‡å‘é™¤å»ä¸å¸¸ç”¨çš„ eval å’Œ with è¯­å¥çš„æƒ…å†µï¼Œå…·ä½“åˆ°å®é™…åº”ç”¨ä¸­ï¼Œthis çš„æŒ‡å‘å¤§è‡´å¯åˆ†ä¸ºä»¥ä¸‹4ç§ï¼š ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ å½“ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨çš„æ—¶å€™ï¼Œthis æŒ‡å‘è¯¥å¯¹è±¡ï¼š 12345678var obj = &#123; name: &#x27;bubuzou&#x27;, getName: function() &#123; console.log( this === obj ); // true console.log( this.name ); // &#x27;bubuzou&#x27; &#125;&#125;;obj.getName();","text":"thisè·Ÿåˆ«çš„è¯­è¨€ä¸åŒçš„æ˜¯ï¼ŒJavaScript çš„ this æ€»æ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œå…·ä½“æŒ‡å‘å“ªä¸ªå¯¹è±¡æ˜¯åœ¨è¿è¡Œæ—¶åŸºäºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒåŠ¨æ€ç»‘å®šçš„ï¼Œè€Œéå‡½æ•°è¢«å£°æ˜æ—¶çš„ç¯å¢ƒã€‚ thisçš„æŒ‡å‘é™¤å»ä¸å¸¸ç”¨çš„ eval å’Œ with è¯­å¥çš„æƒ…å†µï¼Œå…·ä½“åˆ°å®é™…åº”ç”¨ä¸­ï¼Œthis çš„æŒ‡å‘å¤§è‡´å¯åˆ†ä¸ºä»¥ä¸‹4ç§ï¼š ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ å½“ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è¿›è¡Œè°ƒç”¨çš„æ—¶å€™ï¼Œthis æŒ‡å‘è¯¥å¯¹è±¡ï¼š 12345678var obj = &#123; name: &#x27;bubuzou&#x27;, getName: function() &#123; console.log( this === obj ); // true console.log( this.name ); // &#x27;bubuzou&#x27; &#125;&#125;;obj.getName(); ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨ å½“å‡½æ•°ä¸ä½œä¸ºå¯¹è±¡çš„å±æ€§è¿›è¡Œè°ƒç”¨çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æ™®é€šå‡½æ•°æ–¹å¼ï¼Œæ­¤æ—¶çš„ this æ€»æ˜¯æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨çš„JavaScript é‡Œï¼Œè¿™ä¸ªå…¨å±€å¯¹è±¡æ˜¯ window å¯¹è±¡ã€‚ 123456789101112131415window.name = &#x27;bubuzou.com&#x27;;var getName = function() &#123; return this.name; &#125;;console.log( getName() ); // &#x27;bubuzou.com&#x27;// æˆ–è€…window.name = &#x27;bubuzou.com&#x27;;var myObject = &#123; name: &#x27;bubuzou&#x27;, getName: function() &#123; return this.name; &#125;&#125;;var getName = myObject.getName;console.log( getName() ); // &#x27;bubuzou.com&#x27; å†æ¥çœ‹ä¸€ä¸ªå®é™…çš„åº”ç”¨ï¼š 12345678910window.id = &#x27;bubuzou&#x27;;document.getElementById( &#x27;div&#x27; ).onclick = function() &#123; var that = this; console.log( this.id ); // &#x27;div&#x27; var callback = function() &#123; console.log( this.id ); // &#x27;bubuzou&#x27; console.log( that.id ); // &#x27;div&#x27; &#125;; callback();&#125;; åœ¨ `ECMAScript 5` çš„ `strict` æ¨¡å¼ä¸‹ï¼Œè¿™ç§æƒ…å†µçš„ `this` å·²ç»è¢«è§„å®šä¸ä¼šæŒ‡å‘å…¨å±€å¯¹è±¡äº†ï¼Œè€Œæ˜¯ `undefined` 1234(function func() &#123; &quot;use strict&quot; console.log( this ); // undefined&#125;)(); æ„é€ å™¨è°ƒç”¨ JavaScript ä¸­æ²¡æœ‰ç±»ï¼Œä½†æ˜¯å¯ä»¥ä»æ„é€ å™¨ä¸­åˆ›å»ºå¯¹è±¡ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº† new è¿ç®—ç¬¦ï¼Œä½¿å¾—æ„é€ å™¨çœ‹èµ·æ¥æ›´åƒä¸€ä¸ªç±»ã€‚é™¤äº†å®¿ä¸»æä¾›çš„ä¸€äº›å†…ç½®å‡½æ•°å¤–ï¼Œå¤§å¤šæ•°çš„ JavaScript å‡½æ•°éƒ½å¯ä»¥å½“åšå†…ç½®æ„é€ å™¨ä½¿ç”¨ã€‚æ„é€ å™¨çš„å¤–è¡¨è·Ÿæ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºè°ƒç”¨çš„æ–¹å¼ã€‚å½“ç”¨ new è¿ç®—ç¬¦è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¯¥å‡½æ•°æ€»ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæ„é€ å™¨é‡Œçš„ this å°±æ˜¯æŒ‡å‘è¿”å›çš„è¿™ä¸ªå¯¹è±¡ã€‚ 12345var MyClass = function() &#123; this.name = &#x27;bubuzou.com&#x27;&#125;;var obj = new MyClass();console.log( obj.name ); // &#x27;bubuzou.com&#x27; ä½†æ˜¯ä½¿ç”¨æ„é€ å™¨è°ƒç”¨éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæ„é€ å™¨æ˜¾ç¤ºçš„è¿”å›äº†ä¸€ä¸ª object ç±»å‹çš„å¯¹è±¡ï¼Œé‚£ä¹ˆæ­¤æ¬¡è¿ç®—ç»“æœæœ€ç»ˆä¼šè¿”å›è¿™ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æ‰€æœŸå¾…çš„ this: 12345678var MyClass = function() &#123; this.name = &#x27;bubuzou.com&#x27;; return &#123; name: &#x27;bubuzou&#x27; &#125;&#125;; var obj = new MyClass();console.log( obj.name ); // &#x27;bubuzou&#x27; Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨ è·Ÿæ™®é€šçš„å‡½æ•°è°ƒç”¨ç›¸æ¯”ï¼Œç”¨ Function.prototype.call æˆ– Function.prototype.apply è°ƒç”¨å¯ä»¥åŠ¨æ€åœ°æ”¹å˜ä¼ å…¥å‡½æ•°çš„ thisï¼š 1234567891011var obj1 = &#123; name: &#x27;bubuzou.com&#x27;, getName: function() &#123; return this.name; &#125;&#125;;var obj2 = &#123; name: &#x27;bubuzou&#x27;&#125;;console.log( obj1.getName() ); // &#x27;bubuzou.com&#x27;console.log( obj1.getName.call( obj2 ) ); // &#x27;bubuzou&#x27; ä¸¢å¤±çš„thisdocument.getElementById è¿™ä¸ªæ–¹æ³•åæœ‰ç‚¹é•¿ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šå°è¯•ç”¨ä¸€ä¸ªç®€å•ç‚¹çš„æ¥æ›¿ä»£ï¼š 1234var getId = function( id ) &#123; return document.getElementById( id );&#125;;getId( &#x27;div&#x27; ); æˆ‘ä»¬ä¹Ÿè®¸æ€è€ƒè¿‡ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ä¸‹é¢çš„è¿™ä¸ªæ›´ç®€å•çš„æ–¹å¼ï¼š 12var getId = document.getElementById;getId( &#x27;div&#x27; ); å½“æˆ‘ä»¬æ‰§è¡Œä¸Šé¢è¿™æ®µä»£ç çš„æ—¶å€™ï¼Œåœ¨ Chrome æµè§ˆå™¨ä¸­ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¿™æ˜¯å› ä¸ºè®¸å¤šæµè§ˆå™¨å¼•æ“çš„ document.getElementById æ–¹æ³•çš„å†…éƒ¨å®ç°ä¸­éœ€è¦ç”¨åˆ° thisã€‚è€Œè¿™ä¸ª this æœ¬æ¥æœŸæœ›æŒ‡å‘ documentï¼Œå½“getElementById æ–¹æ³•ä½œä¸º document çš„å±æ€§æ¥è°ƒç”¨çš„æ—¶å€™ï¼Œå†…éƒ¨çš„ this ç¡®å®æ˜¯æŒ‡å‘ document çš„ã€‚ä½†å½“ç”¨getId æ¥å¼•ç”¨ document.getElementById ä¹‹åï¼Œå†è°ƒç”¨ getIdï¼Œæ­¤æ—¶å°±æˆäº†æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘äº† windowï¼Œè€Œæ˜¯ä¸æ˜¯åŸæ¥çš„ documentï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ä¸è¿‡æˆ‘ä»¬å¯ä»¥å°è¯•ç”¨ apply æŠŠ document å½“åš this ä¼ å…¥ getId å‡½æ•°ï¼š 1234567document.getElementById = (function( func ) &#123; return function() &#123; return func.apply( document, arguments ); &#125;&#125;)( document.getElementById );var getId = document.getElementById;console.log( getId( &#x27;div&#x27; ).id ); // &#x27;div&#x27; callå’Œapplyçš„åŒºåˆ«ä¸¤è€…çš„ä½œç”¨ä¸€æ¨¡ä¸€æ ·ï¼ŒåŒºåˆ«åªæ˜¯ä¼ å…¥çš„å‚æ•°å½¢å¼ä¸ä¸€æ ·ã€‚applyæ¥å—2ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æŒ‡å®šäº†å‡½æ•°ä½“å†…çš„ this å¯¹è±¡çš„æŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºä¸€ä¸ªå¸¦ä¸‹æ ‡çš„é›†åˆï¼Œè¿™ä¸ªé›†åˆå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç±»æ•°ç»„ã€‚ call çš„å‚æ•°å°±ä¸å›ºå®šäº†ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°å’Œ apply æ˜¯ä¸€æ ·çš„ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹å¾€åï¼Œæ¯ä¸ªå‚æ•°è¢«ä¾æ¬¡ä¼ å…¥å‡½æ•°ã€‚ 12345var func = function( a, b, c ) &#123; console.log( [a, b, c] ); &#125;;func.apply( null, [1, 2, 3] ); // [1, 2, 3]func.call( null, 1, 2, 3 ); // [1, 2, 3] å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼ŒJavaScript çš„è§£é‡Šå™¨å¹¶ä¸ä¼šè®¡è¾ƒå½¢å‚å’Œå®å‚åœ¨æ•°é‡ã€ç±»å‹å’Œé¡ºåºä¸Šçš„åŒºåˆ«ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼Œapply æ¯” call çš„ä½¿ç”¨ç‡æ›´é«˜ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬æ˜ç¡®æŒ‡å®šå‚æ•°çš„ä¸ªæ•°ï¼Œä¹Ÿå¯ä»¥ç”¨ call æ¥ä¼ é€å‚æ•°ã€‚ å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ `null`ï¼Œé‚£ä¹ˆå‡½æ•°ä½“å†…çš„ `this` ä¼šæŒ‡å‘é»˜è®¤çš„å®¿ä¸»å¯¹è±¡ï¼Œåœ¨æµè§ˆå™¨ä¸­æ˜¯ `window`ï¼Œä½†å¦‚æœæ˜¯åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ™è¿˜æ˜¯ä¸º `null` callå’Œapplyçš„ç”¨é€” æ”¹å˜ this æŒ‡å‘ call å’Œ apply æœ€å¸¸è§çš„ç”¨é€”æ˜¯æ”¹å˜å‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘ï¼š 123456789window.name = &#x27;bubuzou&#x27;;var obj = &#123; name: &#x27;bubuzou.com&#x27;&#125;;var getName = function() &#123; console.log( this.name );&#125;;getName(); // &#x27;bubuzou&#x27;getName.apply( obj ); // &#x27;bubuzou.com&#x27; Function.prototype.bind å¤§éƒ¨åˆ†é«˜çº§çš„æµè§ˆå™¨éƒ½å®ç°å†…ç½®çš„ Function.prototype.bind ï¼Œç”¨æ¥æŒ‡å®šå‡½æ•°å†…éƒ¨çš„ this æŒ‡å‘ï¼Œå³ä½¿æ²¡æœ‰åŸç”Ÿçš„Function.prototype.bind å®ç°ï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿå®ç°ä¸€ä¸ªä¹Ÿä¸æ˜¯éš¾äº‹ï¼š 12345678910111213Function.prototype.bind = function( context ) &#123; var self = this; return function() &#123; return self.apply( context, arguments ); &#125;&#125;;var obj = &#123; name: &#x27;bubuzou.com&#x27; &#125;;var func = function() &#123; console.log( this.name );&#125;.bind( obj );func(); // &#x27;bubuzou.com&#x27; è¿™æ˜¯ä¸€ä¸ªç®€åŒ–ç‰ˆçš„å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¾—æ›´å¤æ‚ä¸€ç‚¹ï¼Œä½¿å¾—å¯ä»¥å¾€ func å‡½æ•°ä¸­é¢„å…ˆå¡«å…¥ä¸€äº›å‚æ•°ï¼š 12345678910111213141516Function.prototype.bind = function() &#123; var self = this, context = [].shift.call( arguments ), args = [].slice.call( arguments ); return function() &#123; return self.apply( context, [].concat.call( args, [].slice.call( arguments ))); &#125;&#125;;var obj = &#123; name: &#x27;bubuzou.com&#x27;&#125;;var func = function( a, b, c, d ) &#123; console.log( this.name ); // &#x27;bubuzou.com&#x27; console.log( [a, b, c, d] ); // [1, 2, 3, 4]&#125;.bind(obj, 1, 2);func(3, 4); å€Ÿç”¨å…¶ä»–å¯¹è±¡çš„æ–¹æ³• æˆ‘ä»¬çŸ¥é“ï¼Œæœé¹ƒæ—¢ä¸ä¼šç­‘å·¢ï¼Œä¹Ÿä¸ä¼šå­µé›ï¼Œè€Œæ˜¯æŠŠè‡ªå·±çš„è›‹å¯„æ‰˜ç»™äº‘é›€ç­‰å…¶ä»–é¸Ÿç±»ï¼Œè®©ä»–ä»¬ä»£ä¸ºå­µåŒ–å’Œå…»è‚²ã€‚åŒæ ·ï¼Œåœ¨JavaScriptä¸­ä¹Ÿå­˜åœ¨ç±»ä¼¼çš„å€Ÿç”¨ç°è±¡ã€‚å€Ÿç”¨çš„ç¬¬ä¸€ç§åœºæ™¯æ˜¯â€œå€Ÿç”¨æ„é€ å‡½æ•°â€ï¼Œé€šè¿‡è¿™ç§æŠ€æœ¯ï¼Œå¯ä»¥å®ç°ä¸€äº›ç±»ä¼¼ç»§æ‰¿çš„æ•ˆæœï¼š 1234567891011var A = function( name ) &#123; this.name = name;&#125;;var B = function() &#123; A.apply( this, arguments );&#125;;B.prototype.getName = function() &#123; return this.name;&#125;;var b = new B( &#x27;bubuzou.com&#x27; );console.log( b.getName() ); // &#x27;bubuzou.com&#x27; å€Ÿç”¨æ–¹æ³•çš„ç¬¬äºŒç§è¿ç”¨åœºæ™¯è·Ÿæˆ‘ä»¬çš„å…³ç³»æ›´åŠ å¯†åˆ‡ã€‚å‡½æ•°çš„å‚æ•°åˆ—è¡¨ arguments æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼Œæ‰€ä»¥ä¸èƒ½åƒæ•°ç»„ä¸€æ ·ï¼Œè¿›è¡Œæ’åºæ“ä½œæˆ–å¾€é›†åˆé‡Œæ·»åŠ ä¸€ä¸ªæ–°çš„å…ƒç´ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šå€Ÿç”¨ Array.prototype å¯¹è±¡ä¸Šçš„æ–¹æ³•ã€‚æ¯”å¦‚åƒå¾€arguments é‡Œæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼š 1234(function() &#123; Array.prototype.push.call( arguments, 3); console.log( arguments ); // [1, 2, 3]&#125;)(1, 2); å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­: 1234var a = &#123;&#125;;Array.prototype.push.call( a, &#x27;first&#x27; );console.log( a.length ); // 1console.log( a[0] ); // &#x27;first&#x27; ä¸Šé¢è¿™æ®µä»£ç åœ¨ä½ç‰ˆæœ¬IEæµè§ˆå™¨ä¸­æ‰§è¡Œçš„æ—¶å€™ï¼Œå¿…é¡»æ˜¾å¼åœ°ç»™å¯¹è±¡aè®¾ç½®lengthå±æ€§: 123var a = &#123; length: 0&#125;; ç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥ä¼ å…¥Array.prototype.pushï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹2ä¸ªæ¡ä»¶: å¯¹è±¡æœ¬èº«å¯ä»¥å­˜å–å±æ€§ å¦‚æœä¸æ˜¯ä¸€ä¸ª object ç±»å‹çš„å¯¹è±¡è€Œæ˜¯ number ç±»å‹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¼šæ€ä¹ˆæ ·ï¼š 1234var a = 1;Array.prototype.push.call( a, &#x27;first&#x27; );console.log( a.length ); // undefinedconsole.log( a[0] ); // undefined å¯¹è±¡çš„ length å±æ€§å¯ä»¥è¯»å†™ å‡½æ•°çš„ length å°±æ˜¯åªæœ‰ä¸€ä¸ªåªè¯»çš„å±æ€§ï¼Œè¡¨ç¤ºå½¢å‚çš„ä¸ªæ•°ï¼Œæˆ‘ä»¬å°è¯•æŠŠä¸€ä¸ªå‡½æ•°å½“åš this ä¼ å…¥Array.prototype.push: 123var func = function()&#123;&#125;;Array.prototype.push.call( func, &#x27;first&#x27; );console.log( func.length ); // æŠ¥é”™ï¼šCannot assign to read only property &#x27;length&#x27; of function","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"æ•°ç»„","slug":"js-array","date":"2016-11-17T09:29:04.000Z","updated":"2019-03-29T01:20:52.341Z","comments":true,"path":"2016/11/17/js-array/","link":"","permalink":"https://bubuzou.com/2016/11/17/js-array/","excerpt":"æ•°ç»„å­—é¢é‡æ•°ç»„å­—é¢é‡æä¾›äº†ä¸€ç§éå¸¸æ–¹ä¾¿çš„åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ã€‚ä¸€ä¸ªæ•°ç»„è¡¨è¾¾å¼æ˜¯åœ¨ä¸€å¯¹æ–¹æ‹¬å·å†…åŒ…å›´é›¶ä¸ªæˆ–å¤šä¸ªç”¨é€—å·åˆ†éš”çš„å€¼çš„è¡¨è¾¾å¼ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼çš„å±æ€§åæ˜¯ 0ã€‚ 123456var empty = [];var numbers = [&#x27;zero&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;, &#x27;five&#x27;, &#x27;six&#x27;, &#x27;seven&#x27;];empty[1]; // undefinednumbers[1]; // &#x27;one&#x27;empty.length; // 0numbers.length; // 8 åœ¨å¤§å¤šæ•°è¯­è¨€ä¸­ï¼Œä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½è¦æ±‚æ˜¯ç›¸åŒçš„ç±»å‹ã€‚js å…è®¸æ•°ç»„åŒ…å«ä»»æ„æ··åˆç±»å‹çš„å€¼ï¼š 12var misc = [&#x27;string&#x27;, 98.6, true, false, null];misc.length; // 5","text":"æ•°ç»„å­—é¢é‡æ•°ç»„å­—é¢é‡æä¾›äº†ä¸€ç§éå¸¸æ–¹ä¾¿çš„åˆ›å»ºæ•°ç»„çš„æ–¹æ³•ã€‚ä¸€ä¸ªæ•°ç»„è¡¨è¾¾å¼æ˜¯åœ¨ä¸€å¯¹æ–¹æ‹¬å·å†…åŒ…å›´é›¶ä¸ªæˆ–å¤šä¸ªç”¨é€—å·åˆ†éš”çš„å€¼çš„è¡¨è¾¾å¼ã€‚æ•°ç»„çš„ç¬¬ä¸€ä¸ªå€¼çš„å±æ€§åæ˜¯ 0ã€‚ 123456var empty = [];var numbers = [&#x27;zero&#x27;, &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, &#x27;four&#x27;, &#x27;five&#x27;, &#x27;six&#x27;, &#x27;seven&#x27;];empty[1]; // undefinednumbers[1]; // &#x27;one&#x27;empty.length; // 0numbers.length; // 8 åœ¨å¤§å¤šæ•°è¯­è¨€ä¸­ï¼Œä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½è¦æ±‚æ˜¯ç›¸åŒçš„ç±»å‹ã€‚js å…è®¸æ•°ç»„åŒ…å«ä»»æ„æ··åˆç±»å‹çš„å€¼ï¼š 12var misc = [&#x27;string&#x27;, 98.6, true, false, null];misc.length; // 5 é•¿åº¦æ¯ä¸ªæ•°ç»„éƒ½æœ‰ä¸€ä¸ª length å±æ€§ã€‚å’Œå¤§å¤šæ•°çš„è¯­è¨€ä¸åŒï¼Œjs ä¸­æ•°ç»„çš„ length æ˜¯æ²¡æœ‰ä¸Šé™çš„ã€‚å¦‚æœç”¨å¤§äºæˆ–ç­‰äº length çš„æ•°å­—ä½œä¸ºä¸‹æ ‡æ¥å­˜å‚¨ä¸€ä¸ªå…ƒç´ ï¼Œé‚£ä¹ˆ length çš„å€¼ä¼šè¢«å¢å¤§ä»¥ä¾¿å®¹çº³æ–°çš„å€¼ï¼Œä¸ä¼šå‘ç”Ÿæ•°ç»„è¶Šç•Œçš„é”™è¯¯ã€‚å¯ä»¥ç›´æ¥è®¾ç½® length çš„å€¼ï¼Œå¦‚æœ length å¤§äºå½“å‰çš„ length å€¼ï¼Œåˆ™æ›´å¤§çš„é‚£äº›ä¸‹æ ‡çš„å€¼éƒ½æ˜¯ undefinedï¼›å¦‚æœæ›´å°ï¼Œé‚£ä¹ˆå°†ä¼šæŠŠæ‰€æœ‰ä¸‹æ ‡å¤§äºç­‰äºæ–° length çš„å±æ€§ç»™åˆ é™¤ã€‚é€šè¿‡æŠŠä¸‹æ ‡æŒ‡å®šä¸ºä¸€ä¸ªæ•°ç»„çš„å½“å‰ lengthï¼Œå¯ä»¥é™„åŠ ä¸€ä¸ªæ–°å…ƒç´ åˆ°è¯¥æ•°ç»„çš„æœ«å°¾ã€‚ 1234567var arr = [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;];arr.length; // 3arr.length = 6;arr; // [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;, undefined, undefined, undefined]arr.length = 2;arr; // [&#x27;one&#x27;, &#x27;two&#x27;]arr[arr.length] = &#x27;last&#x27;; // [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;last&#x27;]; åˆ é™¤ç”±äº js çš„æ•°ç»„å…¶å®å°±æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ delete è¿ç®—ç¬¦å¯ä»¥åˆ é™¤æ•°ç»„çš„å…ƒç´ ï¼š 123var arr = [&#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;];delete arr[1]; arr; // [&#x27;one&#x27;, undefined, &#x27;three&#x27;] é—æ†¾çš„æ˜¯åˆ é™¤åçš„æ•°ç»„ç›´æ¥ç•™äº†ä¸€ä¸ªç©ºä½å€¼æ˜¯ undefinedï¼Œå¹¸è¿çš„æ˜¯å¯ä»¥é€šè¿‡æ•°ç»„çš„ splice æ–¹æ³•æ¥è¿›è¡Œè°ƒæ•´ã€‚splice æ–¹æ³•æ¥å— 2 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°ç»„çš„åºå·ï¼Œç¬¬äºŒä¸ªæ˜¯åˆ é™¤çš„å…ƒç´ ä¸ªæ•°ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„åŒ…å«äº†æ‰€æœ‰çš„åˆ é™¤å…ƒç´ ã€‚ 12arr.splice(1, 1); // [undefined]arr; // [&#x27;one&#x27;, &#x27;three&#x27;] æšä¸¾å› ä¸º js æ•°ç»„å…¶å®å°±æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ for in è¯­å¥å¯ä»¥ç”¨æ¥éå†ä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰å±æ€§ã€‚ä½†æ˜¯ç”¨ for inè¯­å¥æ— æ³•ä¿è¯é¡ºåºã€‚æ‰€ä»¥éå†è¿˜æ˜¯ç”¨å¸¸è§„çš„ for å¾ªç¯ 1234var numbers = [1, 2, 3, 4, 5];for ( var i = 0, l = numbers.length; i &lt; l; i++ ) &#123; console.log( numbers[i] ); // 1, 2, 3, 4, 5&#125; åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„1typeof [1, 2, 3]; // &#x27;object&#x27; js æœ¬èº«å¯¹äºæ•°ç»„å’Œå¯¹è±¡çš„åŒºåˆ«æ˜¯æ··ä¹±çš„ã€‚typeof è¿ç®—ç¬¦æŠ¥å‘Šæ•°ç»„çš„ç±»å‹æ˜¯ objectï¼Œæ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚js æ²¡æœ‰ä¸€ä¸ªå¥½çš„æœºåˆ¶æ¥åŒºåˆ«æ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥è‡ªå·±å®ç°ä¸€ä¸ª is_array å‡½æ•°æ¥å¼¥è¡¥è¿™ä¸ªç¼ºé™·ï¼š 12345var isArray = function( obj ) &#123; return obj &amp;&amp; typeof obj === &#x27;object&#x27; &amp;&amp; obj.constructor === Array;&#125;; ä¸Šé¢è¿™ä¸ªåˆ¤æ–­åŸºæœ¬åœ¨å¸¸è§„é¡µé¢å°±èƒ½å¾ˆå¥½çš„åŒºåˆ†å‡ºæ•°ç»„è¿˜æ˜¯å¯¹è±¡äº†ã€‚ä½†æ˜¯ä¹Ÿæœ‰ç‰¹ä¾‹ï¼Œæ¯”å¦‚åœ¨ä¸åŒçš„çª—å£(window)æˆ–å¸§(frame)å°±ä¼šå¤±è´¥ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªæ›¿æ¢ï¼š 123var isArray = function( obj ) &#123; return Object.prototype.toString.apply( obj ) === &#x27;[object Array]&#x27;;&#125;; åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦æ˜¯æ•°ç»„ï¼Œè¿˜å¯ä»¥ç”¨åŸå‹é“¾çš„æ–¹æ³•ï¼š 123var isArray = function( obj ) &#123; return obj.__prototype__ === Array.prototype;&#125; æ–¹æ³• array.concat(item1[, item2, item2, ...]) concat äº§ç”Ÿä¸€ä¸ªæ–°æ•°ç»„ï¼Œå‚æ•° item å¯ä»¥æ˜¯ä¸€ä¸ªä»»æ„ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¦‚æœæ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«æ·»åŠ åˆ°æ–°æ•°ç»„é‡Œã€‚ 123var a = [&#x27;a&#x27;,&#x27;b&#x27;];var b = [&#x27;x&#x27;,&#x27;y&#x27;];a.concat(b, true); // [&quot;a&quot;, &quot;b&quot;, &quot;x&quot;, &quot;y&quot;, true] array.join(separator) join æ–¹æ³•æŠŠ array ä¸­çš„æ¯ä¸ªå…ƒç´ æ„é€ æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¥ç€ç”¨ä¸€ä¸ª separator åˆ†éš”ç¬¦æŠŠå®ƒä»¬è¿æ¥åœ¨ä¸€èµ·ã€‚é»˜è®¤çš„separator æ˜¯é€—å·,ã€‚æƒ³è¦æ— é—´éš”çš„è¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ã€‚ 123var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];a.join(); // &#x27;a,b,c&#x27;a.join(&#x27;&#x27;); // &#x27;abc&#x27; å¦‚æœæƒ³æŠŠå¤§é‡çš„å­—ç¬¦ä¸²ç‰‡æ®µç»„è£…æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨ `+` å…ƒç´ è¿ç®—ç¬¦è¿æ¥è¿™äº›ç‰‡æ®µä¼šæ¯”æŠŠè¿™äº›ç‰‡æ®µæ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­å¹¶ä¸”ç”¨ `join` è¿æ¥èµ·æ¥æ›´å¿«ã€‚ array.pop() pop æ–¹æ³•ç§»é™¤æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿”å›è¯¥å…ƒç´ ã€‚å¦‚æœ array æ˜¯ç©ºå€¼ï¼Œåˆ™ä¼šè¿”å› undefined 123456var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];a.pop(); // &#x27;c&#x27;// popå¯ä»¥è¿™æ ·å®ç°ï¼šArray.method(&#x27;pop&#x27;, function() &#123; return this.splice( this.length - 1, 1 )[0];&#125;); array.push(item1[, item2, ...]) push æ–¹æ³•æŠŠä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°é™„åŠ åˆ°ä¸€ä¸ªæ•°ç»„çš„å°¾éƒ¨ã€‚å‚æ•°å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯æ•°ç»„ã€‚å¦‚æœæ˜¯æ•°ç»„ï¼Œå®ƒä¼šæŠŠå‚æ•°æ•°ç»„ä½œä¸ºè¿™ä¸ªå…ƒç´ æ·»åŠ åˆ°æ•°ç»„ä¸­ã€‚è¿”å›ä¿®æ”¹åçš„æ•°ç»„é•¿åº¦ã€‚ 12345678910111213var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var b = [&#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;];var c = a.push(b, true);// a: [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, [&#x27;x&#x27;, &#x27;y&#x27;, &#x27;z&#x27;], true]// c: 5// pushå¯ä»¥è¿™æ ·å®ç°ï¼šArray.method(&#x27;push&#x27;, function() &#123; this.splice.apply( this, [this.length, 0]. concat(Array.prototype.slice.apply(arguments))); return this.length;&#125;); array.reverse() reverse æ–¹æ³•åè½¬ array é‡Œçš„å…ƒç´ çš„é¡ºåºï¼Œå¹¶è¿”å› array æœ¬èº«ã€‚ 12var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var b = a.reverse(); // aå’Œbéƒ½æ˜¯[&#x27;c&#x27;, &#x27;b&#x27;, &#x27;a&#x27;] array.shift() shift æ–¹æ³•ç§»é™¤æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”è¿”å›è¿™ä¸ªå…ƒç´ ã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œåˆ™è¿”å› undefinedã€‚ shift é€šå¸¸æ¯” pop æ…¢å¾—å¤šã€‚ 123456var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var b = a.shift(); // a: [&#x27;b&#x27;, &#x27;c&#x27;], b: &#x27;a&#x27;// shiftå®ç°Array.method(&#x27;shift&#x27;, function() &#123; return this.splice(0, 1)[0];&#125;); array.slice(start, end) slice æ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œä¸€æ®µæµ…å¤åˆ¶ã€‚å¤åˆ¶ä»ä¸‹æ ‡ start åˆ° end ç»“æŸã€‚end ä¸‹æ ‡é»˜è®¤æ˜¯ array.length ã€‚å¦‚æœä¸¤ä¸ªå‚æ•°ä»»æ„ä¸€ä¸ªæ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆ end æ•°å€¼ä¼šæ˜¯å’Œ array.length ç›¸åŠ ä¹‹åçš„å€¼ã€‚å¦‚æœ start å¤§äºarray.lengthï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚ 1234var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var b = a.slice(0, 1); // [&#x27;a&#x27;]var c = a.slice(1); // [&#x27;b&#x27;, &#x27;c&#x27;]var d = a.slice(-1); // [&#x27;c&#x27;] array.sort(comparefn) sort æ–¹æ³•å¯¹ array é‡Œçš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ’åºï¼Œé»˜è®¤çš„æ¯”è¾ƒå‡½æ•°æ˜¯æŠŠè¢«æ’åºçš„å…ƒç´ éƒ½è§†ä¸ºå­—ç¬¦ä¸²ã€‚æ‰€ä»¥å®ƒä¸èƒ½æ­£ç¡®åœ°ç»™ä¸€ç»„æ•°å­—è¿›è¡Œæ’åºï¼š 12var n = [4, 8, 15, 16, 23, 42];n.sort(); // [15, 16, 23, 4, 42, 8] å¹¸è¿çš„æ˜¯ä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„æ¯”è¾ƒå‡½æ•°æ¥ä½¿å¾—ä¸€ç»„æ•°å­—èƒ½æ­£å¸¸æ’åºï¼Œæ¯”è¾ƒå‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œå¦‚æœä»–ä»¬ç›¸ç­‰ï¼Œåˆ™è¿”å›0ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°åº”è¯¥æ’åºåœ¨å‰é¢ï¼Œåˆ™è¿”å›è´Ÿæ•°ï¼Œå¦‚æœç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ’åœ¨å‰é¢ï¼Œåˆ™è¿”å›ä¸€ä¸ªæ­£æ•°ã€‚ 123n.sort(function(a, b) &#123; return a - b;&#125;); // [4, 8, 15, 16, 23, 42] å¦‚æœæƒ³ç»™åŒ…å«ä»»ä½•ç®€å•å€¼çš„æ•°ç»„è¿›è¡Œæ’åºï¼Œå¯ä»¥è¿™æ ·ï¼š 12345678910var m = [&#x27;aa&#x27;, &#x27;bb&#x27;, &#x27;a&#x27;, 5, 3, 10];m.sort(function(a, b) &#123; if (a === b) &#123; return 0; &#125; if (typeof a === typeof b) &#123; return a &lt; b ? -1 : 1; &#125; return typeof a &lt; typeof b ? -1 : 1;&#125;); // [3, 5, 10, &#x27;a&#x27;, &#x27;aa&#x27;, &#x27;bb&#x27;] array.splice(start, deleteCount, item...) splice æ–¹æ³•ä» array ä¸­ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ ï¼Œå¹¶ç”¨æ–°çš„ item æ›¿æ¢å®ƒä»¬ã€‚start æ˜¯ç§»é™¤å…ƒç´ çš„èµ·å§‹ä½ç½®ï¼ŒdeleteCount æ˜¯ç§»é™¤ä¸ªæ•°ã€‚å¦‚æœæœ‰é¢å¤–çš„å‚æ•°ï¼Œåˆ™ item ä¼šæ’å…¥åˆ°è¢«ç§»é™¤çš„å…ƒç´ çš„ä½ç½®ä¸Šã€‚è¿”å›ä¸€ä¸ªåŒ…å«è¢«ç§»é™¤å…ƒç´ çš„æ•°ç»„ã€‚ 12var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var r = a.splice(1, 1, &#x27;ache&#x27;, &#x27;bug&#x27;); // a: [&#x27;a&#x27;, &#x27;ache&#x27;, &#x27;bug&#x27;, &#x27;c&#x27;], r: [&#x27;b&#x27;] array.unshift(item...) unshift æ–¹æ³•æ˜¯æŠŠ item æ’å…¥åˆ°æ•°ç»„çš„å¼€å§‹éƒ¨åˆ†ã€‚è¿”å›æ–°æ•°ç»„çš„ lengthã€‚ 12var a = [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;];var r = a.unshift(&#x27;#&#x27;, &#x27;$&#x27;); // a: [&#x27;#&#x27;, &#x27;$&#x27;, &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;], r: 5","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"}]},{"title":"æ­£åˆ™è¡¨è¾¾å¼ç†è®ºç¯‡","slug":"regexp-concept","date":"2016-11-04T02:09:04.000Z","updated":"2018-12-29T01:57:44.175Z","comments":true,"path":"2016/11/04/regexp-concept/","link":"","permalink":"https://bubuzou.com/2016/11/04/regexp-concept/","excerpt":"å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥åŒ¹é…URLçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ 1234567var url = &quot;http://bubuzou.com:80/goodparts?q#fragment&quot;;var parse_url = /^(?:([A-Za-z]+):)?(\\/&#123;0,3&#125;)([0-9.\\-A-Z-a-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/;console.log( parse_url.exec( url ) );/*ä¸Šé¢è¿™æ®µä»£ç äº§ç”Ÿçš„ç»“æœå¦‚ä¸‹ï¼š[&quot;http://bubuzou.com:80/goodparts?q#fragment&quot;, &quot;http&quot;, &quot;//&quot;, &quot;bubuzou.com&quot;, &quot;80&quot;, &quot;goodparts&quot;, &quot;q&quot;, &quot;fragment&quot;]*/","text":"å…ˆæ¥çœ‹ä¸€ä¸ªä¾‹å­è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼Œç”¨æ¥åŒ¹é…URLçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ 1234567var url = &quot;http://bubuzou.com:80/goodparts?q#fragment&quot;;var parse_url = /^(?:([A-Za-z]+):)?(\\/&#123;0,3&#125;)([0-9.\\-A-Z-a-z]+)(?::(\\d+))?(?:\\/([^?#]*))?(?:\\?([^#]*))?(?:#(.*))?$/;console.log( parse_url.exec( url ) );/*ä¸Šé¢è¿™æ®µä»£ç äº§ç”Ÿçš„ç»“æœå¦‚ä¸‹ï¼š[&quot;http://bubuzou.com:80/goodparts?q#fragment&quot;, &quot;http&quot;, &quot;//&quot;, &quot;bubuzou.com&quot;, &quot;80&quot;, &quot;goodparts&quot;, &quot;q&quot;, &quot;fragment&quot;]*/ ç°åœ¨è®©æˆ‘ä»¬æ¥åˆ†è§£parse_urlçš„å„ä¸ªéƒ¨åˆ†ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š ^ å­—ç¬¦è¡¨ç¤ºå­—ç¬¦ä¸²çš„å¼€å§‹ (?:([A-Za-z]+):)?è¿™ä¸ªå› å­åŒ¹é…ä¸€ä¸ªåè®®åï¼Œä½†æ˜¯åªæœ‰å½“å®ƒåé¢è·Ÿéš:çš„æ—¶å€™æ‰åŒ¹é…ã€‚(?:...) è¡¨ç¤ºä¸€ä¸ªéæ•è·å‹çš„åˆ†ç»„ã€‚åç¼€ ? è¡¨ç¤ºè¿™ä¸ªåˆ†ç»„æ˜¯å¯é€‰çš„ï¼Œè¡¨ç¤ºåŒ¹é… 0 æ¬¡æˆ–è€… 1 æ¬¡ã€‚(...) è¡¨ç¤ºä¸€ä¸ªæ•è·å‹åˆ†ç»„ã€‚ä¸€ä¸ªæ•è·å‹åˆ†ç»„ä¼šå¤åˆ¶å®ƒæ‰€åŒ¹é…çš„æ–‡æœ¬ï¼Œå¹¶ä¸”å°†å…¶æ”¾åˆ° result æ•°ç»„é‡Œã€‚æ¯ä¸ªæ•è·å‹åˆ†ç»„ä¼šè¢«æŒ‡å®šä¸€ä¸ªç¼–å·ã€‚ç¬¬ä¸€ä¸ªæ•è·å‹åˆ†ç»„çš„ç¼–å·æ˜¯ 1ï¼Œæ‰€ä»¥è¯¥åˆ†ç»„æ‰€åŒ¹é…çš„ç»“æœä¼šå‡ºç°åœ¨ result[1] ä¸­ã€‚[...] è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ç±»ã€‚A-Za-z è¿™ä¸ªå­—ç¬¦ç±»åŒ…å« 26 ä¸ªå¤§å†™å­—æ¯å’Œ 26 ä¸ªå°å†™å­—æ¯ã€‚+ è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦ç±»ä¼šè¢«åŒ¹é… 1 æ¬¡æˆ–å¤šæ¬¡ã€‚: ä¼šæŒ‰ç…§å­—é¢è¿›è¡ŒåŒ¹é…ã€‚ (\\/&#123;0,3&#125;) è¿™ä¸ªå› å­æ˜¯æ•è·åˆ†ç»„ 2 ã€‚\\/ è¡¨ç¤ºåŒ¹é… / ï¼ˆæ–œæ ï¼‰ï¼Œå®ƒç”¨ \\ æ¥è¿›è¡Œè½¬ä¹‰ã€‚&#123;0,3&#125; è¡¨ç¤ºä¼šè¢«åŒ¹é…0-3 æ¬¡ ([0-9.\\-A-Z-a-z]+) è¿™ä¸ªå› å­æ˜¯æ•è·åˆ†ç»„ 3 ã€‚å®ƒä¼šåŒ¹é…ä¸€ä¸ªä¸»æœºåï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ã€å­—æ¯ï¼Œä»¥åŠ . æˆ–-ç»„æˆã€‚ (?::(\\d+))? è¿™ä¸ªå› å­åŒ¹é…çš„æ˜¯ç«¯å£å·ã€‚(\\d+) æ˜¯æ•è·åˆ†ç»„ 4ï¼Œè¡¨ç¤ºåŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—ã€‚ (?:\\/([^?#]*))? æ˜¯ä¸€ä¸ªå¯é€‰çš„åˆ†ç»„ï¼Œä»¥ä¸€ä¸ª / å¼€å§‹ã€‚[^?#] æ˜¯æ•è·åˆ†ç»„ 5 ï¼Œä»¥ä¸€ä¸ª ^ å¼€å§‹è¡¨ç¤ºè¿™ä¸ªç±»åŒ…å«é™¤ ? å’Œ # ä¹‹å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚ * è¡¨ç¤ºåŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡ã€‚ (?:\\?([^#]*))? æ˜¯ä¸€ä¸ªä»¥ ? å¼€å§‹çš„åˆ†ç»„ã€‚åŒ…å«æ•è·åˆ†ç»„ 6ï¼Œè¿™ä¸ªåˆ†ç»„åŒ…å« 0 ä¸ªæˆ–å¤šä¸ªé # çš„å­—ç¬¦ (?:#(.*))? è¿™ä¸ªå¯é€‰åˆ†ç»„æ˜¯ä»¥ # å¼€å§‹çš„ï¼Œ. ä¼šåŒ¹é…é™¤äº†è¡Œç»“æŸç¬¦ä»¥å¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚ $ è¡¨ç¤ºå­—ç¬¦ä¸²çš„ç»“æŸ æ‰€è°“æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±æ˜¯ä¸€ç§æè¿°å­—ç¬¦ä¸²ç»“æ„æ¨¡å¼çš„å½¢å¼åŒ–è¡¨è¾¾æ–¹æ³•ã€‚ è¿™æ˜¯ã€Šç²¾é€šæ­£åˆ™è¡¨è¾¾å¼ã€‹å¯¹å®ƒçš„å®šä¹‰ã€‚æ­£åˆ™è¡¨è¾¾å¼åˆå«åšè§„åˆ™è¡¨è¾¾å¼(Regular Expressionï¼Œç®€å†™regexp).æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹å­—ç¬¦ä¸²æ“ä½œçš„ä¸€ç§é€»è¾‘å…¬å¼ï¼Œå°±æ˜¯ç”¨äº‹å…ˆå®šä¹‰å¥½çš„ä¸€äº›ç‰¹å®šå­—ç¬¦ã€åŠè¿™äº›ç‰¹å®šå­—ç¬¦çš„ç»„åˆï¼Œç»„æˆä¸€ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ï¼Œè¿™ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ç”¨æ¥è¡¨è¾¾å¯¹å­—ç¬¦ä¸²çš„ä¸€ç§è¿‡æ»¤é€»è¾‘ã€‚ æ­£åˆ™è¡¨è¾¾å¼èƒ½å¹²å˜› æµ‹è¯•å­—ç¬¦ä¸²æ˜¯å¦æ»¡è¶³æŸç§æ¨¡å¼ã€‚æ¯”å¦‚å­—ç¬¦ä¸²å†…æ˜¯å¦å‡ºç°ç”µè¯å·ç æ¨¡å¼ï¼Œåˆç§°ä¸ºæ•°æ®éªŒè¯ã€‚ æ›¿æ¢æ–‡æœ¬ã€‚å¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥è¯†åˆ«å­—ç¬¦ä¸²ä¸­çš„ç‰¹å®šæ–‡æœ¬ï¼Œå®Œå…¨åˆ é™¤æˆ–è€…ç”¨å…¶ä»–æ–‡æœ¬æ›¿æ¢å®ƒã€‚ æå–å­—ç¬¦ä¸²ã€‚åŸºæœ¬åŒ¹é…æ¨¡å¼ä»å­—ç¬¦ä¸²ä¸­æå–éœ€è¦çš„å­å­—ç¬¦ä¸²ã€‚ æ­£åˆ™è¡¨è¾¾å¼å·²ç»åœ¨å¾ˆå¤šè½¯ä»¶ä¸­å¾—åˆ°å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒ…æ‹¬ `*nix(Linux, Unixç­‰)`ï¼Œ`HP` ç­‰æ“ä½œç³»ç»Ÿï¼Œ`PHP`ã€`C#`ã€`Java`ç­‰å¼€å‘ç¯å¢ƒï¼Œä»¥åŠå¾ˆå¤šçš„åº”ç”¨è½¯ä»¶ä¸­ï¼Œéƒ½å¯ä»¥çœ‹åˆ°æ­£åˆ™è¡¨è¾¾å¼çš„å½±å­ã€‚ æ­£åˆ™è¡¨è¾¾å¼ç»“æ„ä¼˜å…ˆè€ƒè™‘çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å­—é¢é‡ï¼š 1var patt = /pattern/modifiers; å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨RegExpæ„é€ å™¨ï¼š 1var patt = new RegExp(pattern, modifiers); patternï¼ˆæ¨¡å¼ï¼‰ æè¿°äº†è¡¨è¾¾å¼çš„æ¨¡å¼ modifiersï¼ˆä¿®é¥°ç¬¦ï¼‰ ç”¨äºæŒ‡å®šå…¨å±€åŒ¹é…ã€åŒºåˆ†å¤§å°å†™çš„åŒ¹é…å’Œå¤šè¡ŒåŒ¹é… ä¿®é¥°ç¬¦modifiersï¼š ä¿®é¥°ç¬¦ æè¿° i æ‰§è¡Œå¯¹å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é… g æ‰§è¡Œå…¨å±€åŒ¹é… m æ‰§è¡Œå¤šè¡ŒåŒ¹é… 123var patt = /hello/ig;var str = &#x27;Hello world!&#x27;;patt.exec( str ); // å°†ä¼šåŒ¹é…&#x27;Hello&#x27; æ­£åˆ™è¡¨è¾¾å› å­ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼å› å­å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ã€ä¸€ä¸ªåœ†æ‹¬å·åŒ…å›´çš„ç»„ã€ä¸€ä¸ªå­—ç¬¦ç±»æˆ–è€…æ˜¯ä¸€ä¸ªè½¬ä¹‰åºåˆ—ã€‚ä¸‹é¢è¿™äº›å­—ç¬¦éƒ½ä¼šæŒ‰ç…§å­—é¢è¿›è¡Œå¤„ç†\\ / [ ] ( ) &#123; &#125; ? + * | . ^ $å¦‚æœä½ å¸Œæœ›è¿™äº›å­—ç¬¦æŒ‰ç…§å­—é¢æ„æ€å»åŒ¹é…ï¼Œé‚£éœ€è¦åœ¨å…¶å‰é¢åŠ ä¸Š\\è¿›è¡Œè½¬ä¹‰ã€‚ 123var patt = /\\.\\d+/;var str = &#x27;-12.568&#x27;;patt.exec( str ); // åŒ¹é…&#x27;.568&#x27; æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦: ç‰¹æ®Šå­—ç¬¦ æè¿° ^ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²å¼€å§‹å¤„çš„ä½ç½®ï¼›ä½†åœ¨ä¸­æ‹¬å·è¡¨è¾¾å¼ä¸­æ˜¯è¡¨ç¤ºå¯¹å­—ç¬¦é›†æ±‚åã€‚è‹¥è¦åŒ¹é… ^ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ \\^ã€‚ $ åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²ç»“å°¾çš„ä½ç½®ã€‚å¦‚æœè®¾ç½®äº† RegExp å¯¹è±¡çš„ Multiline å±æ€§ï¼Œé‚£ä¹ˆ $ è¿˜åŒ¹é… \\n æˆ– \\r å‰é¢çš„ä½ç½®ã€‚è‹¥è¦åŒ¹é… $ å­—ç¬¦æœ¬èº«ï¼Œè¯·ä½¿ç”¨ \\$ã€‚ () æ ‡è®°å­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸã€‚å¯ä»¥æ•è·å­è¡¨è¾¾å¼ä»¥ä¾›ä»¥åä½¿ç”¨ã€‚è‹¥è¦åŒ¹é…è¿™ä¸¤ä¸ªå­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\( å’Œ \\)ã€‚ * é›¶æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚è‹¥è¦åŒ¹é… * å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\*ã€‚ + ä¸€æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚è‹¥è¦åŒ¹é… + å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\+ã€‚ ? é›¶æ¬¡æˆ–ä¸€æ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ï¼Œæˆ–æŒ‡ç¤ºâ€œéè´ªå¿ƒâ€é™å®šç¬¦ã€‚è‹¥è¦åŒ¹é… ? å­—ç¬¦ï¼Œè¯·ä½¿ç”¨\\?ã€‚ . åŒ¹é…é™¤æ¢è¡Œç¬¦ \\n ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦ã€‚è‹¥è¦åŒ¹é… . è¯·ä½¿ç”¨ \\ã€‚ [] æ ‡è®°ä¸­æ‹¬å·è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è‹¥è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\[ å’Œ\\]ã€‚ \\ å°†ä¸‹ä¸€å­—ç¬¦æ ‡è®°ä¸ºç‰¹æ®Šå­—ç¬¦ã€æ–‡æœ¬ã€åå‘å¼•ç”¨æˆ–å…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œå­—ç¬¦ n åŒ¹é…å­—ç¬¦ nã€‚\\n åŒ¹é…æ¢è¡Œç¬¦ã€‚åºåˆ— \\\\ åŒ¹é… \\ï¼Œåºåˆ— \\( åŒ¹é… (ã€‚ / è¡¨ç¤ºæ–‡æœ¬æ­£åˆ™è¡¨è¾¾å¼çš„å¼€å§‹æˆ–ç»“æŸã€‚è‹¥è¦åŒ¹é… / å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\/ã€‚ &#123;&#125; æ ‡è®°é™å®šç¬¦è¡¨è¾¾å¼çš„å¼€å§‹ã€‚è‹¥è¦åŒ¹é…è¿™äº›å­—ç¬¦ï¼Œè¯·ä½¿ç”¨ \\&#123; å’Œ \\&#125;ã€‚ ç«–çº¿ æŒ‡å‡ºåœ¨ä¸¤ä¸ªé¡¹ä¹‹é—´è¿›è¡Œé€‰æ‹©ã€‚è¦åŒ¹é…ç«–çº¿ï¼Œè¯·ä½¿ç”¨ \\ ç«–çº¿ã€‚ æ­£åˆ™è¡¨è¾¾å¼åºåˆ—ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åºåˆ—åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼å› å­ã€‚æ¯ä¸ªå› å­èƒ½é€‰æ‹©æ˜¯å¦è·Ÿéšä¸€ä¸ªé‡è¯ï¼Œè¿™ä¸ªé‡è¯å†³å®šäº†è¿™ä¸ªå› å­è¢«å…è®¸å‡ºç°çš„æ¬¡æ•°ã€‚å¦‚æœæ²¡æœ‰é‡è¯ï¼Œåˆ™åªåŒ¹é…ä¸€æ¬¡ã€‚ 123var patt = /\\d&#123;3&#125;\\.\\d/;var str = &#x27;abc1893.65d&#x27;;patt.exec( str ); // åŒ¹é…&#x27;893.6&#x27; æ­£åˆ™è¡¨è¾¾å¼åˆ†æ”¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åˆ†æ”¯åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼åºåˆ—ã€‚è¿™äº›åºåˆ—è¢«|å­—ç¬¦åˆ†éš”ã€‚å¦‚æœè¿™äº›åºåˆ—ä¸­çš„ä»»ä½•ä¸€é¡¹ç¬¦åˆåŒ¹é…æ¡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªé€‰æ‹©å°±è¢«åŒ¹é…ã€‚å®ƒä¼šæŒ‰ç…§ä¹¦å†™é¡ºåºä»å·¦åˆ°å³ä¾æ¬¡åŒ¹é…è¿™äº›åºåˆ—ã€‚ 123var str = &#x27;information&#x27;;str.match( /or|for/ ); // åŒ¹é…&#x27;for&#x27;str.match( /or|orm/ ); // åŒ¹é…&#x27;or&#x27; æ­£åˆ™è¡¨è¾¾å¼åˆ†ç»„æ­£åˆ™è¡¨è¾¾å¼çš„åˆ†ç»„å…±æœ‰6ç§ã€‚ (...)æ•è·å‹ï¼Œæ•è·å‹åˆ†ç»„æ˜¯ä¸€ä¸ªè¢«åŒ…å›´åœ¨åœ†æ‹¬å·ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼åˆ†æ”¯ã€‚ä»»ä½•åŒ¹é…è¿™ä¸ªåˆ†ç»„çš„å­—ç¬¦éƒ½ä¼šè¢«æ•è·ã€‚æ¯ä¸ªæ•è·åˆ†ç»„éƒ½å°†æœ‰ä¸€ä¸ªç¼–å·ã€‚ç¬¬ä¸€ä¸ªæ•è·åˆ†ç»„çš„ç¼–å·æ˜¯ 1ï¼Œä»¥æ­¤ç±»æ¨ã€‚ 12/(:\\d+)/.exec( &#x27;bubuzou.com:80/&#x27; ); // ç»“æœæ˜¯[&#x27;:80&#x27;, &#x27;:80&#x27;]ï¼Œç¬¬ä¸€ä¸ª&#x27;:80&#x27;è¡¨ç¤ºæ•´ä¸ªæ­£åˆ™çš„åŒ¹é…ï¼Œç¬¬äºŒä¸ª&#x27;:80&#x27;è¡¨ç¤ºæ•è·åˆ†ç»„1çš„åŒ¹é… (?:...) éæ•è·å‹ï¼Œä»…åšç®€å•çš„åŒ¹é…ï¼Œå¹¶ä¸ä¼šæ•è·æ‰€åŒ¹é…çš„æ–‡æœ¬ã€‚ä¹Ÿä¸ä¼šè¿›è¡Œç¼–å·ã€‚ 1/(?::\\d+)/.exec( &#x27;bubuzou.com:80/&#x27; ); ç»“æœæ˜¯[&#x27;:80&#x27;]ï¼Œä¸åŒ…å«åˆ†ç»„æ•è·ã€‚ (?=pattern) æ­£å‘è‚¯å®šé¢„æŸ¥ã€‚åŒ¹é…å…¶è·Ÿéšäº† pattern çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚ 1/window(?=95|98|2000)/.exec( &#x27;window98&#x27; ); // åŒ¹é…&#x27;window&#x27; (?!pattern) æ­£å‘å¦å®šé¢„æŸ¥ã€‚åŒ¹é…å…¶æ²¡æœ‰è·Ÿéšäº† pattern çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚ 1/window(?!95|98|2000)/.exec( &#x27;windowNT&#x27; ); // åŒ¹é…&#x27;window&#x27; (?&lt;=pattern) åå‘è‚¯å®šé¢„æŸ¥ã€‚åŒ¹é…å‰é¢å¸¦ pattern çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚ 1/(?&lt;=95|98|2000)windows/.exec( &#x27;95windows&#x27; ); // åŒ¹é…&#x27;windows&#x27; (?&lt;!pattern) åå‘å¦å®šé¢„æŸ¥ã€‚åŒ¹é…å‰é¢æ²¡æœ‰å¸¦ pattern çš„å­—ç¬¦ä¸²ã€‚è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„ç‰¹æ€§ã€‚ RegExpå¯¹è±¡æ–¹æ³• æ–¹æ³• æè¿° regexp.exec(string) æ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å€¼ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œåˆ™è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚æ•°ç»„ä¸­ä¸‹æ ‡ä¸º 0 çš„å€¼è¡¨ç¤ºåŒ¹é…çš„å­å­—ç¬¦ä¸²ï¼Œä¸‹æ ‡ä¸º1çš„å€¼æ˜¯åˆ†ç»„1æ•è·çš„æ–‡æœ¬ã€‚å¦‚æœåŒ¹é…å¤±è´¥ï¼Œåˆ™ä¼šè¿”å› null. regexp.test(string) æ£€ç´¢å­—ç¬¦ä¸²ä¸­æŒ‡å®šçš„å€¼ã€‚è¿”å› true æˆ– falseã€‚ test æ–¹æ³•ä¸­ä¸éœ€è¦å¯¹ regexp è¿›è¡Œå…¨å±€åŒ¹é…çš„é…ç½®ï¼Œå› ä¸ºç»“æœéƒ½ä¸€æ ·ã€‚ string.match(regexp) è·å–åŒ¹é…ç»“æœã€‚å¦‚æœæ²¡æœ‰ g æ ‡è¯†ï¼Œåˆ™ç»“æœå’Œ regexp.exec(string) ä¸€æ ·ã€‚å¦‚æœæœ‰ g æ ‡è¯†ï¼Œåˆ™è¿”å›åŒ…å«æ‰€æœ‰åŒ¹é…ç»“æœï¼ˆé™¤äº†åˆ†ç»„æ•è·ä¹‹å¤–ï¼‰çš„æ•°ç»„ã€‚ string.replace(searchValue, replaceValue) replace æ–¹æ³•å¯¹å­—ç¬¦ä¸²æ‰§è¡ŒæŸ¥æ‰¾å’Œæ›¿æ¢å·¥ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚å‚æ•° searchValue å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ã€‚å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™åœ¨å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„åœ°æ–¹è¢«æ›¿æ¢ã€‚å¦‚æœæ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸”å¸¦æœ‰ gï¼Œåˆ™ä¼šæ›¿æ¢æ‰€æœ‰åŒ¹é…ï¼Œå¦‚æœæ²¡æœ‰gåˆ™åªä¼šæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…ã€‚replaceValue å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…ä¸€ä¸ªå‡½æ•°ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°åˆ™æœ‰ç‰¹åˆ«å«ä¹‰ã€‚å¦‚æœæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œåˆ™æ¯é‡åˆ°ä¸€ä¸ªåŒ¹é…å‡½æ•°å°±ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè€Œå‡½æ•°è¿”å›çš„å­—ç¬¦ä¸²å°†ä½œä¸ºæ›¿æ¢çš„æ–‡æœ¬ã€‚ string.search(regexp) å’Œ indexOf æ–¹æ³•ç±»ä¼¼ï¼Œåªæ˜¯å®ƒæ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è€Œéå­—ç¬¦ä¸²ã€‚å¦‚æœæ‰¾åˆ°åŒ¹é…ï¼Œåˆ™è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„é¦–å­—ç¬¦çš„ä½ç½®ï¼Œæ²¡æ‰¾åˆ°å°±è¿”å› -1 string.split(separator, limit) æŠŠ string åˆ†å‰²æˆç‰‡æ®µæ¥åˆ›å»ºä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚limit å¯ä»¥é™åˆ¶åˆ†å‰²çš„æ•°é‡ã€‚separatorå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ­£åˆ™è¡¨è¾¾å¼ã€‚ regexp.exec(string)ï¼š 123456789// RegExpObject.exec(string);var str=&quot;user1abcuser2abc&quot;, patt=/user\\d/g, result;while ( ( result = patt.exec( str ) ) ) &#123; console.log( result );&#125;// ç¬¬ä¸€æ¬¡ï¼š[&quot;user1&quot;, index: 0, input: &quot;user1abcuser2abc&quot;]// ç¬¬äºŒæ¬¡ï¼š[&quot;user2&quot;, index: 8, input: &quot;user1abcuser2abc&quot;] å¦‚æœregexpå¸¦æœ‰gæ ‡è¯†ï¼Œé‚£ä¹ˆæŸ¥æ‰¾ä¸æ˜¯ä»è¿™ä¸ªå­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®å¼€å§‹ï¼Œè€Œæ˜¯ä»regexp.lastIndexä½ç½®å¼€å§‹ã€‚å¦‚æœåŒ¹é…æˆåŠŸï¼Œé‚£ä¹ˆregexp.lastIndexå°†è¢«è®¾ç½®ä¸ºè¯¥åŒ¹é…åç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚ä¸æˆåŠŸçš„åŒ¹é…ä¼šå°†regexpé‡æ–°è®¾ç½®ä¸º0ã€‚ regexp.test(string)ï¼š 1/Hello/i.test( &#x27;hello world&#x27; ); // true string.match(regexp)ï¼š 12&#x27;user1abcuser2abc&#x27;.match( /user\\d/g ); // [&#x27;user1&#x27;, &#x27;user2&#x27;]&#x27;user1abcuser2abc&#x27;.match( /user\\d/ ); // [&#x27;user1&#x27;] string.replace(searchValue, replaceValue)ï¼š 123var patt = /\\((\\d&#123;3&#125;)\\)/g, str = &#x27;(555)666-1212&#x27;.replace(patt, &#x27;$1-&#x27;);console.log(str); // ç»“æœï¼š&#x27;555-666-1212&#x27; ç¾å…ƒç¬¦å·åºåˆ— æ›¿æ¢å¯¹è±¡ $$ $ $&amp; æ•´ä¸ªåŒ¹é…çš„æ–‡æœ¬ $number åˆ†ç»„åŒ¹é…çš„æ–‡æœ¬ $ åŒ¹é…ä¹‹å‰çš„æ–‡æœ¬ $ åŒ¹é…ä¹‹åçš„æ–‡æœ¬ string.search(regexp)ï¼š 1&#x27;hello world&#x27;.search( /world/ ); // 6 string.split(separator, limit)ï¼š 12&#x27;123456&#x27;.split(&#x27;&#x27;, 3); // [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;]&#x27;last, first, middle&#x27;.split(/\\s*,\\s*/); // [&#x27;last&#x27;, &#x27;first&#x27;, &#x27;middle&#x27;] æ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦è¡¨ é‡è¯ æè¿° * é›¶æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œzo åŒ¹é… z å’Œ zooã€‚ ç­‰æ•ˆäº &#123;0,&#125;ã€‚ + ä¸€æ¬¡æˆ–å¤šæ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œzo+ åŒ¹é… zo å’Œ zooï¼Œä½†ä¸åŒ¹é… zã€‚+ ç­‰æ•ˆäº &#123;1,&#125;ã€‚ ? é›¶æ¬¡æˆ–ä¸€æ¬¡åŒ¹é…å‰é¢çš„å­—ç¬¦æˆ–å­è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œdo(es)? åŒ¹é… do æˆ– does ä¸­çš„ doã€‚? ç­‰æ•ˆäº &#123;0,1&#125;ã€‚ &#123;n&#125; n æ˜¯éè´Ÿæ•´æ•°ã€‚æ­£å¥½åŒ¹é… n æ¬¡ã€‚ä¾‹å¦‚ï¼Œo&#123;2&#125; ä¸åŒ¹é… Bob ä¸­çš„ oï¼Œä½†åŒ¹é… food ä¸­çš„ä¸¤ä¸ª oã€‚ &#123;n,&#125; n æ˜¯éè´Ÿæ•´æ•°ã€‚è‡³å°‘åŒ¹é… n æ¬¡ã€‚ä¾‹å¦‚ï¼Œo&#123;2,&#125; ä¸åŒ¹é… Bob ä¸­çš„ oï¼Œè€ŒåŒ¹é… foooood ä¸­çš„æ‰€æœ‰ oã€‚o&#123;1,&#125; ç­‰æ•ˆäº o+ã€‚o&#123;0,&#125; ç­‰æ•ˆäº o*ã€‚ &#123;n,m&#125; m å’Œ n æ˜¯éè´Ÿæ•´æ•°ï¼Œå…¶ä¸­ n &lt;= mã€‚åŒ¹é…è‡³å°‘ n æ¬¡ï¼Œè‡³å¤š m æ¬¡ã€‚ä¾‹å¦‚ï¼Œo&#123;1,3&#125; åŒ¹é… fooooood ä¸­çš„å¤´ä¸‰ä¸ª oã€‚o&#123;0,1&#125; ç­‰æ•ˆäº o?ã€‚æ³¨æ„ï¼šæ‚¨ä¸èƒ½å°†ç©ºæ ¼æ’å…¥é€—å·å’Œæ•°å­—ä¹‹é—´ã€‚ æ–¹æ‹¬å·ï¼šæ–¹æ‹¬å·ç”¨äºæŸ¥æ‰¾æŸä¸ªèŒƒå›´å†…çš„å­—ç¬¦ è¡¨è¾¾å¼ æè¿° [abc] æŸ¥æ‰¾æ–¹æ‹¬å·ä¹‹é—´çš„ä»»ä½•å­—ç¬¦ [^abc] æŸ¥æ‰¾ä»»ä½•ä¸åœ¨æ–¹æ‹¬å·ä¹‹é—´çš„å­—ç¬¦ [0-9] æŸ¥æ‰¾ä»»ä½•ä» 0 è‡³ 9 çš„æ•°å­— [a-z] æŸ¥æ‰¾ä»»ä½•ä»å°å†™ a è‡³å°å†™ a çš„å­—ç¬¦ () åŒ¹é…ä¸€ä¸ªå­è¡¨è¾¾å¼çš„å¼€å§‹å’Œç»“æŸä½ç½® å…ƒå­—ç¬¦ï¼šæ‹¥æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ å…ƒå­—ç¬¦ æè¿° . æŸ¥æ‰¾å•ä¸ªå­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œå’Œè¡Œç»“æŸç¬¦ \\w æŸ¥æ‰¾å•è¯å­—ç¬¦ \\W æŸ¥æ‰¾éå•æ¬¡å­—ç¬¦ \\b åŒ¹é…ä¸€ä¸ªå­—çš„è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½® \\B éå­—ç¬¦è¾¹ç•ŒåŒ¹é… \\d æŸ¥æ‰¾æ•°å­— \\D æŸ¥æ‰¾éæ•°å­—å­—ç¬¦ \\s æŸ¥æ‰¾ç©ºç™½å­—ç¬¦ \\S æŸ¥æ‰¾éç©ºç™½å­—ç¬¦","categories":[{"name":"webç»¼åˆ","slug":"webç»¼åˆ","permalink":"https://bubuzou.com/categories/web%E7%BB%BC%E5%90%88/"}],"tags":[{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://bubuzou.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]}],"categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/categories/JavaScript/"},{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/categories/vue/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://bubuzou.com/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"webç»¼åˆ","slug":"webç»¼åˆ","permalink":"https://bubuzou.com/categories/web%E7%BB%BC%E5%90%88/"},{"name":"git","slug":"git","permalink":"https://bubuzou.com/categories/git/"},{"name":"css","slug":"css","permalink":"https://bubuzou.com/categories/css/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"https://bubuzou.com/tags/JavaScript/"},{"name":"vue","slug":"vue","permalink":"https://bubuzou.com/tags/vue/"},{"name":"å°ç¨‹åºã€wepy","slug":"å°ç¨‹åºã€wepy","permalink":"https://bubuzou.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E3%80%81wepy/"},{"name":"node","slug":"node","permalink":"https://bubuzou.com/tags/node/"},{"name":"jest","slug":"jest","permalink":"https://bubuzou.com/tags/jest/"},{"name":"vue-test-utils","slug":"vue-test-utils","permalink":"https://bubuzou.com/tags/vue-test-utils/"},{"name":"å•å…ƒæµ‹è¯•","slug":"å•å…ƒæµ‹è¯•","permalink":"https://bubuzou.com/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"},{"name":"git","slug":"git","permalink":"https://bubuzou.com/tags/git/"},{"name":"å›¾åƒ","slug":"å›¾åƒ","permalink":"https://bubuzou.com/tags/%E5%9B%BE%E5%83%8F/"},{"name":"upload","slug":"upload","permalink":"https://bubuzou.com/tags/upload/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","permalink":"https://bubuzou.com/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"element-ui","slug":"element-ui","permalink":"https://bubuzou.com/tags/element-ui/"},{"name":"æ€§èƒ½ä¼˜åŒ–","slug":"æ€§èƒ½ä¼˜åŒ–","permalink":"https://bubuzou.com/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"},{"name":"css","slug":"css","permalink":"https://bubuzou.com/tags/css/"},{"name":"svg","slug":"svg","permalink":"https://bubuzou.com/tags/svg/"},{"name":"chrome","slug":"chrome","permalink":"https://bubuzou.com/tags/chrome/"},{"name":"æ­£åˆ™è¡¨è¾¾å¼","slug":"æ­£åˆ™è¡¨è¾¾å¼","permalink":"https://bubuzou.com/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"}]}