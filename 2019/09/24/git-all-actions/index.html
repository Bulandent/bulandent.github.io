<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="baidu-site-verification" content="1EB8XoOl0C"><meta name="google-site-verification" content="K7thEgdLm0UfRWJ5MGdF7sCcjClSzAlxFLPv2Oz5CGM"><title> Git常用操作，一文打尽 · 步步走</title><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="description" content="git常用操作，包括创建版本库、设置配置信息、修改和提交、撤销、查看提交历史、分支和标签、合并和衍合、远程操作等"><meta name="keywords" content="git branch、git remote、git merge、git rebase"><meta name="author" content="typeR"><link rel="short icon" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/favicon.ico"><link rel="stylesheet" href="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/bubuzou.css"><link rel="search" type="application/opensearchdescription+xml" href="https://bubuzou.com/atom.xml" title="步步走"><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script><meta name="generator" content="Hexo 5.0.0"><link rel="alternate" href="/atom.xml" title="步步走" type="application/atom+xml">
</head><body><header><div class="header row"> <a href="/" class="logo-link"><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/logo.svg"></a><ul id="nav_list" class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" data-hover="博文" class="nav-list-link">博文</a></li><li class="nav-list-item"><a href="/archives/" target="_self" data-hover="归档" class="nav-list-link">归档</a></li><li class="nav-list-item"><a href="/categories/live/" target="_self" data-hover="生活" class="nav-list-link">生活</a></li><li class="nav-list-item"><a href="/categories/read/" target="_self" data-hover="读书" class="nav-list-link">读书</a></li><li class="nav-list-item"><a href="/about/" target="_self" data-hover="关于" class="nav-list-link">关于</a></li></ul><div class="search"><a id="search_btn" href="#search"></a></div><div id="nav_btn" class="nav-btn"><span></span><span></span><span></span></div></div></header><div class="row scroll-con"><section class="container"><!-- for archive page--><div id="postAr" class="post"><article class="post-block"><h1 class="post-title">Git常用操作，一文打尽</h1><div class="post-info">2019-09-24<p class="visit"><i data-identity="2019/09/24/git-all-actions/" class="article-timer"></i><span>次访问</span></p></div><div class="post-content"><p><img src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/2019/git_all_01.png" alt="git_flow"></p>
<h2 id="创建版本库"><a href="#创建版本库" class="headerlink" title="创建版本库"></a>创建版本库</h2><ul>
<li><code>git clone url</code> 克隆远程版本库</li>
<li><code>git init</code> 初始化本地版本库</li>
</ul>
<a id="more"></a>

<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><ul>
<li><code>git config --global user.name &#39;chengcp&#39;</code> 配置<code>global</code>级别的用户名</li>
<li><code>git config --global user.email &#39;1326895569@qq.com&#39;</code> 配置<code>global</code>级别的邮箱</li>
<li><code>git config --global -l</code> 查看<code>global</code>级别的配置列表</li>
<li><code>git config --global --unset user.name</code> 删除用户名</li>
<li><code>git config --global alias.last &#39;log -1 HEAD&#39;</code> 配置<code>last</code>别名，使用<code>git last</code>将显示最近的一次提交记录</li>
</ul>
<h2 id="添加和删除文件"><a href="#添加和删除文件" class="headerlink" title="添加和删除文件"></a>添加和删除文件</h2><ul>
<li><code>git add file1 file2</code> 添加指定文件到暂存区</li>
<li><code>git add dir</code> 添加指定目录到暂存区</li>
<li><code>git add .</code> 添加当前目录的所有文件到暂存区</li>
<li><code>git mv oldname newname</code> 对一个已经追踪过的文件进行改名，同时加入暂存区</li>
<li><code>git rm file1 file2</code> 删除工作区文件，同时将这次删除放入暂存区</li>
<li><code>git rm --cached file</code> 停止追踪指定文件，但该文件会保留在工作区；<code>tracked</code>变成<code>untracked</code></li>
</ul>
<h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><ul>
<li><code>git commit file1 file 2 -m message</code> 提交暂存区指定文件到本地仓库</li>
<li><code>git commit -m message</code> 提交暂存区所有文件到本地仓库</li>
<li><code>git commit -a -m message</code> 自动暂存所有已经追踪过的文件，且提交到本地仓库</li>
<li><code>git commit --amend -m message</code> 使用一次新的提交，替代上次提交</li>
</ul>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><ul>
<li><code>git branch</code> 查看所有本地分支</li>
<li><code>git branch –r</code> 查看所有远程分支</li>
<li><code>git branch –a</code> 查看所有远程和本地分支</li>
<li><code>git branch –v</code> 查看本地所有分支最新一次提交信息</li>
<li><code>git branch [branch]</code> 新建分支</li>
<li><code>git checkout –b [branch]</code> 新建一个分支，并且切换过去</li>
<li><code>git branch [branch] [commit]</code> 基于某次提交，建立一个分支</li>
<li><code>git branch --track [branch] [remote-branch]</code> 建立一个分支，并且与远程分支建立追踪关系</li>
<li><code>git branch --set-upstream [branch] [remote-branch]</code> 在现有的本地分支和远程分支之间建立追踪关系</li>
<li><code>git branch –m [old-branch] [new-branch]</code> 重命名分支</li>
<li><code>git merge [branch]</code> 把指定分支合并到当前分支</li>
<li><code>git chery-pick [commit] [commit]</code> 选择提交，合并进当前分支</li>
<li><code>git branch –d [branch]</code> 删除本地分支</li>
<li><code>git push origin –d [branch]</code> 删除远程分支</li>
<li><code>git checkout [branch]</code> 切换分支</li>
<li><code>git checkout -</code> 切换到上一个最近使用过的分支</li>
</ul>
<h2 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h2><ul>
<li><code>git tag</code> 列出所有标签</li>
<li><code>git show [tag]</code> 查看指定标签信息</li>
<li><code>git tag [tag]</code> 给最近一次提交打一个标签</li>
<li><code>git tag [tag] [commit]</code> 在某次提交上打一个标签</li>
<li><code>git tag –d [tag]</code> 删除本地指定标签</li>
<li><code>git push origin –d tag [tag]</code> 删除远程的标签</li>
<li><code>git push origin [tag]</code> 推送指定标签</li>
<li><code>git push origin --tags</code> 推送所有标签</li>
</ul>
<h2 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h2><ul>
<li><code>git status</code> 查看文件状态</li>
<li><code>git help [command]</code> 获取帮助文档</li>
<li><code>git [command] --help</code> 获取帮助文档</li>
<li><code>git log</code> 查看当前分支的提交记录</li>
<li><code>git log –all</code> 查看所有分支的提交记录</li>
<li><code>git log -5 --oneline --graph</code> 查看最近 5 次提交记录，以单行、树状图形式显示</li>
<li><code>git reflog</code> 查看本地所有变更记录</li>
<li><code>git diff</code> 查看工作区和暂存区的差异</li>
<li><code>git diff -- file</code> 某个文件在工作区和暂存区的差异</li>
<li><code>git diff HEAD</code> 工作区和最新一次提交的差异</li>
<li><code>git diff --cached</code> 暂存区和 HEAD 的差异</li>
<li><code>git diff branch_a branch_b – file</code> 某文件在两个分支间的差异</li>
</ul>
<h2 id="远程操作"><a href="#远程操作" class="headerlink" title="远程操作"></a>远程操作</h2><ul>
<li><code>git remote -v</code> 查看所有远程仓库</li>
<li><code>git ls-remote origin</code> 查看远程仓库引用列表</li>
<li><code>git remote show origin</code> 查看远程仓库信息</li>
<li><code>git fetch origin</code> 拉取远程仓库最新提交</li>
<li><code>git pull origin master</code> 拉取远程<code>master</code>，并且合并到本地当前分支</li>
<li><code>git remote add upstream url</code> 添加一个新的远程仓库，命名为<code>upstream</code></li>
<li><code>git push origin master</code> 推送到远程<code>origin</code>的<code>master</code>分支</li>
<li><code>git push origin --all</code> 推送所有分支到远程仓库</li>
<li><code>git remote prune origin</code> 删除远程仓库中不存在的分支</li>
</ul>
<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><ul>
<li><code>git reset --soft HEAD</code> 回滚到指定版本，保留工作区和暂存区</li>
<li><code>git reset --mixed HEAD</code> 回滚到指定版本，保留工作区，清空暂存区；<code>--mixed</code>是默认参数，即等同于<code>git reset HEAD</code></li>
<li><code>git reset --hard HEAD</code> 回滚到指定版本，清空工作区和暂存区</li>
<li><code>git reset HEAD -- file</code> 清空暂存区中某个文件的修改</li>
<li><code>git checkout -- file</code> 检出暂存区的文件到工作目录</li>
<li><code>git checkout .</code> 检出暂存区的所有文件到工作目录</li>
<li><code>git revert HEAD~ 2</code> 回滚到 2 个祖先提交的版本，同时产生新的提交记录</li>
<li><code>git revert --continue</code> 冲突解决，且把修改提交到暂存区后执行回滚，生成一个新的提交</li>
<li><code>git revert –abort</code> 取消回滚，回到之前的状态</li>
</ul>
<h2 id="储藏"><a href="#储藏" class="headerlink" title="储藏"></a>储藏</h2><ul>
<li><code>git stash</code> 将工作区和暂存区的变更保存到储藏堆栈中，同时工作区和暂存区恢复到<code>HEAD</code>一样</li>
<li><code>git stash list</code> 查看储藏列表</li>
<li><code>git stash pop</code> 应用最近的一次储藏，并且从储藏栈中移除该条记录</li>
<li><code>git stash apply stash@&#123;0&#125;</code> 应用最近的一次储藏，不移除记录；等同于 <code>git stash apply</code></li>
<li><code>git stash pop --index</code> 应用最近一次储藏，<code>--index</code>表示暂存区的变更也会更新，否则只更新工作区变更</li>
<li><code>git stash drop stash@&#123;0&#125;</code> 移除储藏记录</li>
</ul>
</div></article></div><div class="right-container"><div class="widget"><div id="arAnchorBar"></div></div></div></section></div><div class="right-menu"></div><div class="modal search-modal"><div class="input-field"><input type="text" id="search_input"><label for="search-input">搜索</label></div><div id="search_result" class="search-result"></div></div><div class="blog-overlay"></div><footer class="row"><div class="footer-con"><div class="paginator"><a href="/2019/10/24/Vue-Test-Utils+Jest/" title="Vue-Test-Utils + Jest 单元测试入门与实践" class="prev">上一篇</a><a href="/2019/07/26/vue-quill-editor/" title="vue-quill-editor插入图片路径太长问题解决" class="next">下一篇</a></div><a href="#comment" class="comment-anchor"></a><div id="vcomments"></div><script>new Valine({
    el: "#vcomments",
    appId: "aD8jJBpu4oew3ovNY73z6Rdq-gzGzoHsz",
    appKey: "FdzS5SOPHdhYQoEUngQ8K2QW",
    notify: false,
    verify: false,
    avatar: "robohash",
    visitor: true,
    placeholder: "随便说点什么～.～",
});</script><div class="copyright"><p>© 2016 - 2024 <a href="https://weibo.com/316000381" target="_blank">typeR</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <br> and <a href="https://github.com/Bulandent/hexo-theme-bubuzou" target="_blank">hexo-theme-bubuzou</a></p><p> <span style="padding-right: 6px;">闽ICP备16007301号-2</span></p></div><div class="totop"><i></i></div></div></footer><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/jquery-1.8.2.min.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/articleCatalog.js"></script><script src="https://bubuzou.oss-cn-shenzhen.aliyuncs.com/blog/202010/main.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>const valineAPI = (() => {
try {
    AV.init("aD8jJBpu4oew3ovNY73z6Rdq-gzGzoHsz", "FdzS5SOPHdhYQoEUngQ8K2QW");
} catch(error) {}
const isExist = (identity) => {
    identity = identity || getRealPath();
    let query = new AV.Query('Timer');
    return new Promise((resolve, reject) => {
    query.equalTo("identity", identity);
    query.find().then(results => {
        resolve(results.length > 0);
    }, error => reject(error));
    })
}

const _get = (identity) => {
    let query = null;
    if(identity && identity instanceof Array){
    let querys = [];
    for(let i = 0; i < identity.length; ++i) {
        querys[i] = new AV.Query('Timer');
        querys[i].equalTo('identity', identity[i]);
    }
    query = AV.Query.or.apply(null ,querys);
    } else {
    identity = identity || getRealPath();
    query = new AV.Query("Timer");
    query.equalTo("identity", identity);
    }

    return new Promise((resolve, reject) => {
    query.find()
    .then(results => resolve(results))
    .catch(error => reject(error))
    })
}

const create = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let Todo = AV.Object.extend('Timer');
    let todo = new Todo();
    todo.set("times", 1);
    todo.set("identity", identity);
    todo.save().then(res => resolve(true), error => reject(error));
    })
}

const update = (identity) => {
    identity = identity || getRealPath();
    return new Promise((resolve, reject) => {
    let query = new AV.Query('Timer');
    query.equalTo("identity", identity);
    query.find().then(todos => {
        todos.forEach(todo => {
        todo.set("times", todo.attributes.times + 1);
        });
        return AV.Object.saveAll(todos);
    }).then(todos => resolve(true), error => reject(error));
    })
}

return {
    isExist,
    _get,
    update,
    create
}
})()

const calcAndWriteTimes = () => {
let isPost = true;

let timerAllDOM = document.querySelectorAll(".article-timer");

if(isPost) {
    let identity = timerAllDOM[0].getAttribute("data-identity");
    valineAPI.isExist(identity)
    .then(exist => {
    if(exist) {
        return valineAPI.update(identity);
    }
    return new Promise(resolve => resolve(true));
    })
    .then( succuess => valineAPI._get(identity))
    .then( result => timerAllDOM[0].innerText = result[0].attributes.times)
    .catch(error => console.log(error.message))
    return ;
}

let timerDOMCache = {};

for(let timerDOM of timerAllDOM) {
    let identity = timerDOM.getAttribute("data-identity");
    if(timerDOMCache.hasOwnProperty(identity)){
    timerDOMCache[identity].dom.push(timerDOM);
    }else{
    timerDOMCache[identity] = {
        dom: [timerDOM],
        times: undefined
    };
    }
}

let identities = Object.keys(timerDOMCache);
valineAPI._get(identities).then(results => {
    for(let result of results) {
    let {identity, times} = result.attributes;
    timerDOMCache[identity].times = times;
    timerDOMCache[identity].dom.map(item => item.innerText = times);
    }
    for(let identity of identities) {
    if(timerDOMCache[identity].times){
        continue;
    }
    timerDOMCache[identity].dom.map(item => item.innerText = 1);
    valineAPI.create(identity);
    }
}).catch(error => console.log(error.message))
}

if(true){
calcAndWriteTimes();
}</script></body></html>